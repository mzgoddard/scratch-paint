module.exports=function(e){var t={};function n(i){if(t[i])return t[i].exports;var r=t[i]={i:i,l:!1,exports:{}};return e[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=e,n.c=t,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:i})},n.r=function(e){Object.defineProperty(e,"__esModule",{value:!0})},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=273)}([function(e,t){e.exports=require("react")},function(e,t,n){e.exports=n(268)()},function(e,t,n){var i,r,o,a=function(s,l){var u=(s=s||n(271)).window?s.window:s,c=s.document,d=new function(){var e=/^(statics|enumerable|beans|preserve)$/,t=[],n=t.slice,i=Object.create,r=Object.getOwnPropertyDescriptor,o=Object.defineProperty,a=t.forEach||function(e,t){for(var n=0,i=this.length;n<i;n++)e.call(t,this[n],n,this)},s=Object.assign||function(e){for(var t=1,n=arguments.length;t<n;t++){var i=arguments[t];for(var r in i)i.hasOwnProperty(r)&&(e[r]=i[r])}return e},u=function(e,t,n){if(e){var i=r(e,"length");(i&&"number"==typeof i.value?a:function(e,t){for(var n in this)this.hasOwnProperty(n)&&e.call(t,this[n],n,this)}).call(e,t,n=n||e)}return n};function c(t,n,i,a,s){var l={};function u(e,u){"string"==typeof(u=u||(u=r(n,e))&&(u.get?u:u.value))&&"#"===u[0]&&(u=t[u.substring(1)]||u);var c,h="function"==typeof u,f=u,p=s||h&&!u.base?u&&u.get?e in t:t[e]:null;s&&p||(h&&p&&(u.base=p),h&&!1!==a&&(c=e.match(/^([gs]et|is)(([A-Z])(.*))$/))&&(l[c[3].toLowerCase()+c[4]]=c[2]),f&&!h&&f.get&&"function"==typeof f.get&&d.isPlainObject(f)||(f={value:f,writable:!0}),(r(t,e)||{configurable:!0}).configurable&&(f.configurable=!0,f.enumerable=null!=i?i:!c),o(t,e,f))}if(n){for(var c in n)n.hasOwnProperty(c)&&!e.test(c)&&u(c);for(var c in l){var h=l[c],f=t["set"+h],p=t["get"+h]||f&&t["is"+h];!p||!0!==a&&0!==p.length||u(c,{get:p,set:f})}}return t}function d(){for(var e=0,t=arguments.length;e<t;e++){var n=arguments[e];n&&s(this,n)}return this}return c(d,{inject:function(e){if(e){var t=!0===e.statics?e:e.statics,n=e.beans,i=e.preserve;t!==e&&c(this.prototype,e,e.enumerable,n,i),c(this,t,null,n,i)}for(var r=1,o=arguments.length;r<o;r++)this.inject(arguments[r]);return this},extend:function(){for(var e,t,n,r=this,a=0,s=arguments.length;a<s&&(!e||!t);a++)n=arguments[a],e=e||n.initialize,t=t||n.prototype;return t=(e=e||function(){r.apply(this,arguments)}).prototype=t||i(this.prototype),o(t,"constructor",{value:e,writable:!0,configurable:!0}),c(e,this),arguments.length&&this.inject.apply(e,arguments),e.base=r,e}}).inject({enumerable:!1,initialize:d,set:d,inject:function(){for(var e=0,t=arguments.length;e<t;e++){var n=arguments[e];n&&c(this,n,n.enumerable,n.beans,n.preserve)}return this},extend:function(){var e=i(this);return e.inject.apply(e,arguments)},each:function(e,t){return u(this,e,t)},clone:function(){return new this.constructor(this)},statics:{set:s,each:u,create:i,define:o,describe:r,clone:function(e){return s(new e.constructor,e)},isPlainObject:function(e){var t=null!=e&&e.constructor;return t&&(t===Object||t===d||"Object"===t.name)},pick:function(e,t){return e!==l?e:t},slice:function(e,t,i){return n.call(e,t,i)}}})};e.exports=d,d.inject({enumerable:!1,toString:function(){return null!=this._id?(this._class||"Object")+(this._name?" '"+this._name+"'":" @"+this._id):"{ "+d.each(this,function(e,t){if(!/^_/.test(t)){var n=typeof e;this.push(t+": "+("number"===n?m.instance.number(e):"string"===n?"'"+e+"'":e))}},[]).join(", ")+" }"},getClassName:function(){return this._class||""},importJSON:function(e){return d.importJSON(e,this)},exportJSON:function(e){return d.exportJSON(this,e)},toJSON:function(){return d.serialize(this)},set:function(e,t){return e&&d.filter(this,e,t,this._prioritize),this}},{beans:!1,statics:{exports:{},extend:function e(){var t=e.base.apply(this,arguments),n=t.prototype._class;return n&&!d.exports[n]&&(d.exports[n]=t),t},equals:function(e,t){if(e===t)return!0;if(e&&e.equals)return e.equals(t);if(t&&t.equals)return t.equals(e);if(e&&t&&"object"==typeof e&&"object"==typeof t){if(Array.isArray(e)&&Array.isArray(t)){if((n=e.length)!==t.length)return!1;for(;n--;)if(!d.equals(e[n],t[n]))return!1}else{var n,i=Object.keys(e);if((n=i.length)!==Object.keys(t).length)return!1;for(;n--;){var r=i[n];if(!t.hasOwnProperty(r)||!d.equals(e[r],t[r]))return!1}}return!0}return!1},read:function(e,t,n,i){if(this===d){var r=this.peek(e,t);return e.__index++,r}var o=this.prototype,a=o._readIndex,s=t||a&&e.__index||0,u=e.length,c=e[s];if(i=i||u-s,c instanceof this||n&&n.readNull&&null==c&&i<=1)return a&&(e.__index=s+1),c&&n&&n.clone?c.clone():c;if(c=d.create(o),a&&(c.__read=!0),c=c.initialize.apply(c,s>0||s+i<u?d.slice(e,s,s+i):e)||c,a){e.__index=s+c.__read;var h=c.__filtered;h&&(e.__filtered=h,c.__filtered=l),c.__read=l}return c},peek:function(e,t){return e[e.__index=t||e.__index||0]},remain:function(e){return e.length-(e.__index||0)},readList:function(e,t,n,i){for(var r,o=[],a=t||0,s=i?a+i:e.length,l=a;l<s;l++)o.push(Array.isArray(r=e[l])?this.read(r,0,n):this.read(e,l,n,1));return o},readNamed:function(e,t,n,i,r){var o=this.getNamed(e,t),a=o!==l;if(a){var s=e.__filtered;s||((s=e.__filtered=d.create(e[0])).__unfiltered=e[0]),s[t]=l}var u=a?[o]:e;return this.read(u,n,i,r)},getNamed:function(e,t){var n=e[0];if(e._hasObject===l&&(e._hasObject=1===e.length&&d.isPlainObject(n)),e._hasObject)return t?n[t]:e.__filtered||n},hasNamed:function(e,t){return!!this.getNamed(e,t)},filter:function(e,t,n,i){var r;function o(i){if(!(n&&i in n||r&&i in r)){var o=t[i];o!==l&&(e[i]=o)}}if(i){for(var a,s={},u=0,c=i.length;u<c;u++)(a=i[u])in t&&(o(a),s[a]=!0);r=s}return Object.keys(t.__unfiltered||t).forEach(o),e},isPlainValue:function(e,t){return d.isPlainObject(e)||Array.isArray(e)||t&&"string"==typeof e},serialize:function(e,t,n,i){t=t||{};var r,o=!i;if(o&&(t.formatter=new m(t.precision),i={length:0,definitions:{},references:{},add:function(e,t){var n="#"+e._id,i=this.references[n];if(!i){this.length++;var r=t.call(e),o=e._class;o&&r[0]!==o&&r.unshift(o),this.definitions[n]=r,i=this.references[n]=[n]}return i}}),e&&e._serialize){r=e._serialize(t,i);var a=e._class;!a||e._compactSerialize||!o&&n||r[0]===a||r.unshift(a)}else if(Array.isArray(e)){r=[];for(var s=0,l=e.length;s<l;s++)r[s]=d.serialize(e[s],t,n,i)}else if(d.isPlainObject(e)){r={};var u=Object.keys(e);for(s=0,l=u.length;s<l;s++){var c=u[s];r[c]=d.serialize(e[c],t,n,i)}}else r="number"==typeof e?t.formatter.number(e,t.precision):e;return o&&i.length>0?[["dictionary",i.definitions],r]:r},deserialize:function(e,t,n,i,r){var o=e,a=!n,s=a&&e&&e.length&&"dictionary"===e[0][0];if(n=n||{},Array.isArray(e)){var l=e[0],u="dictionary"===l;if(1==e.length&&/^#/.test(l))return n.dictionary[l];o=[];for(var c=(l=d.exports[l])?1:0,h=e.length;c<h;c++)o.push(d.deserialize(e[c],t,n,u,s));if(l){var f=o;t?o=t(l,f,a||r):(o=d.create(l.prototype),l.apply(o,f))}}else if(d.isPlainObject(e))for(var p in o={},i&&(n.dictionary=o),e)o[p]=d.deserialize(e[p],t,n);return s?o[1]:o},exportJSON:function(e,t){var n=d.serialize(e,t);return t&&0==t.asString?n:JSON.stringify(n)},importJSON:function(e,t){return d.deserialize("string"==typeof e?JSON.parse(e):e,function(e,n,i){var r=i&&t&&t.constructor===e,o=r?t:d.create(e.prototype);if(1===n.length&&o instanceof M&&(r||!(o instanceof T))){var a=n[0];d.isPlainObject(a)&&(a.insert=!1)}return(r?o.set:e).apply(o,n),r&&(t=null),o})},splice:function(e,t,n,i){var r=t&&t.length,o=n===l;(n=o?e.length:n)>e.length&&(n=e.length);for(var a=0;a<r;a++)t[a]._index=n+a;if(o)return e.push.apply(e,t),[];var s=[n,i];t&&s.push.apply(s,t);for(var u=e.splice.apply(e,s),c=(a=0,u.length);a<c;a++)u[a]._index=l;for(a=n+r,c=e.length;a<c;a++)e[a]._index=a;return u},capitalize:function(e){return e.replace(/\b[a-z]/g,function(e){return e.toUpperCase()})},camelize:function(e){return e.replace(/-(.)/g,function(e,t){return t.toUpperCase()})},hyphenate:function(e){return e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}}});var h={on:function(e,t){if("string"!=typeof e)d.each(e,function(e,t){this.on(t,e)},this);else{var n=this._eventTypes,i=n&&n[e],r=this._callbacks=this._callbacks||{};-1===(r=r[e]=r[e]||[]).indexOf(t)&&(r.push(t),i&&i.install&&1===r.length&&i.install.call(this,e))}return this},off:function(e,t){if("string"==typeof e){var n,i=this._eventTypes,r=i&&i[e],o=this._callbacks&&this._callbacks[e];return o&&(!t||-1!==(n=o.indexOf(t))&&1===o.length?(r&&r.uninstall&&r.uninstall.call(this,e),delete this._callbacks[e]):-1!==n&&o.splice(n,1)),this}d.each(e,function(e,t){this.off(t,e)},this)},once:function(e,t){return this.on(e,function(){t.apply(this,arguments),this.off(e,t)})},emit:function(e,t){var n=this._callbacks&&this._callbacks[e];if(!n)return!1;var i=d.slice(arguments,1),r=t&&t.target&&!t.currentTarget;n=n.slice(),r&&(t.currentTarget=this);for(var o=0,a=n.length;o<a;o++)if(0==n[o].apply(this,i)){t&&t.stop&&t.stop();break}return r&&delete t.currentTarget,!0},responds:function(e){return!(!this._callbacks||!this._callbacks[e])},attach:"#on",detach:"#off",fire:"#emit",_installEvents:function(e){var t=this._eventTypes,n=this._callbacks,i=e?"install":"uninstall";if(t)for(var r in n)if(n[r].length>0){var o=t[r],a=o&&o[i];a&&a.call(this,r)}},statics:{inject:function e(t){var n=t._events;if(n){var i={};d.each(n,function(e,n){var r="string"==typeof e,o=r?e:n,a=d.capitalize(o),s=o.substring(2).toLowerCase();i[s]=r?{}:e,o="_"+o,t["get"+a]=function(){return this[o]},t["set"+a]=function(e){var t=this[o];t&&this.off(s,t),e&&this.on(s,e),this[o]=e}}),t._eventTypes=i}return e.base.apply(this,arguments)}}},f=d.extend({_class:"PaperScope",initialize:function e(){a=this,this.settings=new d({applyMatrix:!0,insertItems:!0,handleSize:4,hitTolerance:0}),this.project=null,this.projects=[],this.tools=[],this._id=e._id++,e._scopes[this._id]=this;var t=e.prototype;if(!this.support){var n=se.getContext(1,1)||{};t.support={nativeDash:"setLineDash"in n||"mozDash"in n,nativeBlendModes:le.nativeModes},se.release(n)}if(!this.agent){var i=s.navigator.userAgent.toLowerCase(),r=(/(darwin|win|mac|linux|freebsd|sunos)/.exec(i)||[])[0],o="darwin"===r?"mac":r,l=t.agent=t.browser={platform:o};o&&(l[o]=!0),i.replace(/(opera|chrome|safari|webkit|firefox|msie|trident|atom|node)\/?\s*([.\d]+)(?:.*version\/([.\d]+))?(?:.*rv\:v?([.\d]+))?/g,function(e,t,n,i,r){if(!l.chrome){var o="opera"===t?i:/^(node|trident)$/.test(t)?r:n;l.version=o,l.versionNumber=parseFloat(o),t="trident"===t?"msie":t,l.name=t,l[t]=!0}}),l.chrome&&delete l.webkit,l.atom&&delete l.chrome}},version:"0.11.5",getView:function(){var e=this.project;return e&&e._view},getPaper:function(){return this},execute:function(e,t){a.PaperScript.execute(e,this,t),J.updateFocus()},install:function(e){var t=this;for(var n in d.each(["project","view","tool"],function(n){d.define(e,n,{configurable:!0,get:function(){return t[n]}})}),this)!/^_/.test(n)&&this[n]&&(e[n]=this[n])},setup:function(e){return a=this,this.project=new E(e),this},createCanvas:function(e,t){return se.getCanvas(e,t)},activate:function(){a=this},clear:function(){for(var e=this.projects,t=this.tools,n=e.length-1;n>=0;n--)e[n].remove();for(n=t.length-1;n>=0;n--)t[n].remove()},remove:function(){this.clear(),delete f._scopes[this._id]},statics:new function(){function e(e){return e+="Attribute",function(t,n){return t[e](n)||t[e]("data-paper-"+n)}}return{_scopes:{},_id:0,get:function(e){return this._scopes[e]||null},getAttribute:e("get"),hasAttribute:e("has")}}}),p=d.extend(h,{initialize:function(e){this._scope=a,this._index=this._scope[this._list].push(this)-1,!e&&this._scope[this._reference]||this.activate()},activate:function(){if(!this._scope)return!1;var e=this._scope[this._reference];return e&&e!==this&&e.emit("deactivate"),this._scope[this._reference]=this,this.emit("activate",e),!0},isActive:function(){return this._scope[this._reference]===this},remove:function(){return null!=this._index&&(d.splice(this._scope[this._list],null,this._index,1),this._scope[this._reference]==this&&(this._scope[this._reference]=null),this._scope=null,!0)},getView:function(){return this._scope.getView()}}),m=d.extend({initialize:function(e){this.precision=d.pick(e,5),this.multiplier=Math.pow(10,this.precision)},number:function(e){return this.precision<16?Math.round(e*this.multiplier)/this.multiplier:e},pair:function(e,t,n){return this.number(e)+(n||",")+this.number(t)},point:function(e,t){return this.number(e.x)+(t||",")+this.number(e.y)},size:function(e,t){return this.number(e.width)+(t||",")+this.number(e.height)},rectangle:function(e,t){return this.point(e,t)+(t||",")+this.size(e,t)}});m.instance=new m;var g=new function(){var e=[[.5773502691896257],[0,.7745966692414834],[.33998104358485626,.8611363115940526],[0,.5384693101056831,.906179845938664],[.2386191860831969,.6612093864662645,.932469514203152],[0,.4058451513773972,.7415311855993945,.9491079123427585],[.1834346424956498,.525532409916329,.7966664774136267,.9602898564975363],[0,.3242534234038089,.6133714327005904,.8360311073266358,.9681602395076261],[.14887433898163122,.4333953941292472,.6794095682990244,.8650633666889845,.9739065285171717],[0,.26954315595234496,.5190961292068118,.7301520055740494,.8870625997680953,.978228658146057],[.1252334085114689,.3678314989981802,.5873179542866175,.7699026741943047,.9041172563704749,.9815606342467192],[0,.2304583159551348,.44849275103644687,.6423493394403402,.8015780907333099,.9175983992229779,.9841830547185881],[.10805494870734367,.31911236892788974,.5152486363581541,.6872929048116855,.827201315069765,.9284348836635735,.9862838086968123],[0,.20119409399743451,.3941513470775634,.5709721726085388,.7244177313601701,.8482065834104272,.937273392400706,.9879925180204854],[.09501250983763744,.2816035507792589,.45801677765722737,.6178762444026438,.755404408355003,.8656312023878318,.9445750230732326,.9894009349916499]],t=[[1],[.8888888888888888,.5555555555555556],[.6521451548625461,.34785484513745385],[.5688888888888889,.47862867049936647,.23692688505618908],[.46791393457269104,.3607615730481386,.17132449237917036],[.4179591836734694,.3818300505051189,.27970539148927664,.1294849661688697],[.362683783378362,.31370664587788727,.22238103445337448,.10122853629037626],[.3302393550012598,.31234707704000286,.26061069640293544,.1806481606948574,.08127438836157441],[.29552422471475287,.26926671930999635,.21908636251598204,.1494513491505806,.06667134430868814],[.2729250867779006,.26280454451024665,.23319376459199048,.18629021092773426,.1255803694649046,.05566856711617366],[.24914704581340277,.2334925365383548,.20316742672306592,.16007832854334622,.10693932599531843,.04717533638651183],[.2325515532308739,.22628318026289723,.2078160475368885,.17814598076194574,.13887351021978725,.09212149983772845,.04048400476531588],[.2152638534631578,.2051984637212956,.18553839747793782,.15720316715819355,.12151857068790319,.08015808715976021,.03511946033175186],[.2025782419255613,.19843148532711158,.1861610000155622,.16626920581699392,.13957067792615432,.10715922046717194,.07036604748810812,.03075324199611727],[.1894506104550685,.18260341504492358,.16915651939500254,.14959598881657674,.12462897125553388,.09515851168249279,.062253523938647894,.027152459411754096]],n=Math.abs,i=Math.sqrt,r=Math.pow,o=Math.log2||function(e){return Math.log(e)*Math.LOG2E};function a(e,t,n){return e<t?t:e>n?n:e}function s(e,t,i){function r(e){var t=134217729*e,n=e-t+t;return[n,e-n]}var o=t*t-e*i,a=t*t+e*i;if(3*n(o)<a){var s=r(e),l=r(t),u=r(i),c=t*t,d=e*i;o=c-d+(l[0]*l[0]-c+2*l[0]*l[1]+l[1]*l[1]-(s[0]*u[0]-d+s[0]*u[1]+s[1]*u[0]+s[1]*u[1]))}return o}function l(){var e=Math.max.apply(Math,arguments);return e&&(e<1e-8||e>1e8)?r(2,-Math.round(o(e))):0}return{EPSILON:1e-12,MACHINE_EPSILON:1.12e-16,CURVETIME_EPSILON:1e-8,GEOMETRIC_EPSILON:1e-7,TRIGONOMETRIC_EPSILON:1e-8,KAPPA:4*(i(2)-1)/3,isZero:function(e){return e>=-1e-12&&e<=1e-12},clamp:a,integrate:function(n,i,r,o){for(var a=e[o-2],s=t[o-2],l=.5*(r-i),u=l+i,c=0,d=o+1>>1,h=1&o?s[c++]*n(u):0;c<d;){var f=l*a[c];h+=s[c++]*(n(u+f)+n(u-f))}return l*h},findRoot:function(e,t,i,r,o,s,l){for(var u=0;u<s;u++){var c=e(i),d=c/t(i),h=i-d;if(n(d)<l){i=h;break}c>0?(o=i,i=h<=r?.5*(r+o):h):(r=i,i=h>=o?.5*(r+o):h)}return a(i,r,o)},solveQuadratic:function(e,t,r,o,u,c){var d,h=1/0;if(n(e)<1e-12){if(n(t)<1e-12)return n(r)<1e-12?-1:0;d=-r/t}else{var f=s(e,t*=-.5,r);if(f&&n(f)<1.12e-16){var p=l(n(e),n(t),n(r));p&&(f=s(e*=p,t*=p,r*=p))}if(f>=-1.12e-16){var m=f<0?0:i(f),g=t+(t<0?-m:m);0===g?h=-(d=r/e):(d=g/e,h=r/g)}}var v=0,y=null==u,_=u-1e-12,b=c+1e-12;return isFinite(d)&&(y||d>_&&d<b)&&(o[v++]=y?d:a(d,u,c)),h!==d&&isFinite(h)&&(y||h>_&&h<b)&&(o[v++]=y?h:a(h,u,c)),v},solveCubic:function(e,t,o,s,u,c,d){var h,f,p,m,v,y=l(n(e),n(t),n(o),n(s));function _(n){var i=e*(h=n);m=(i+(f=i+t))*h+(p=f*h+o),v=p*h+s}if(y&&(e*=y,t*=y,o*=y,s*=y),n(e)<1e-12)e=t,f=o,p=s,h=1/0;else if(n(s)<1e-12)f=t,p=o,h=0;else{_(-t/e/3);var b=v/e,w=r(n(b),1/3),C=b<0?-1:1,x=-m/e,S=x>0?1.324717957244746*Math.max(w,i(x)):w,k=h-C*S;if(k!==h){do{_(k),k=0===m?h:h-v/m/(1+1.12e-16)}while(C*k>C*h);n(e)*h*h>n(s/h)&&(f=((p=-s/h)-o)/h)}}var E=g.solveQuadratic(e,f,p,u,c,d),M=null==c;return isFinite(h)&&(0===E||E>0&&h!==u[0]&&h!==u[1])&&(M||h>c-1e-12&&h<d+1e-12)&&(u[E++]=M?h:a(h,c,d)),E}}},v={_id:1,_pools:{},get:function(e){if(e){var t=this._pools[e];return t||(t=this._pools[e]={_id:1}),t._id++}return this._id++}},y=d.extend({_class:"Point",_readIndex:!0,initialize:function(e,t){var n=typeof e,i=this.__read,r=0;if("number"===n){var o="number"==typeof t;this._set(e,o?t:e),i&&(r=o?2:1)}else if("undefined"===n||null===e)this._set(0,0),i&&(r=null===e?1:0);else{var a="string"===n?e.split(/[\s,]+/)||[]:e;r=1,Array.isArray(a)?this._set(+a[0],+(a.length>1?a[1]:a[0])):"x"in a?this._set(a.x||0,a.y||0):"width"in a?this._set(a.width||0,a.height||0):"angle"in a?(this._set(a.length||0,0),this.setAngle(a.angle||0)):(this._set(0,0),r=0)}return i&&(this.__read=r),this},set:"#initialize",_set:function(e,t){return this.x=e,this.y=t,this},equals:function(e){return this===e||e&&(this.x===e.x&&this.y===e.y||Array.isArray(e)&&this.x===e[0]&&this.y===e[1])||!1},clone:function(){return new y(this.x,this.y)},toString:function(){var e=m.instance;return"{ x: "+e.number(this.x)+", y: "+e.number(this.y)+" }"},_serialize:function(e){var t=e.formatter;return[t.number(this.x),t.number(this.y)]},getLength:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},setLength:function(e){if(this.isZero()){var t=this._angle||0;this._set(Math.cos(t)*e,Math.sin(t)*e)}else{var n=e/this.getLength();g.isZero(n)&&this.getAngle(),this._set(this.x*n,this.y*n)}},getAngle:function(){return 180*this.getAngleInRadians.apply(this,arguments)/Math.PI},setAngle:function(e){this.setAngleInRadians.call(this,e*Math.PI/180)},getAngleInDegrees:"#getAngle",setAngleInDegrees:"#setAngle",getAngleInRadians:function(){if(arguments.length){var e=y.read(arguments),t=this.getLength()*e.getLength();if(g.isZero(t))return NaN;var n=this.dot(e)/t;return Math.acos(n<-1?-1:n>1?1:n)}return this.isZero()?this._angle||0:this._angle=Math.atan2(this.y,this.x)},setAngleInRadians:function(e){if(this._angle=e,!this.isZero()){var t=this.getLength();this._set(Math.cos(e)*t,Math.sin(e)*t)}},getQuadrant:function(){return this.x>=0?this.y>=0?1:4:this.y>=0?2:3}},{beans:!1,getDirectedAngle:function(){var e=y.read(arguments);return 180*Math.atan2(this.cross(e),this.dot(e))/Math.PI},getDistance:function(){var e=y.read(arguments),t=e.x-this.x,n=e.y-this.y,i=t*t+n*n;return d.read(arguments)?i:Math.sqrt(i)},normalize:function(e){e===l&&(e=1);var t=this.getLength(),n=0!==t?e/t:0,i=new y(this.x*n,this.y*n);return n>=0&&(i._angle=this._angle),i},rotate:function(e,t){if(0===e)return this.clone();e=e*Math.PI/180;var n=t?this.subtract(t):this,i=Math.sin(e),r=Math.cos(e);return n=new y(n.x*r-n.y*i,n.x*i+n.y*r),t?n.add(t):n},transform:function(e){return e?e._transformPoint(this):this},add:function(){var e=y.read(arguments);return new y(this.x+e.x,this.y+e.y)},subtract:function(){var e=y.read(arguments);return new y(this.x-e.x,this.y-e.y)},multiply:function(){var e=y.read(arguments);return new y(this.x*e.x,this.y*e.y)},divide:function(){var e=y.read(arguments);return new y(this.x/e.x,this.y/e.y)},modulo:function(){var e=y.read(arguments);return new y(this.x%e.x,this.y%e.y)},negate:function(){return new y(-this.x,-this.y)},isInside:function(){return C.read(arguments).contains(this)},isClose:function(){var e=y.read(arguments),t=d.read(arguments);return this.getDistance(e)<=t},isCollinear:function(){var e=y.read(arguments);return y.isCollinear(this.x,this.y,e.x,e.y)},isColinear:"#isCollinear",isOrthogonal:function(){var e=y.read(arguments);return y.isOrthogonal(this.x,this.y,e.x,e.y)},isZero:function(){var e=g.isZero;return e(this.x)&&e(this.y)},isNaN:function(){return isNaN(this.x)||isNaN(this.y)},isInQuadrant:function(e){return this.x*(e>1&&e<4?-1:1)>=0&&this.y*(e>2?-1:1)>=0},dot:function(){var e=y.read(arguments);return this.x*e.x+this.y*e.y},cross:function(){var e=y.read(arguments);return this.x*e.y-this.y*e.x},project:function(){var e=y.read(arguments),t=e.isZero()?0:this.dot(e)/e.dot(e);return new y(e.x*t,e.y*t)},statics:{min:function(){var e=y.read(arguments),t=y.read(arguments);return new y(Math.min(e.x,t.x),Math.min(e.y,t.y))},max:function(){var e=y.read(arguments),t=y.read(arguments);return new y(Math.max(e.x,t.x),Math.max(e.y,t.y))},random:function(){return new y(Math.random(),Math.random())},isCollinear:function(e,t,n,i){return Math.abs(e*i-t*n)<=1e-8*Math.sqrt((e*e+t*t)*(n*n+i*i))},isOrthogonal:function(e,t,n,i){return Math.abs(e*n+t*i)<=1e-8*Math.sqrt((e*e+t*t)*(n*n+i*i))}}},d.each(["round","ceil","floor","abs"],function(e){var t=Math[e];this[e]=function(){return new y(t(this.x),t(this.y))}},{})),_=y.extend({initialize:function(e,t,n,i){this._x=e,this._y=t,this._owner=n,this._setter=i},_set:function(e,t,n){return this._x=e,this._y=t,n||this._owner[this._setter](this),this},getX:function(){return this._x},setX:function(e){this._x=e,this._owner[this._setter](this)},getY:function(){return this._y},setY:function(e){this._y=e,this._owner[this._setter](this)},isSelected:function(){return!!(this._owner._selection&this._getSelection())},setSelected:function(e){this._owner._changeSelection(this._getSelection(),e)},_getSelection:function(){return"setPosition"===this._setter?4:0}}),b=d.extend({_class:"Size",_readIndex:!0,initialize:function(e,t){var n=typeof e,i=this.__read,r=0;if("number"===n){var o="number"==typeof t;this._set(e,o?t:e),i&&(r=o?2:1)}else if("undefined"===n||null===e)this._set(0,0),i&&(r=null===e?1:0);else{var a="string"===n?e.split(/[\s,]+/)||[]:e;r=1,Array.isArray(a)?this._set(+a[0],+(a.length>1?a[1]:a[0])):"width"in a?this._set(a.width||0,a.height||0):"x"in a?this._set(a.x||0,a.y||0):(this._set(0,0),r=0)}return i&&(this.__read=r),this},set:"#initialize",_set:function(e,t){return this.width=e,this.height=t,this},equals:function(e){return e===this||e&&(this.width===e.width&&this.height===e.height||Array.isArray(e)&&this.width===e[0]&&this.height===e[1])||!1},clone:function(){return new b(this.width,this.height)},toString:function(){var e=m.instance;return"{ width: "+e.number(this.width)+", height: "+e.number(this.height)+" }"},_serialize:function(e){var t=e.formatter;return[t.number(this.width),t.number(this.height)]},add:function(){var e=b.read(arguments);return new b(this.width+e.width,this.height+e.height)},subtract:function(){var e=b.read(arguments);return new b(this.width-e.width,this.height-e.height)},multiply:function(){var e=b.read(arguments);return new b(this.width*e.width,this.height*e.height)},divide:function(){var e=b.read(arguments);return new b(this.width/e.width,this.height/e.height)},modulo:function(){var e=b.read(arguments);return new b(this.width%e.width,this.height%e.height)},negate:function(){return new b(-this.width,-this.height)},isZero:function(){var e=g.isZero;return e(this.width)&&e(this.height)},isNaN:function(){return isNaN(this.width)||isNaN(this.height)},statics:{min:function(e,t){return new b(Math.min(e.width,t.width),Math.min(e.height,t.height))},max:function(e,t){return new b(Math.max(e.width,t.width),Math.max(e.height,t.height))},random:function(){return new b(Math.random(),Math.random())}}},d.each(["round","ceil","floor","abs"],function(e){var t=Math[e];this[e]=function(){return new b(t(this.width),t(this.height))}},{})),w=b.extend({initialize:function(e,t,n,i){this._width=e,this._height=t,this._owner=n,this._setter=i},_set:function(e,t,n){return this._width=e,this._height=t,n||this._owner[this._setter](this),this},getWidth:function(){return this._width},setWidth:function(e){this._width=e,this._owner[this._setter](this)},getHeight:function(){return this._height},setHeight:function(e){this._height=e,this._owner[this._setter](this)}}),C=d.extend({_class:"Rectangle",_readIndex:!0,beans:!0,initialize:function(e,t,n,i){var r,o=typeof e;if("number"===o?(this._set(e,t,n,i),r=4):"undefined"===o||null===e?(this._set(0,0,0,0),r=null===e?1:0):1===arguments.length&&(Array.isArray(e)?(this._set.apply(this,e),r=1):e.x!==l||e.width!==l?(this._set(e.x||0,e.y||0,e.width||0,e.height||0),r=1):e.from===l&&e.to===l&&(this._set(0,0,0,0),d.filter(this,e),r=1)),r===l){var a,s,u=y.readNamed(arguments,"from"),c=d.peek(arguments),h=u.x,f=u.y;if(c&&c.x!==l||d.hasNamed(arguments,"to")){var p=y.readNamed(arguments,"to");a=p.x-h,s=p.y-f,a<0&&(h=p.x,a=-a),s<0&&(f=p.y,s=-s)}else{var m=b.read(arguments);a=m.width,s=m.height}this._set(h,f,a,s),r=arguments.__index;var g=arguments.__filtered;g&&(this.__filtered=g)}return this.__read&&(this.__read=r),this},set:"#initialize",_set:function(e,t,n,i){return this.x=e,this.y=t,this.width=n,this.height=i,this},clone:function(){return new C(this.x,this.y,this.width,this.height)},equals:function(e){var t=d.isPlainValue(e)?C.read(arguments):e;return t===this||t&&this.x===t.x&&this.y===t.y&&this.width===t.width&&this.height===t.height||!1},toString:function(){var e=m.instance;return"{ x: "+e.number(this.x)+", y: "+e.number(this.y)+", width: "+e.number(this.width)+", height: "+e.number(this.height)+" }"},_serialize:function(e){var t=e.formatter;return[t.number(this.x),t.number(this.y),t.number(this.width),t.number(this.height)]},getPoint:function(e){return new(e?y:_)(this.x,this.y,this,"setPoint")},setPoint:function(){var e=y.read(arguments);this.x=e.x,this.y=e.y},getSize:function(e){return new(e?b:w)(this.width,this.height,this,"setSize")},_fw:1,_fh:1,setSize:function(){var e=b.read(arguments),t=this._sx,n=this._sy,i=e.width,r=e.height;t&&(this.x+=(this.width-i)*t),n&&(this.y+=(this.height-r)*n),this.width=i,this.height=r,this._fw=this._fh=1},getLeft:function(){return this.x},setLeft:function(e){if(!this._fw){var t=e-this.x;this.width-=.5===this._sx?2*t:t}this.x=e,this._sx=this._fw=0},getTop:function(){return this.y},setTop:function(e){if(!this._fh){var t=e-this.y;this.height-=.5===this._sy?2*t:t}this.y=e,this._sy=this._fh=0},getRight:function(){return this.x+this.width},setRight:function(e){if(!this._fw){var t=e-this.x;this.width=.5===this._sx?2*t:t}this.x=e-this.width,this._sx=1,this._fw=0},getBottom:function(){return this.y+this.height},setBottom:function(e){if(!this._fh){var t=e-this.y;this.height=.5===this._sy?2*t:t}this.y=e-this.height,this._sy=1,this._fh=0},getCenterX:function(){return this.x+this.width/2},setCenterX:function(e){this._fw||.5===this._sx?this.x=e-this.width/2:(this._sx&&(this.x+=2*(e-this.x)*this._sx),this.width=2*(e-this.x)),this._sx=.5,this._fw=0},getCenterY:function(){return this.y+this.height/2},setCenterY:function(e){this._fh||.5===this._sy?this.y=e-this.height/2:(this._sy&&(this.y+=2*(e-this.y)*this._sy),this.height=2*(e-this.y)),this._sy=.5,this._fh=0},getCenter:function(e){return new(e?y:_)(this.getCenterX(),this.getCenterY(),this,"setCenter")},setCenter:function(){var e=y.read(arguments);return this.setCenterX(e.x),this.setCenterY(e.y),this},getArea:function(){return this.width*this.height},isEmpty:function(){return 0===this.width||0===this.height},contains:function(e){return e&&e.width!==l||4===(Array.isArray(e)?e:arguments).length?this._containsRectangle(C.read(arguments)):this._containsPoint(y.read(arguments))},_containsPoint:function(e){var t=e.x,n=e.y;return t>=this.x&&n>=this.y&&t<=this.x+this.width&&n<=this.y+this.height},_containsRectangle:function(e){var t=e.x,n=e.y;return t>=this.x&&n>=this.y&&t+e.width<=this.x+this.width&&n+e.height<=this.y+this.height},intersects:function(){var e=C.read(arguments),t=d.read(arguments)||0;return e.x+e.width>this.x-t&&e.y+e.height>this.y-t&&e.x<this.x+this.width+t&&e.y<this.y+this.height+t},intersect:function(){var e=C.read(arguments),t=Math.max(this.x,e.x),n=Math.max(this.y,e.y),i=Math.min(this.x+this.width,e.x+e.width),r=Math.min(this.y+this.height,e.y+e.height);return new C(t,n,i-t,r-n)},unite:function(){var e=C.read(arguments),t=Math.min(this.x,e.x),n=Math.min(this.y,e.y),i=Math.max(this.x+this.width,e.x+e.width),r=Math.max(this.y+this.height,e.y+e.height);return new C(t,n,i-t,r-n)},include:function(){var e=y.read(arguments),t=Math.min(this.x,e.x),n=Math.min(this.y,e.y),i=Math.max(this.x+this.width,e.x),r=Math.max(this.y+this.height,e.y);return new C(t,n,i-t,r-n)},expand:function(){var e=b.read(arguments),t=e.width,n=e.height;return new C(this.x-t/2,this.y-n/2,this.width+t,this.height+n)},scale:function(e,t){return this.expand(this.width*e-this.width,this.height*(t===l?e:t)-this.height)}},d.each([["Top","Left"],["Top","Right"],["Bottom","Left"],["Bottom","Right"],["Left","Center"],["Top","Center"],["Right","Center"],["Bottom","Center"]],function(e,t){var n=e.join(""),i=/^[RL]/.test(n);t>=4&&(e[1]+=i?"Y":"X");var r=e[i?0:1],o=e[i?1:0],a="get"+r,s="get"+o,l="set"+r,u="set"+o,c="set"+n;this["get"+n]=function(e){return new(e?y:_)(this[a](),this[s](),this,c)},this[c]=function(){var e=y.read(arguments);this[l](e.x),this[u](e.y)}},{beans:!0})),x=C.extend({initialize:function(e,t,n,i,r,o){this._set(e,t,n,i,!0),this._owner=r,this._setter=o},_set:function(e,t,n,i,r){return this._x=e,this._y=t,this._width=n,this._height=i,r||this._owner[this._setter](this),this}},new function(){var e=C.prototype;return d.each(["x","y","width","height"],function(e){var t=d.capitalize(e),n="_"+e;this["get"+t]=function(){return this[n]},this["set"+t]=function(e){this[n]=e,this._dontNotify||this._owner[this._setter](this)}},d.each(["Point","Size","Center","Left","Top","Right","Bottom","CenterX","CenterY","TopLeft","TopRight","BottomLeft","BottomRight","LeftCenter","TopCenter","RightCenter","BottomCenter"],function(t){var n="set"+t;this[n]=function(){this._dontNotify=!0,e[n].apply(this,arguments),this._dontNotify=!1,this._owner[this._setter](this)}},{isSelected:function(){return!!(2&this._owner._selection)},setSelected:function(e){var t=this._owner;t._changeSelection&&t._changeSelection(2,e)}}))}),S=d.extend({_class:"Matrix",initialize:function e(t,n){var i=arguments.length,r=!0;if(i>=6?this._set.apply(this,arguments):1===i||2===i?t instanceof e?this._set(t._a,t._b,t._c,t._d,t._tx,t._ty,n):Array.isArray(t)?this._set.apply(this,n?t.concat([n]):t):r=!1:i?r=!1:this.reset(),!r)throw new Error("Unsupported matrix parameters");return this},set:"#initialize",_set:function(e,t,n,i,r,o,a){return this._a=e,this._b=t,this._c=n,this._d=i,this._tx=r,this._ty=o,a||this._changed(),this},_serialize:function(e,t){return d.serialize(this.getValues(),e,!0,t)},_changed:function(){var e=this._owner;e&&(e._applyMatrix?e.transform(null,!0):e._changed(9))},clone:function(){return new S(this._a,this._b,this._c,this._d,this._tx,this._ty)},equals:function(e){return e===this||e&&this._a===e._a&&this._b===e._b&&this._c===e._c&&this._d===e._d&&this._tx===e._tx&&this._ty===e._ty},toString:function(){var e=m.instance;return"[["+[e.number(this._a),e.number(this._c),e.number(this._tx)].join(", ")+"], ["+[e.number(this._b),e.number(this._d),e.number(this._ty)].join(", ")+"]]"},reset:function(e){return this._a=this._d=1,this._b=this._c=this._tx=this._ty=0,e||this._changed(),this},apply:function(e,t){var n=this._owner;return!!n&&(n.transform(null,!0,d.pick(e,!0),t),this.isIdentity())},translate:function(){var e=y.read(arguments),t=e.x,n=e.y;return this._tx+=t*this._a+n*this._c,this._ty+=t*this._b+n*this._d,this._changed(),this},scale:function(){var e=y.read(arguments),t=y.read(arguments,0,{readNull:!0});return t&&this.translate(t),this._a*=e.x,this._b*=e.x,this._c*=e.y,this._d*=e.y,t&&this.translate(t.negate()),this._changed(),this},rotate:function(e){e*=Math.PI/180;var t=y.read(arguments,1),n=t.x,i=t.y,r=Math.cos(e),o=Math.sin(e),a=n-n*r+i*o,s=i-n*o-i*r,l=this._a,u=this._b,c=this._c,d=this._d;return this._a=r*l+o*c,this._b=r*u+o*d,this._c=-o*l+r*c,this._d=-o*u+r*d,this._tx+=a*l+s*c,this._ty+=a*u+s*d,this._changed(),this},shear:function(){var e=y.read(arguments),t=y.read(arguments,0,{readNull:!0});t&&this.translate(t);var n=this._a,i=this._b;return this._a+=e.y*this._c,this._b+=e.y*this._d,this._c+=e.x*n,this._d+=e.x*i,t&&this.translate(t.negate()),this._changed(),this},skew:function(){var e=y.read(arguments),t=y.read(arguments,0,{readNull:!0}),n=Math.PI/180,i=new y(Math.tan(e.x*n),Math.tan(e.y*n));return this.shear(i,t)},append:function(e,t){if(e){var n=this._a,i=this._b,r=this._c,o=this._d,a=e._a,s=e._c,l=e._b,u=e._d,c=e._tx,d=e._ty;this._a=a*n+l*r,this._c=s*n+u*r,this._b=a*i+l*o,this._d=s*i+u*o,this._tx+=c*n+d*r,this._ty+=c*i+d*o,t||this._changed()}return this},prepend:function(e,t){if(e){var n=this._a,i=this._b,r=this._c,o=this._d,a=this._tx,s=this._ty,l=e._a,u=e._c,c=e._b,d=e._d,h=e._tx,f=e._ty;this._a=l*n+u*i,this._c=l*r+u*o,this._b=c*n+d*i,this._d=c*r+d*o,this._tx=l*a+u*s+h,this._ty=c*a+d*s+f,t||this._changed()}return this},appended:function(e){return this.clone().append(e)},prepended:function(e){return this.clone().prepend(e)},invert:function(){var e=this._a,t=this._b,n=this._c,i=this._d,r=this._tx,o=this._ty,a=e*i-t*n,s=null;return a&&!isNaN(a)&&isFinite(r)&&isFinite(o)&&(this._a=i/a,this._b=-t/a,this._c=-n/a,this._d=e/a,this._tx=(n*o-i*r)/a,this._ty=(t*r-e*o)/a,s=this),s},inverted:function(){return this.clone().invert()},concatenate:"#append",preConcatenate:"#prepend",chain:"#appended",_shiftless:function(){return new S(this._a,this._b,this._c,this._d,0,0)},_orNullIfIdentity:function(){return this.isIdentity()?null:this},isIdentity:function(){return 1===this._a&&0===this._b&&0===this._c&&1===this._d&&0===this._tx&&0===this._ty},isInvertible:function(){var e=this._a*this._d-this._c*this._b;return e&&!isNaN(e)&&isFinite(this._tx)&&isFinite(this._ty)},isSingular:function(){return!this.isInvertible()},transform:function(e,t,n){return arguments.length<3?this._transformPoint(y.read(arguments)):this._transformCoordinates(e,t,n)},_transformPoint:function(e,t,n){var i=e.x,r=e.y;return t||(t=new y),t._set(i*this._a+r*this._c+this._tx,i*this._b+r*this._d+this._ty,n)},_transformCoordinates:function(e,t,n){for(var i=0,r=2*n;i<r;i+=2){var o=e[i],a=e[i+1];t[i]=o*this._a+a*this._c+this._tx,t[i+1]=o*this._b+a*this._d+this._ty}return t},_transformCorners:function(e){var t=e.x,n=e.y,i=t+e.width,r=n+e.height,o=[t,n,i,n,i,r,t,r];return this._transformCoordinates(o,o,4)},_transformBounds:function(e,t,n){for(var i=this._transformCorners(e),r=i.slice(0,2),o=r.slice(),a=2;a<8;a++){var s=i[a],l=1&a;s<r[l]?r[l]=s:s>o[l]&&(o[l]=s)}return t||(t=new C),t._set(r[0],r[1],o[0]-r[0],o[1]-r[1],n)},inverseTransform:function(){return this._inverseTransform(y.read(arguments))},_inverseTransform:function(e,t,n){var i=this._a,r=this._b,o=this._c,a=this._d,s=this._tx,l=this._ty,u=i*a-r*o,c=null;if(u&&!isNaN(u)&&isFinite(s)&&isFinite(l)){var d=e.x-this._tx,h=e.y-this._ty;t||(t=new y),c=t._set((d*a-h*o)/u,(h*i-d*r)/u,n)}return c},decompose:function(){var e,t,n,i=this._a,r=this._b,o=this._c,a=this._d,s=i*a-r*o,l=Math.sqrt,u=Math.atan2,c=180/Math.PI;if(0!==i||0!==r){var d=l(i*i+r*r);e=Math.acos(i/d)*(r>0?1:-1),t=[d,s/d],n=[u(i*o+r*a,d*d),0]}else if(0!==o||0!==a){var h=l(o*o+a*a);e=Math.asin(o/h)*(a>0?1:-1),t=[s/h,h],n=[0,u(i*o+r*a,h*h)]}else e=0,n=t=[0,0];return{translation:this.getTranslation(),rotation:e*c,scaling:new y(t),skewing:new y(n[0]*c,n[1]*c)}},getValues:function(){return[this._a,this._b,this._c,this._d,this._tx,this._ty]},getTranslation:function(){return new y(this._tx,this._ty)},getScaling:function(){return(this.decompose()||{}).scaling},getRotation:function(){return(this.decompose()||{}).rotation},applyToContext:function(e){this.isIdentity()||e.transform(this._a,this._b,this._c,this._d,this._tx,this._ty)}},d.each(["a","b","c","d","tx","ty"],function(e){var t=d.capitalize(e),n="_"+e;this["get"+t]=function(){return this[n]},this["set"+t]=function(e){this[n]=e,this._changed()}},{})),k=d.extend({_class:"Line",initialize:function(e,t,n,i,r){var o=!1;arguments.length>=4?(this._px=e,this._py=t,this._vx=n,this._vy=i,o=r):(this._px=e.x,this._py=e.y,this._vx=t.x,this._vy=t.y,o=n),o||(this._vx-=this._px,this._vy-=this._py)},getPoint:function(){return new y(this._px,this._py)},getVector:function(){return new y(this._vx,this._vy)},getLength:function(){return this.getVector().getLength()},intersect:function(e,t){return k.intersect(this._px,this._py,this._vx,this._vy,e._px,e._py,e._vx,e._vy,!0,t)},getSide:function(e,t){return k.getSide(this._px,this._py,this._vx,this._vy,e.x,e.y,!0,t)},getDistance:function(e){return Math.abs(this.getSignedDistance(e))},getSignedDistance:function(e){return k.getSignedDistance(this._px,this._py,this._vx,this._vy,e.x,e.y,!0)},isCollinear:function(e){return y.isCollinear(this._vx,this._vy,e._vx,e._vy)},isOrthogonal:function(e){return y.isOrthogonal(this._vx,this._vy,e._vx,e._vy)},statics:{intersect:function(e,t,n,i,r,o,a,s,l,u){l||(n-=e,i-=t,a-=r,s-=o);var c=n*s-i*a;if(!g.isZero(c)){var d=e-r,h=t-o,f=(a*h-s*d)/c,p=(n*h-i*d)/c;if(u||-1e-12<f&&f<1+1e-12&&-1e-12<p&&p<1+1e-12)return u||(f=f<=0?0:f>=1?1:f),new y(e+f*n,t+f*i)}},getSide:function(e,t,n,i,r,o,a,s){a||(n-=e,i-=t);var l=r-e,u=l*i-(o-t)*n;return!s&&g.isZero(u)&&(u=(l*n+l*n)/(n*n+i*i))>=0&&u<=1&&(u=0),u<0?-1:u>0?1:0},getSignedDistance:function(e,t,n,i,r,o,a){return a||(n-=e,i-=t),0===n?i>0?r-e:e-r:0===i?n<0?o-t:t-o:((r-e)*i-(o-t)*n)/Math.sqrt(n*n+i*i)},getDistance:function(e,t,n,i,r,o,a){return Math.abs(k.getSignedDistance(e,t,n,i,r,o,a))}}}),E=p.extend({_class:"Project",_list:"projects",_reference:"project",_compactSerialize:!0,initialize:function(e){p.call(this,!0),this._children=[],this._namedChildren={},this._activeLayer=null,this._currentStyle=new X(null,null,this),this._view=J.create(this,e||se.getCanvas(1,1)),this._selectionItems={},this._selectionCount=0,this._updateVersion=0},_serialize:function(e,t){return d.serialize(this._children,e,!0,t)},_changed:function(e,t){if(1&e){var n=this._view;n&&(n._needsUpdate=!0,!n._requested&&n._autoUpdate&&n.requestUpdate())}var i=this._changes;if(i&&t){var r=this._changesById,o=t._id,a=r[o];a?a.flags|=e:i.push(r[o]={item:t,flags:e})}},clear:function(){for(var e=this._children,t=e.length-1;t>=0;t--)e[t].remove()},isEmpty:function(){return!this._children.length},remove:function e(){return!!e.base.call(this)&&(this._view&&this._view.remove(),!0)},getView:function(){return this._view},getCurrentStyle:function(){return this._currentStyle},setCurrentStyle:function(e){this._currentStyle.set(e)},getIndex:function(){return this._index},getOptions:function(){return this._scope.settings},getLayers:function(){return this._children},getActiveLayer:function(){return this._activeLayer||new T({project:this,insert:!0})},getSymbolDefinitions:function(){var e=[],t={};return this.getItems({class:L,match:function(n){var i=n._definition,r=i._id;return t[r]||(t[r]=!0,e.push(i)),!1}}),e},getSymbols:"getSymbolDefinitions",getSelectedItems:function(){var e=this._selectionItems,t=[];for(var n in e){var i=e[n],r=i._selection;1&r&&i.isInserted()?t.push(i):r||this._updateSelection(i)}return t},_updateSelection:function(e){var t=e._id,n=this._selectionItems;e._selection?n[t]!==e&&(this._selectionCount++,n[t]=e):n[t]===e&&(this._selectionCount--,delete n[t])},selectAll:function(){for(var e=this._children,t=0,n=e.length;t<n;t++)e[t].setFullySelected(!0)},deselectAll:function(){var e=this._selectionItems;for(var t in e)e[t].setFullySelected(!1)},addLayer:function(e){return this.insertLayer(l,e)},insertLayer:function(e,t){if(t instanceof T){t._remove(!1,!0),d.splice(this._children,[t],e,0),t._setProject(this,!0);var n=t._name;n&&t.setName(n),this._changes&&t._changed(5),this._activeLayer||(this._activeLayer=t)}else t=null;return t},_insertItem:function(e,t,n){return t=this.insertLayer(e,t)||(this._activeLayer||this._insertItem(l,new T(M.NO_INSERT),!0)).insertChild(e,t),n&&t.activate&&t.activate(),t},getItems:function(e){return M._getItems(this,e)},getItem:function(e){return M._getItems(this,e,null,null,!0)[0]||null},importJSON:function(e){this.activate();var t=this._activeLayer;return d.importJSON(e,t&&t.isEmpty()&&t)},removeOn:function(e){var t=this._removeSets;if(t){"mouseup"===e&&(t.mousedrag=null);var n=t[e];if(n){for(var i in n){var r=n[i];for(var o in t){var a=t[o];a&&a!=n&&delete a[r._id]}r.remove()}t[e]=null}}},draw:function(e,t,n){this._updateVersion++,e.save(),t.applyToContext(e);for(var i=this._children,r=new d({offset:new y(0,0),pixelRatio:n,viewMatrix:t.isIdentity()?null:t,matrices:[new S],updateMatrix:!0}),o=0,a=i.length;o<a;o++)i[o].draw(e,r);if(e.restore(),this._selectionCount>0){e.save(),e.strokeWidth=1;var s=this._selectionItems,l=this._scope.settings.handleSize,u=this._updateVersion;for(var c in s)s[c]._drawSelection(e,t,l,s,u);e.restore()}}}),M=d.extend(h,{statics:{extend:function e(t){return t._serializeFields&&(t._serializeFields=d.set({},this.prototype._serializeFields,t._serializeFields)),e.base.apply(this,arguments)},NO_INSERT:{insert:!1}},_class:"Item",_name:null,_applyMatrix:!0,_canApplyMatrix:!0,_canScaleStroke:!1,_pivot:null,_visible:!0,_blendMode:"normal",_opacity:1,_locked:!1,_guide:!1,_clipMask:!1,_selection:0,_selectBounds:!0,_selectChildren:!1,_serializeFields:{name:null,applyMatrix:null,matrix:new S,pivot:null,visible:!0,blendMode:"normal",opacity:1,locked:!1,guide:!1,clipMask:!1,selected:!1,data:{}},_prioritize:["applyMatrix"]},new function(){var e=["onMouseDown","onMouseUp","onMouseDrag","onClick","onDoubleClick","onMouseMove","onMouseEnter","onMouseLeave"];return d.each(e,function(e){this._events[e]={install:function(e){this.getView()._countItemEvent(e,1)},uninstall:function(e){this.getView()._countItemEvent(e,-1)}}},{_events:{onFrame:{install:function(){this.getView()._animateItem(this,!0)},uninstall:function(){this.getView()._animateItem(this,!1)}},onLoad:{},onError:{}},statics:{_itemHandlers:e}})},{initialize:function(){},_initialize:function(e,t){var n=e&&d.isPlainObject(e),i=n&&!0===e.internal,r=this._matrix=new S,o=n&&e.project||a.project,s=a.settings;return this._id=i?null:v.get(),this._parent=this._index=null,this._applyMatrix=this._canApplyMatrix&&s.applyMatrix,t&&r.translate(t),r._owner=this,this._style=new X(o._currentStyle,this,o),i||n&&0==e.insert||!s.insertItems&&(!n||!0!==e.insert)?this._setProject(o):(n&&e.parent||o)._insertItem(l,this,!0),n&&e!==M.NO_INSERT&&this.set(e,{internal:!0,insert:!0,project:!0,parent:!0}),n},_serialize:function(e,t){var n={},i=this;function r(r){for(var o in r){var a=i[o];d.equals(a,"leading"===o?1.2*r.fontSize:r[o])||(n[o]=d.serialize(a,e,"data"!==o,t))}}return r(this._serializeFields),this instanceof O||r(this._style._defaults),[this._class,n]},_changed:function(e){var t=this._symbol,n=this._parent||t,i=this._project;8&e&&(this._bounds=this._position=this._decomposed=this._globalMatrix=l),n&&40&e&&M._clearBoundsCache(n),2&e&&M._clearBoundsCache(this),i&&i._changed(e,this),t&&t._changed(e)},getId:function(){return this._id},getName:function(){return this._name},setName:function(e){if(this._name&&this._removeNamed(),e===+e+"")throw new Error("Names consisting only of numbers are not supported.");var t=this._getOwner();if(e&&t){var n=t._children,i=t._namedChildren;(i[e]=i[e]||[]).push(this),e in n||(n[e]=this)}this._name=e||l,this._changed(128)},getStyle:function(){return this._style},setStyle:function(e){this.getStyle().set(e)}},d.each(["locked","visible","blendMode","opacity","guide"],function(e){var t=d.capitalize(e),n="_"+e,i={locked:128,visible:137};this["get"+t]=function(){return this[n]},this["set"+t]=function(t){t!=this[n]&&(this[n]=t,this._changed(i[e]||129))}},{}),{beans:!0,getSelection:function(){return this._selection},setSelection:function(e){if(e!==this._selection){this._selection=e;var t=this._project;t&&(t._updateSelection(this),this._changed(129))}},_changeSelection:function(e,t){var n=this._selection;this.setSelection(t?n|e:n&~e)},isSelected:function(){if(this._selectChildren)for(var e=this._children,t=0,n=e.length;t<n;t++)if(e[t].isSelected())return!0;return!!(1&this._selection)},setSelected:function(e){if(this._selectChildren)for(var t=this._children,n=0,i=t.length;n<i;n++)t[n].setSelected(e);this._changeSelection(1,e)},isFullySelected:function(){var e=this._children,t=!!(1&this._selection);if(e&&t){for(var n=0,i=e.length;n<i;n++)if(!e[n].isFullySelected())return!1;return!0}return t},setFullySelected:function(e){var t=this._children;if(t)for(var n=0,i=t.length;n<i;n++)t[n].setFullySelected(e);this._changeSelection(1,e)},isClipMask:function(){return this._clipMask},setClipMask:function(e){this._clipMask!=(e=!!e)&&(this._clipMask=e,e&&(this.setFillColor(null),this.setStrokeColor(null)),this._changed(129),this._parent&&this._parent._changed(1024))},getData:function(){return this._data||(this._data={}),this._data},setData:function(e){this._data=e},getPosition:function(e){var t=this._position,n=e?y:_;if(!t){var i=this._pivot;t=this._position=i?this._matrix._transformPoint(i):this.getBounds().getCenter(!0)}return new n(t.x,t.y,this,"setPosition")},setPosition:function(){this.translate(y.read(arguments).subtract(this.getPosition(!0)))},getPivot:function(){var e=this._pivot;return e?new _(e.x,e.y,this,"setPivot"):null},setPivot:function(){this._pivot=y.read(arguments,0,{clone:!0,readNull:!0}),this._position=l}},d.each({getStrokeBounds:{stroke:!0},getHandleBounds:{handle:!0},getInternalBounds:{internal:!0}},function(e,t){this[t]=function(t){return this.getBounds(t,e)}},{beans:!0,getBounds:function(e,t){var n=t||e instanceof S,i=d.set({},n?t:e,this._boundsOptions);i.stroke&&!this.getStrokeScaling()||(i.cacheItem=this);var r=this._getCachedBounds(n&&e,i).rect;return arguments.length?r:new x(r.x,r.y,r.width,r.height,this,"setBounds")},setBounds:function(){var e=C.read(arguments),t=this.getBounds(),n=this._matrix,i=new S,r=e.getCenter();i.translate(r),e.width==t.width&&e.height==t.height||(n.isInvertible()||(n.set(n._backup||(new S).translate(n.getTranslation())),t=this.getBounds()),i.scale(0!==t.width?e.width/t.width:0,0!==t.height?e.height/t.height:0)),r=t.getCenter(),i.translate(-r.x,-r.y),this.transform(i)},_getBounds:function(e,t){var n=this._children;return n&&n.length?(M._updateBoundsCache(this,t.cacheItem),M._getBounds(n,e,t)):new C},_getBoundsCacheKey:function(e,t){return[e.stroke?1:0,e.handle?1:0,t?1:0].join("")},_getCachedBounds:function(e,t,n){e=e&&e._orNullIfIdentity();var i=t.internal&&!n,r=t.cacheItem,o=i?null:this._matrix._orNullIfIdentity(),a=r&&(!e||e.equals(o))&&this._getBoundsCacheKey(t,i),s=this._bounds;if(M._updateBoundsCache(this._parent||this._symbol,r),a&&s&&a in s)return{rect:(h=s[a]).rect.clone(),nonscaling:h.nonscaling};var l=this._getBounds(e||o,t),u=l.rect||l,c=this._style,d=l.nonscaling||c.hasStroke()&&!c.getStrokeScaling();if(a){s||(this._bounds=s={});var h=s[a]={rect:u.clone(),nonscaling:d,internal:i}}return{rect:u,nonscaling:d}},_getStrokeMatrix:function(e,t){var n=this.getStrokeScaling()?null:t&&t.internal?this:this._parent||this._symbol&&this._symbol._item,i=n?n.getViewMatrix().invert():e;return i&&i._shiftless()},statics:{_updateBoundsCache:function(e,t){if(e&&t){var n=t._id,i=e._boundsCache=e._boundsCache||{ids:{},list:[]};i.ids[n]||(i.list.push(t),i.ids[n]=t)}},_clearBoundsCache:function(e){var t=e._boundsCache;if(t){e._bounds=e._position=e._boundsCache=l;for(var n=0,i=t.list,r=i.length;n<r;n++){var o=i[n];o!==e&&(o._bounds=o._position=l,o._boundsCache&&M._clearBoundsCache(o))}}},_getBounds:function(e,t,n){var i=1/0,r=-i,o=i,a=r,s=!1;n=n||{};for(var l=0,u=e.length;l<u;l++){var c=e[l];if(c._visible&&!c.isEmpty()){var d=c._getCachedBounds(t&&t.appended(c._matrix),n,!0),h=d.rect;i=Math.min(h.x,i),o=Math.min(h.y,o),r=Math.max(h.x+h.width,r),a=Math.max(h.y+h.height,a),d.nonscaling&&(s=!0)}}return{rect:isFinite(i)?new C(i,o,r-i,a-o):new C,nonscaling:s}}}}),{beans:!0,_decompose:function(){return this._applyMatrix?null:this._decomposed||(this._decomposed=this._matrix.decompose())},getRotation:function(){var e=this._decompose();return e?e.rotation:0},setRotation:function(e){var t=this.getRotation();if(null!=t&&null!=e){var n=this._decomposed;this.rotate(e-t),n&&(n.rotation=e,this._decomposed=n)}},getScaling:function(){var e=this._decompose(),t=e&&e.scaling;return new _(t?t.x:1,t?t.y:1,this,"setScaling")},setScaling:function(){var e=this.getScaling(),t=y.read(arguments,0,{clone:!0,readNull:!0});if(e&&t&&!e.equals(t)){var n=this.getRotation(),i=this._decomposed,r=new S,o=this.getPosition(!0);r.translate(o),n&&r.rotate(n),r.scale(t.x/e.x,t.y/e.y),n&&r.rotate(-n),r.translate(o.negate()),this.transform(r),i&&(i.scaling=t,this._decomposed=i)}},getMatrix:function(){return this._matrix},setMatrix:function(){var e=this._matrix;e.initialize.apply(e,arguments)},getGlobalMatrix:function(e){var t=this._globalMatrix,n=this._project._updateVersion;if(t&&t._updateVersion!==n&&(t=null),!t){t=this._globalMatrix=this._matrix.clone();var i=this._parent;i&&t.prepend(i.getGlobalMatrix(!0)),t._updateVersion=n}return e?t:t.clone()},getViewMatrix:function(){return this.getGlobalMatrix().prepend(this.getView()._matrix)},getApplyMatrix:function(){return this._applyMatrix},setApplyMatrix:function(e){(this._applyMatrix=this._canApplyMatrix&&!!e)&&this.transform(null,!0)},getTransformContent:"#getApplyMatrix",setTransformContent:"#setApplyMatrix"},{getProject:function(){return this._project},_setProject:function(e,t){if(this._project!==e){this._project&&this._installEvents(!1),this._project=e;for(var n=this._children,i=0,r=n&&n.length;i<r;i++)n[i]._setProject(e);t=!0}t&&this._installEvents(!0)},getView:function(){return this._project._view},_installEvents:function e(t){e.base.call(this,t);for(var n=this._children,i=0,r=n&&n.length;i<r;i++)n[i]._installEvents(t)},getLayer:function(){for(var e=this;e=e._parent;)if(e instanceof T)return e;return null},getParent:function(){return this._parent},setParent:function(e){return e.addChild(this)},_getOwner:"#getParent",getChildren:function(){return this._children},setChildren:function(e){this.removeChildren(),this.addChildren(e)},getFirstChild:function(){return this._children&&this._children[0]||null},getLastChild:function(){return this._children&&this._children[this._children.length-1]||null},getNextSibling:function(){var e=this._getOwner();return e&&e._children[this._index+1]||null},getPreviousSibling:function(){var e=this._getOwner();return e&&e._children[this._index-1]||null},getIndex:function(){return this._index},equals:function(e){return e===this||e&&this._class===e._class&&this._style.equals(e._style)&&this._matrix.equals(e._matrix)&&this._locked===e._locked&&this._visible===e._visible&&this._blendMode===e._blendMode&&this._opacity===e._opacity&&this._clipMask===e._clipMask&&this._guide===e._guide&&this._equals(e)||!1},_equals:function(e){return d.equals(this._children,e._children)},clone:function(e){var t=new this.constructor(M.NO_INSERT),n=this._children,i=d.pick(e?e.insert:l,e===l||!0===e),r=d.pick(e?e.deep:l,!0);n&&t.copyAttributes(this),n&&!r||t.copyContent(this),n||t.copyAttributes(this),i&&t.insertAbove(this);var o=this._name,a=this._parent;if(o&&a){n=a._children;for(var s=o,u=1;n[o];)o=s+" "+u++;o!==s&&t.setName(o)}return t},copyContent:function(e){for(var t=e._children,n=0,i=t&&t.length;n<i;n++)this.addChild(t[n].clone(!1),!0)},copyAttributes:function(e,t){this.setStyle(e._style);for(var n=["_locked","_visible","_blendMode","_opacity","_clipMask","_guide"],i=0,r=n.length;i<r;i++){var o=n[i];e.hasOwnProperty(o)&&(this[o]=e[o])}t||this._matrix.set(e._matrix,!0),this.setApplyMatrix(e._applyMatrix),this.setPivot(e._pivot),this.setSelection(e._selection);var a=e._data,s=e._name;this._data=a?d.clone(a):null,s&&this.setName(s)},rasterize:function(e,t){var n=this.getStrokeBounds(),i=(e||this.getView().getResolution())/72,r=n.getTopLeft().floor(),o=n.getBottomRight().ceil(),a=new b(o.subtract(r)),s=new P(M.NO_INSERT);if(!a.isZero()){var u=se.getCanvas(a.multiply(i)),c=u.getContext("2d"),h=(new S).scale(i).translate(r.negate());c.save(),h.applyToContext(c),this.draw(c,new d({matrices:[h]})),c.restore(),s.setCanvas(u)}return s.transform((new S).translate(r.add(a.divide(2))).scale(1/i)),(t===l||t)&&s.insertAbove(this),s},contains:function(){return!!this._contains(this._matrix._inverseTransform(y.read(arguments)))},_contains:function(e){var t=this._children;if(t){for(var n=t.length-1;n>=0;n--)if(t[n].contains(e))return!0;return!1}return e.isInside(this.getInternalBounds())},isInside:function(){return C.read(arguments).contains(this.getBounds())},_asPathItem:function(){return new N.Rectangle({rectangle:this.getInternalBounds(),matrix:this._matrix,insert:!1})},intersects:function(e,t){return e instanceof M&&this._asPathItem().getIntersections(e._asPathItem(),null,t,!0).length>0}},new function(){function e(){return this._hitTest(y.read(arguments),R.getOptions(arguments))}function t(){var e=y.read(arguments),t=R.getOptions(arguments),n=[];return this._hitTest(e,d.set({all:n},t)),n}function n(e,t,n,i){var r=this._children;if(r)for(var o=r.length-1;o>=0;o--){var a=r[o],s=a!==i&&a._hitTest(e,t,n);if(s&&!t.all)return s}return null}return E.inject({hitTest:e,hitTestAll:t,_hitTest:n}),{hitTest:e,hitTestAll:t,_hitTestChildren:n}},{_hitTest:function(e,t,n){if(this._locked||!this._visible||this._guide&&!t.guides||this.isEmpty())return null;var i=this._matrix,r=n?n.appended(i):this.getGlobalMatrix().prepend(this.getView()._matrix),o=Math.max(t.tolerance,1e-12),a=t._tolerancePadding=new b(N._getStrokePadding(o,i._shiftless().invert()));if(!(e=i._inverseTransform(e))||!this._children&&!this.getBounds({internal:!0,stroke:!0,handle:!0}).expand(a.multiply(2))._containsPoint(e))return null;var s,l,u=!(t.guides&&!this._guide||t.selected&&!this.isSelected()||t.type&&t.type!==d.hyphenate(this._class)||t.class&&!(this instanceof t.class)),c=t.match,h=this;function f(e){return e&&c&&!c(e)&&(e=null),e&&t.all&&t.all.push(e),e}function p(t,n){var i=n?s["get"+n]():h.getPosition();if(e.subtract(i).divide(a).length<=1)return new R(t,h,{name:n?d.hyphenate(n):t,point:i})}var m=t.position,g=t.center,v=t.bounds;if(u&&this._parent&&(m||g||v)){if((g||v)&&(s=this.getInternalBounds()),!(l=m&&p("position")||g&&p("center","Center"))&&v)for(var y=["TopLeft","TopRight","BottomLeft","BottomRight","LeftCenter","TopCenter","RightCenter","BottomCenter"],_=0;_<8&&!l;_++)l=p("bounds",y[_]);l=f(l)}return l||(l=this._hitTestChildren(e,t,r)||u&&f(this._hitTestSelf(e,t,r,this.getStrokeScaling()?null:r._shiftless().invert()))||null),l&&l.point&&(l.point=i.transform(l.point)),l},_hitTestSelf:function(e,t){if(t.fill&&this.hasFill()&&this._contains(e))return new R("fill",this)},matches:function(e,t){var n=typeof e;if("object"===n){for(var i in e)if(e.hasOwnProperty(i)&&!this.matches(i,e[i]))return!1;return!0}if("function"===n)return e(this);if("match"===e)return t(this);var r=/^(empty|editable)$/.test(e)?this["is"+d.capitalize(e)]():"type"===e?d.hyphenate(this._class):this[e];if("class"===e){if("function"==typeof t)return this instanceof t;r=this._class}if("function"==typeof t)return!!t(r);if(t){if(t.test)return t.test(r);if(d.isPlainObject(t))return function e(t,n){for(var i in t)if(t.hasOwnProperty(i)){var r=t[i],o=n[i];if(d.isPlainObject(r)&&d.isPlainObject(o)){if(!e(r,o))return!1}else if(!d.equals(r,o))return!1}return!0}(t,r)}return d.equals(r,t)},getItems:function(e){return M._getItems(this,e,this._matrix)},getItem:function(e){return M._getItems(this,e,this._matrix,null,!0)[0]||null},statics:{_getItems:function e(t,n,i,r,o){if(!r){var a="object"==typeof n&&n,s=a&&a.overlapping,l=a&&a.inside,u=(y=s||l)&&C.read([y]);r={items:[],recursive:a&&!1!==a.recursive,inside:!!l,overlapping:!!s,rect:u,path:s&&new N.Rectangle({rectangle:u,insert:!1})},a&&(n=d.filter({},n,{recursive:!0,inside:!0,overlapping:!0}))}var c=t._children,h=r.items;i=(u=r.rect)&&(i||new S);for(var f=0,p=c&&c.length;f<p;f++){var m=c[f],g=i&&i.appended(m._matrix),v=!0;if(u){var y=m.getBounds(g);if(!u.intersects(y))continue;u.contains(y)||r.overlapping&&(y.contains(u)||r.path.intersects(m,g))||(v=!1)}if(v&&m.matches(n)&&(h.push(m),o))break;if(!1!==r.recursive&&e(m,n,g,r,o),o&&h.length>0)break}return h}}},{importJSON:function(e){var t=d.importJSON(e,this);return t!==this?this.addChild(t):t},addChild:function(e){return this.insertChild(l,e)},insertChild:function(e,t){var n=t?this.insertChildren(e,[t]):null;return n&&n[0]},addChildren:function(e){return this.insertChildren(this._children.length,e)},insertChildren:function(e,t){var n=this._children;if(n&&t&&t.length>0){for(var i={},r=(t=d.slice(t)).length-1;r>=0;r--){var o=(u=t[r])&&u._id;!u||i[o]?t.splice(r,1):(u._remove(!1,!0),i[o]=!0)}d.splice(n,t,e,0);for(var a=this._project,s=a._changes,l=(r=0,t.length);r<l;r++){var u,c=(u=t[r])._name;u._parent=this,u._setProject(a,!0),c&&u.setName(c),s&&u._changed(5)}this._changed(11)}else t=null;return t},_insertItem:"#insertChild",_insertAt:function(e,t){var n=e&&e._getOwner(),i=e!==this&&n?this:null;return i&&(i._remove(!1,!0),n._insertItem(e._index+t,i)),i},insertAbove:function(e){return this._insertAt(e,1)},insertBelow:function(e){return this._insertAt(e,0)},sendToBack:function(){var e=this._getOwner();return e?e._insertItem(0,this):null},bringToFront:function(){var e=this._getOwner();return e?e._insertItem(l,this):null},appendTop:"#addChild",appendBottom:function(e){return this.insertChild(0,e)},moveAbove:"#insertAbove",moveBelow:"#insertBelow",addTo:function(e){return e._insertItem(l,this)},copyTo:function(e){return this.clone(!1).addTo(e)},reduce:function(e){var t=this._children;if(t&&1===t.length){var n=t[0].reduce(e);return this._parent?(n.insertAbove(this),this.remove()):n.remove(),n}return this},_removeNamed:function(){var e=this._getOwner();if(e){var t=e._children,n=e._namedChildren,i=this._name,r=n[i],o=r?r.indexOf(this):-1;-1!==o&&(t[i]==this&&delete t[i],r.splice(o,1),r.length?t[i]=r[0]:delete n[i])}},_remove:function(e,t){var n=this._getOwner(),i=this._project,r=this._index;return!!n&&(this._name&&this._removeNamed(),null!=r&&(i._activeLayer===this&&(i._activeLayer=this.getNextSibling()||this.getPreviousSibling()),d.splice(n._children,null,r,1)),this._installEvents(!1),e&&i._changes&&this._changed(5),t&&n._changed(11,this),this._parent=null,!0)},remove:function(){return this._remove(!0,!0)},replaceWith:function(e){var t=e&&e.insertBelow(this);return t&&this.remove(),t},removeChildren:function(e,t){if(!this._children)return null;e=e||0,t=d.pick(t,this._children.length);for(var n=d.splice(this._children,null,e,t-e),i=n.length-1;i>=0;i--)n[i]._remove(!0,!1);return n.length>0&&this._changed(11),n},clear:"#removeChildren",reverseChildren:function(){if(this._children){this._children.reverse();for(var e=0,t=this._children.length;e<t;e++)this._children[e]._index=e;this._changed(11)}},isEmpty:function(){var e=this._children;return!e||!e.length},isEditable:function(){for(var e=this;e;){if(!e._visible||e._locked)return!1;e=e._parent}return!0},hasFill:function(){return this.getStyle().hasFill()},hasStroke:function(){return this.getStyle().hasStroke()},hasShadow:function(){return this.getStyle().hasShadow()},_getOrder:function(e){function t(e){var t=[];do{t.unshift(e)}while(e=e._parent);return t}for(var n=t(this),i=t(e),r=0,o=Math.min(n.length,i.length);r<o;r++)if(n[r]!=i[r])return n[r]._index<i[r]._index?1:-1;return 0},hasChildren:function(){return this._children&&this._children.length>0},isInserted:function(){return!!this._parent&&this._parent.isInserted()},isAbove:function(e){return-1===this._getOrder(e)},isBelow:function(e){return 1===this._getOrder(e)},isParent:function(e){return this._parent===e},isChild:function(e){return e&&e._parent===this},isDescendant:function(e){for(var t=this;t=t._parent;)if(t===e)return!0;return!1},isAncestor:function(e){return!!e&&e.isDescendant(this)},isSibling:function(e){return this._parent===e._parent},isGroupedWith:function(e){for(var t=this._parent;t;){if(t._parent&&/^(Group|Layer|CompoundPath)$/.test(t._class)&&e.isDescendant(t))return!0;t=t._parent}return!1}},d.each(["rotate","scale","shear","skew"],function(e){var t="rotate"===e;this[e]=function(){var n=(t?d:y).read(arguments),i=y.read(arguments,0,{readNull:!0});return this.transform((new S)[e](n,i||this.getPosition(!0)))}},{translate:function(){var e=new S;return this.transform(e.translate.apply(e,arguments))},transform:function(e,t,n,i){var r=this._matrix,o=e&&!e.isIdentity(),a=(t||this._applyMatrix)&&(!r.isIdentity()||o||t&&n&&this._children);if(!o&&!a)return this;if(o){!e.isInvertible()&&r.isInvertible()&&(r._backup=r.getValues()),r.prepend(e,!0);var s=this._style,l=s.getFillColor(!0),u=s.getStrokeColor(!0);l&&l.transform(e),u&&u.transform(e)}if(a&&(a=this._transformContent(r,n,i))){var c=this._pivot;c&&r._transformPoint(c,c,!0),r.reset(!0),i&&this._canApplyMatrix&&(this._applyMatrix=!0)}var d=this._bounds,h=this._position;(o||a)&&this._changed(9);var f=o&&d&&e.decompose();if(f&&f.skewing.isZero()&&f.rotation%90==0){for(var p in d){var m=d[p];if(m.nonscaling)delete d[p];else if(a||!m.internal){var g=m.rect;e._transformBounds(g,g)}}this._bounds=d;var v=d[this._getBoundsCacheKey(this._boundsOptions||{})];v&&(this._position=v.rect.getCenter(!0))}else o&&h&&this._pivot&&(this._position=e._transformPoint(h,h));return this},_transformContent:function(e,t,n){var i=this._children;if(i){for(var r=0,o=i.length;r<o;r++)i[r].transform(e,!0,t,n);return!0}},globalToLocal:function(){return this.getGlobalMatrix(!0)._inverseTransform(y.read(arguments))},localToGlobal:function(){return this.getGlobalMatrix(!0)._transformPoint(y.read(arguments))},parentToLocal:function(){return this._matrix._inverseTransform(y.read(arguments))},localToParent:function(){return this._matrix._transformPoint(y.read(arguments))},fitBounds:function(e,t){e=C.read(arguments);var n=this.getBounds(),i=n.height/n.width,r=e.height/e.width,o=(t?i>r:i<r)?e.width/n.width:e.height/n.height,a=new C(new y,new b(n.width*o,n.height*o));a.setCenter(e.getCenter()),this.setBounds(a)}}),{_setStyles:function(e,t,n){var i=this._style,r=this._matrix;if(i.hasFill()&&(e.fillStyle=i.getFillColor().toCanvasStyle(e,r)),i.hasStroke()){e.strokeStyle=i.getStrokeColor().toCanvasStyle(e,r),e.lineWidth=i.getStrokeWidth();var o=i.getStrokeJoin(),s=i.getStrokeCap(),l=i.getMiterLimit();if(o&&(e.lineJoin=o),s&&(e.lineCap=s),l&&(e.miterLimit=l),a.support.nativeDash){var u=i.getDashArray(),c=i.getDashOffset();u&&u.length&&("setLineDash"in e?(e.setLineDash(u),e.lineDashOffset=c):(e.mozDash=u,e.mozDashOffset=c))}}if(i.hasShadow()){var d=t.pixelRatio||1,h=n._shiftless().prepend((new S).scale(d,d)),f=h.transform(new y(i.getShadowBlur(),0)),p=h.transform(this.getShadowOffset());e.shadowColor=i.getShadowColor().toCanvasStyle(e),e.shadowBlur=f.getLength(),e.shadowOffsetX=p.x,e.shadowOffsetY=p.y}},draw:function(e,t,n){var i=this._updateVersion=this._project._updateVersion;if(this._visible&&0!==this._opacity){var r=t.matrices,o=t.viewMatrix,a=this._matrix,s=r[r.length-1].appended(a);if(s.isInvertible()){o=o?o.appended(s):s,r.push(s),t.updateMatrix&&(s._updateVersion=i,this._globalMatrix=s);var l,u,c,d=this._blendMode,h=this._opacity,f="normal"===d,p=le.nativeModes[d],m=f&&1===h||t.dontStart||t.clip||(p||f&&h<1)&&this._canComposite(),g=t.pixelRatio||1;if(!m){var v=this.getStrokeBounds(o);if(!v.width||!v.height)return;c=t.offset,u=t.offset=v.getTopLeft().floor(),l=e,e=se.getContext(v.getSize().ceil().add(1).multiply(g)),1!==g&&e.scale(g,g)}e.save();var y=n?n.appended(a):this._canScaleStroke&&!this.getStrokeScaling(!0)&&o,_=!m&&t.clipItem,b=!y||_;if(m?(e.globalAlpha=h,p&&(e.globalCompositeOperation=d)):b&&e.translate(-u.x,-u.y),b&&(m?a:o).applyToContext(e),_&&t.clipItem.draw(e,t.extend({clip:!0})),y){e.setTransform(g,0,0,g,0,0);var w=t.offset;w&&e.translate(-w.x,-w.y)}this._draw(e,t,o,y),e.restore(),r.pop(),t.clip&&!t.dontFinish&&e.clip(),m||(le.process(d,e,l,h,u.subtract(c).multiply(g)),se.release(e),t.offset=c)}}},_isUpdated:function(e){var t=this._parent;if(t instanceof W)return t._isUpdated(e);var n=this._updateVersion===e;return!n&&t&&t._visible&&t._isUpdated(e)&&(this._updateVersion=e,n=!0),n},_drawSelection:function(e,t,n,i,r){var o=this._selection,a=1&o,s=2&o||a&&this._selectBounds,l=4&o;if(this._drawSelected||(a=!1),(a||s||l)&&this._isUpdated(r)){var u,c=this.getSelectedColor(!0)||(u=this.getLayer())&&u.getSelectedColor(!0),d=t.appended(this.getGlobalMatrix(!0)),h=n/2;if(e.strokeStyle=e.fillStyle=c?c.toCanvasStyle(e):"#009dec",e.lineWidth=2.5,a&&this._drawSelected(e,d,i),l){var f=this.getPosition(!0),p=f.x,m=f.y;e.beginPath(),e.arc(p,m,h,0,2*Math.PI,!0),e.stroke();for(var g=[[0,-1],[1,0],[0,1],[-1,0]],v=h,y=n+1,_=0;_<4;_++){var b=g[_],w=b[0],C=b[1];e.moveTo(p+w*v,m+C*v),e.lineTo(p+w*y,m+C*y),e.stroke()}}if(s){var x=d._transformCorners(this.getInternalBounds());e.beginPath();for(_=0;_<8;_++)e[_?"lineTo":"moveTo"](x[_],x[++_]);e.closePath(),e.stroke();for(_=0;_<8;_++)e.fillRect(x[_]-h,x[++_]-h,n,n)}}},_canComposite:function(){return!1}},d.each(["down","drag","up","move"],function(e){this["removeOn"+d.capitalize(e)]=function(){var t={};return t[e]=!0,this.removeOn(t)}},{removeOn:function(e){for(var t in e)if(e[t]){var n="mouse"+t,i=this._project,r=i._removeSets=i._removeSets||{};r[n]=r[n]||{},r[n][this._id]=this}return this}})),O=M.extend({_class:"Group",_selectBounds:!1,_selectChildren:!0,_serializeFields:{children:[]},initialize:function(e){this._children=[],this._namedChildren={},this._initialize(e)||this.addChildren(Array.isArray(e)?e:arguments)},_changed:function e(t){e.base.call(this,t),1026&t&&(this._clipItem=l)},_getClipItem:function(){var e=this._clipItem;if(e===l){e=null;for(var t=this._children,n=0,i=t.length;n<i;n++)if(t[n]._clipMask){e=t[n];break}this._clipItem=e}return e},isClipped:function(){return!!this._getClipItem()},setClipped:function(e){var t=this.getFirstChild();t&&t.setClipMask(e)},_getBounds:function e(t,n){var i=this._getClipItem();return i?i._getCachedBounds(t&&t.appended(i._matrix),d.set({},n,{stroke:!1})):e.base.call(this,t,n)},_hitTestChildren:function e(t,n,i){var r=this._getClipItem();return(!r||r.contains(t))&&e.base.call(this,t,n,i,r)},_draw:function(e,t){var n=t.clip,i=!n&&this._getClipItem();t=t.extend({clipItem:i,clip:!1}),n?(e.beginPath(),t.dontStart=t.dontFinish=!0):i&&i.draw(e,t.extend({clip:!0}));for(var r=this._children,o=0,a=r.length;o<a;o++){var s=r[o];s!==i&&s.draw(e,t)}}}),T=O.extend({_class:"Layer",initialize:function(){O.apply(this,arguments)},_getOwner:function(){return this._parent||null!=this._index&&this._project},isInserted:function e(){return this._parent?e.base.call(this):null!=this._index},activate:function(){this._project._activeLayer=this},_hitTestSelf:function(){}}),I=M.extend({_class:"Shape",_applyMatrix:!1,_canApplyMatrix:!1,_canScaleStroke:!0,_serializeFields:{type:null,size:null,radius:null},initialize:function(e,t){this._initialize(e,t)},_equals:function(e){return this._type===e._type&&this._size.equals(e._size)&&d.equals(this._radius,e._radius)},copyContent:function(e){this.setType(e._type),this.setSize(e._size),this.setRadius(e._radius)},getType:function(){return this._type},setType:function(e){this._type=e},getShape:"#getType",setShape:"#setType",getSize:function(){var e=this._size;return new w(e.width,e.height,this,"setSize")},setSize:function(){var e=b.read(arguments);if(this._size){if(!this._size.equals(e)){var t=this._type,n=e.width,i=e.height;"rectangle"===t?this._radius.set(b.min(this._radius,e.divide(2))):"circle"===t?(n=i=(n+i)/2,this._radius=n/2):"ellipse"===t&&this._radius._set(n/2,i/2),this._size._set(n,i),this._changed(9)}}else this._size=e.clone()},getRadius:function(){var e=this._radius;return"circle"===this._type?e:new w(e.width,e.height,this,"setRadius")},setRadius:function(e){var t=this._type;if("circle"===t){if(e===this._radius)return;var n=2*e;this._radius=e,this._size._set(n,n)}else if(e=b.read(arguments),this._radius){if(this._radius.equals(e))return;if(this._radius.set(e),"rectangle"===t){n=b.max(this._size,e.multiply(2));this._size.set(n)}else"ellipse"===t&&this._size._set(2*e.width,2*e.height)}else this._radius=e.clone();this._changed(9)},isEmpty:function(){return!1},toPath:function(e){var t=new(N[d.capitalize(this._type)])({center:new y,size:this._size,radius:this._radius,insert:!1});return t.copyAttributes(this),a.settings.applyMatrix&&t.setApplyMatrix(!0),(e===l||e)&&t.insertAbove(this),t},toShape:"#clone",_asPathItem:function(){return this.toPath(!1)},_draw:function(e,t,n,i){var r=this._style,o=r.hasFill(),a=r.hasStroke(),s=t.dontFinish||t.clip,l=!i;if(o||a||s){var u=this._type,c=this._radius,d="circle"===u;if(t.dontStart||e.beginPath(),l&&d)e.arc(0,0,c,0,2*Math.PI,!0);else{var h=d?c:c.width,f=d?c:c.height,p=this._size,m=p.width,g=p.height;if(l&&"rectangle"===u&&0===h&&0===f)e.rect(-m/2,-g/2,m,g);else{var v=m/2,y=g/2,_=.44771525016920644,b=h*_,w=f*_,C=[-v,-y+f,-v,-y+w,-v+b,-y,-v+h,-y,v-h,-y,v-b,-y,v,-y+w,v,-y+f,v,y-f,v,y-w,v-b,y,v-h,y,-v+h,y,-v+b,y,-v,y-w,-v,y-f];i&&i.transform(C,C,32),e.moveTo(C[0],C[1]),e.bezierCurveTo(C[2],C[3],C[4],C[5],C[6],C[7]),v!==h&&e.lineTo(C[8],C[9]),e.bezierCurveTo(C[10],C[11],C[12],C[13],C[14],C[15]),y!==f&&e.lineTo(C[16],C[17]),e.bezierCurveTo(C[18],C[19],C[20],C[21],C[22],C[23]),v!==h&&e.lineTo(C[24],C[25]),e.bezierCurveTo(C[26],C[27],C[28],C[29],C[30],C[31])}}e.closePath()}s||!o&&!a||(this._setStyles(e,t,n),o&&(e.fill(r.getFillRule()),e.shadowColor="rgba(0,0,0,0)"),a&&e.stroke())},_canComposite:function(){return!(this.hasFill()&&this.hasStroke())},_getBounds:function(e,t){var n=new C(this._size).setCenter(0,0),i=this._style,r=t.stroke&&i.hasStroke()&&i.getStrokeWidth();return e&&(n=e._transformBounds(n)),r?n.expand(N._getStrokePadding(r,this._getStrokeMatrix(e,t))):n}},new function(){function e(e,t,n){var i=e._radius;if(!i.isZero())for(var r=e._size.divide(2),o=1;o<=4;o++){var a=new y(o>1&&o<4?-1:1,o>2?-1:1),s=a.multiply(r),l=s.subtract(a.multiply(i));if(new C(n?s.add(a.multiply(n)):s,l).contains(t))return{point:l,quadrant:o}}}function t(e,t,n,i){var r=e.divide(t);return(!i||r.isInQuadrant(i))&&r.subtract(r.normalize()).multiply(t).divide(n).length<=1}return{_contains:function t(n){if("rectangle"===this._type){var i=e(this,n);return i?n.subtract(i.point).divide(this._radius).getLength()<=1:t.base.call(this,n)}return n.divide(this.size).getLength()<=.5},_hitTestSelf:function n(i,r,o,a){var s=!1,l=this._style,u=r.stroke&&l.hasStroke(),c=r.fill&&l.hasFill();if(u||c){var d=this._type,h=this._radius,f=u?l.getStrokeWidth()/2:0,p=r._tolerancePadding.add(N._getStrokePadding(f,!l.getStrokeScaling()&&a));if("rectangle"===d){var m=p.multiply(2),g=e(this,i,m);if(g)s=t(i.subtract(g.point),h,p,g.quadrant);else{var v=new C(this._size).setCenter(0,0),y=v.expand(m),_=v.expand(m.negate());s=y._containsPoint(i)&&!_._containsPoint(i)}}else s=t(i,h,p)}return s?new R(u?"stroke":"fill",this):n.base.apply(this,arguments)}}},{statics:new function(){function e(e,t,n,i,r){var o=new I(d.getNamed(r),t);return o._type=e,o._size=n,o._radius=i,o}return{Circle:function(){var t=y.readNamed(arguments,"center"),n=d.readNamed(arguments,"radius");return e("circle",t,new b(2*n),n,arguments)},Rectangle:function(){var t=C.readNamed(arguments,"rectangle"),n=b.min(b.readNamed(arguments,"radius"),t.getSize(!0).divide(2));return e("rectangle",t.getCenter(!0),t.getSize(!0),n,arguments)},Ellipse:function(){var t=I._readEllipse(arguments),n=t.radius;return e("ellipse",t.center,n.multiply(2),n,arguments)},_readEllipse:function(e){var t,n;if(d.hasNamed(e,"radius"))t=y.readNamed(e,"center"),n=b.readNamed(e,"radius");else{var i=C.readNamed(e,"rectangle");t=i.getCenter(!0),n=i.getSize(!0).divide(2)}return{center:t,radius:n}}}}}),P=M.extend({_class:"Raster",_applyMatrix:!1,_canApplyMatrix:!1,_boundsOptions:{stroke:!1,handle:!1},_serializeFields:{crossOrigin:null,source:null},_prioritize:["crossOrigin"],initialize:function(e,t){if(!this._initialize(e,t!==l&&y.read(arguments,1))){var n="string"==typeof e?c.getElementById(e):e;n?this.setImage(n):this.setSource(e)}this._size||(this._size=new b,this._loaded=!1)},_equals:function(e){return this.getSource()===e.getSource()},copyContent:function(e){var t=e._image,n=e._canvas;if(t)this._setImage(t);else if(n){var i=se.getCanvas(e._size);i.getContext("2d").drawImage(n,0,0),this._setImage(i)}this._crossOrigin=e._crossOrigin},getSize:function(){var e=this._size;return new w(e?e.width:0,e?e.height:0,this,"setSize")},setSize:function(){var e=b.read(arguments);if(!e.equals(this._size))if(e.width>0&&e.height>0){var t=this.getElement();this._setImage(se.getCanvas(e)),t&&this.getContext(!0).drawImage(t,0,0,e.width,e.height)}else this._canvas&&se.release(this._canvas),this._size=e.clone()},getWidth:function(){return this._size?this._size.width:0},setWidth:function(e){this.setSize(e,this.getHeight())},getHeight:function(){return this._size?this._size.height:0},setHeight:function(e){this.setSize(this.getWidth(),e)},getLoaded:function(){return this._loaded},isEmpty:function(){var e=this._size;return!e||0===e.width&&0===e.height},getResolution:function(){var e=this._matrix,t=new y(0,0).transform(e),n=new y(1,0).transform(e).subtract(t),i=new y(0,1).transform(e).subtract(t);return new b(72/n.getLength(),72/i.getLength())},getPpi:"#getResolution",getImage:function(){return this._image},setImage:function(e){var t=this;function n(e){var n=t.getView(),i=e&&e.type||"load";n&&t.responds(i)&&(a=n._scope,t.emit(i,new ee(e)))}this._setImage(e),this._loaded?setTimeout(n,0):e&&Q.add(e,{load:function(i){t._setImage(e),n(i)},error:n})},_setImage:function(e){this._canvas&&se.release(this._canvas),e&&e.getContext?(this._image=null,this._canvas=e,this._loaded=!0):(this._image=e,this._canvas=null,this._loaded=!!(e&&e.src&&e.complete)),this._size=new b(e?e.naturalWidth||e.width:0,e?e.naturalHeight||e.height:0),this._context=null,this._changed(521)},getCanvas:function(){if(!this._canvas){var e=se.getContext(this._size);try{this._image&&e.drawImage(this._image,0,0),this._canvas=e.canvas}catch(t){se.release(e)}}return this._canvas},setCanvas:"#setImage",getContext:function(e){return this._context||(this._context=this.getCanvas().getContext("2d")),e&&(this._image=null,this._changed(513)),this._context},setContext:function(e){this._context=e},getSource:function(){var e=this._image;return e&&e.src||this.toDataURL()},setSource:function(e){var t=new s.Image,n=this._crossOrigin;n&&(t.crossOrigin=n),t.src=e,this.setImage(t)},getCrossOrigin:function(){var e=this._image;return e&&e.crossOrigin||this._crossOrigin||""},setCrossOrigin:function(e){this._crossOrigin=e;var t=this._image;t&&(t.crossOrigin=e)},getElement:function(){return this._canvas||this._loaded&&this._image}},{beans:!1,getSubCanvas:function(){var e=C.read(arguments),t=se.getContext(e.getSize());return t.drawImage(this.getCanvas(),e.x,e.y,e.width,e.height,0,0,e.width,e.height),t.canvas},getSubRaster:function(){var e=C.read(arguments),t=new P(M.NO_INSERT);return t._setImage(this.getSubCanvas(e)),t.translate(e.getCenter().subtract(this.getSize().divide(2))),t._matrix.prepend(this._matrix),t.insertAbove(this),t},toDataURL:function(){var e=this._image,t=e&&e.src;if(/^data:/.test(t))return t;var n=this.getCanvas();return n?n.toDataURL.apply(n,arguments):null},drawImage:function(e){var t=y.read(arguments,1);this.getContext(!0).drawImage(e,t.x,t.y)},getAverageColor:function(e){var t,n;if(e?e instanceof j?(n=e,t=e.getBounds()):"object"==typeof e&&("width"in e?t=new C(e):"x"in e&&(t=new C(e.x-.5,e.y-.5,1,1))):t=this.getBounds(),!t)return null;var i=Math.min(t.width,32),r=Math.min(t.height,32),o=P._sampleContext;o?o.clearRect(0,0,33,33):o=P._sampleContext=se.getContext(new b(32)),o.save();var a=(new S).scale(i/t.width,r/t.height).translate(-t.x,-t.y);a.applyToContext(o),n&&n.draw(o,new d({clip:!0,matrices:[a]})),this._matrix.applyToContext(o);var s=this.getElement(),l=this._size;s&&o.drawImage(s,-l.width/2,-l.height/2),o.restore();for(var u=o.getImageData(.5,.5,Math.ceil(i),Math.ceil(r)).data,c=[0,0,0],h=0,f=0,p=u.length;f<p;f+=4){var m=u[f+3];h+=m,m/=255,c[0]+=u[f]*m,c[1]+=u[f+1]*m,c[2]+=u[f+2]*m}for(f=0;f<3;f++)c[f]/=h;return h?G.read(c):null},getPixel:function(){var e=y.read(arguments),t=this.getContext().getImageData(e.x,e.y,1,1).data;return new G("rgb",[t[0]/255,t[1]/255,t[2]/255],t[3]/255)},setPixel:function(){var e=y.read(arguments),t=G.read(arguments),n=t._convert("rgb"),i=t._alpha,r=this.getContext(!0),o=r.createImageData(1,1),a=o.data;a[0]=255*n[0],a[1]=255*n[1],a[2]=255*n[2],a[3]=null!=i?255*i:255,r.putImageData(o,e.x,e.y)},createImageData:function(){var e=b.read(arguments);return this.getContext().createImageData(e.width,e.height)},getImageData:function(){var e=C.read(arguments);return e.isEmpty()&&(e=new C(this._size)),this.getContext().getImageData(e.x,e.y,e.width,e.height)},setImageData:function(e){var t=y.read(arguments,1);this.getContext(!0).putImageData(e,t.x,t.y)},_getBounds:function(e,t){var n=new C(this._size).setCenter(0,0);return e?e._transformBounds(n):n},_hitTestSelf:function(e){if(this._contains(e)){var t=this;return new R("pixel",t,{offset:e.add(t._size.divide(2)).round(),color:{get:function(){return t.getPixel(this.offset)}}})}},_draw:function(e){var t=this.getElement();t&&(e.globalAlpha=this._opacity,e.drawImage(t,-this._size.width/2,-this._size.height/2))},_canComposite:function(){return!0}}),L=M.extend({_class:"SymbolItem",_applyMatrix:!1,_canApplyMatrix:!1,_boundsOptions:{stroke:!0},_serializeFields:{symbol:null},initialize:function(e,t){this._initialize(e,t!==l&&y.read(arguments,1))||this.setDefinition(e instanceof A?e:new A(e))},_equals:function(e){return this._definition===e._definition},copyContent:function(e){this.setDefinition(e._definition)},getDefinition:function(){return this._definition},setDefinition:function(e){this._definition=e,this._changed(9)},getSymbol:"#getDefinition",setSymbol:"#setDefinition",isEmpty:function(){return this._definition._item.isEmpty()},_getBounds:function(e,t){var n=this._definition._item;return n._getCachedBounds(n._matrix.prepended(e),t)},_hitTestSelf:function(e,t,n){var i=this._definition._item._hitTest(e,t,n);return i&&(i.item=this),i},_draw:function(e,t){this._definition._item.draw(e,t)}}),A=d.extend({_class:"SymbolDefinition",initialize:function(e,t){this._id=v.get(),this.project=a.project,e&&this.setItem(e,t)},_serialize:function(e,t){return t.add(this,function(){return d.serialize([this._class,this._item],e,!1,t)})},_changed:function(e){8&e&&M._clearBoundsCache(this),1&e&&this.project._changed(e)},getItem:function(){return this._item},setItem:function(e,t){e._symbol&&(e=e.clone()),this._item&&(this._item._symbol=null),this._item=e,e.remove(),e.setSelected(!1),t||e.setPosition(new y),e._symbol=this,this._changed(9)},getDefinition:"#getItem",setDefinition:"#setItem",place:function(e){return new L(this,e)},clone:function(){return new A(this._item.clone(!1))},equals:function(e){return e===this||e&&this._item.equals(e._item)||!1}}),R=d.extend({_class:"HitResult",initialize:function(e,t,n){this.type=e,this.item=t,n&&this.inject(n)},statics:{getOptions:function(e){var t=e&&d.read(e);return d.set({type:null,tolerance:a.settings.hitTolerance,fill:!t,stroke:!t,segments:!t,handles:!1,ends:!1,position:!1,center:!1,bounds:!1,guides:!1,selected:!1},t)}}}),B=d.extend({_class:"Segment",beans:!0,_selection:0,initialize:function(e,t,n,i,r,o){var a,s,u,c,d=arguments.length;d>0&&(null==e||"object"==typeof e?1===d&&e&&"point"in e?(a=e.point,s=e.handleIn,u=e.handleOut,c=e.selection):(a=e,s=t,u=n,c=i):(a=[e,t],s=n!==l?[n,i]:null,u=r!==l?[r,o]:null)),new D(a,this,"_point"),new D(s,this,"_handleIn"),new D(u,this,"_handleOut"),c&&this.setSelection(c)},_serialize:function(e,t){var n=this._point,i=this._selection,r=i||this.hasHandles()?[n,this._handleIn,this._handleOut]:n;return i&&r.push(i),d.serialize(r,e,!0,t)},_changed:function(e){var t=this._path;if(t){var n,i=t._curves,r=this._index;i&&(e&&e!==this._point&&e!==this._handleIn||!(n=r>0?i[r-1]:t._closed?i[i.length-1]:null)||n._changed(),e&&e!==this._point&&e!==this._handleOut||!(n=i[r])||n._changed()),t._changed(25)}},getPoint:function(){return this._point},setPoint:function(){this._point.set(y.read(arguments))},getHandleIn:function(){return this._handleIn},setHandleIn:function(){this._handleIn.set(y.read(arguments))},getHandleOut:function(){return this._handleOut},setHandleOut:function(){this._handleOut.set(y.read(arguments))},hasHandles:function(){return!this._handleIn.isZero()||!this._handleOut.isZero()},isSmooth:function(){var e=this._handleIn,t=this._handleOut;return!e.isZero()&&!t.isZero()&&e.isCollinear(t)},clearHandles:function(){this._handleIn._set(0,0),this._handleOut._set(0,0)},getSelection:function(){return this._selection},setSelection:function(e){var t=this._selection,n=this._path;this._selection=e=e||0,n&&e!==t&&(n._updateSelection(this,t,e),n._changed(129))},_changeSelection:function(e,t){var n=this._selection;this.setSelection(t?n|e:n&~e)},isSelected:function(){return!!(7&this._selection)},setSelected:function(e){this._changeSelection(7,e)},getIndex:function(){return this._index!==l?this._index:null},getPath:function(){return this._path||null},getCurve:function(){var e=this._path,t=this._index;return e?(t>0&&!e._closed&&t===e._segments.length-1&&t--,e.getCurves()[t]||null):null},getLocation:function(){var e=this.getCurve();return e?new z(e,this===e._segment1?0:1):null},getNext:function(){var e=this._path&&this._path._segments;return e&&(e[this._index+1]||this._path._closed&&e[0])||null},smooth:function(e,t,n){var i=e||{},r=i.type,o=i.factor,a=this.getPrevious(),s=this.getNext(),u=(a||this)._point,c=this._point,d=(s||this)._point,h=u.getDistance(c),f=c.getDistance(d);if(r&&"catmull-rom"!==r){if("geometric"!==r)throw new Error("Smoothing method '"+r+"' not supported.");if(a&&s){var p=u.subtract(d),m=o===l?.4:o,g=m*h/(h+f);t||this.setHandleIn(p.multiply(g)),n||this.setHandleOut(p.multiply(g-m))}}else{var v=o===l?.5:o,_=Math.pow(h,v),b=_*_,w=Math.pow(f,v),C=w*w;if(!t&&a){var x=2*C+3*w*_+b,S=3*w*(w+_);this.setHandleIn(0!==S?new y((C*u._x+x*c._x-b*d._x)/S-c._x,(C*u._y+x*c._y-b*d._y)/S-c._y):new y)}if(!n&&s){x=2*b+3*_*w+C,S=3*_*(_+w);this.setHandleOut(0!==S?new y((b*d._x+x*c._x-C*u._x)/S-c._x,(b*d._y+x*c._y-C*u._y)/S-c._y):new y)}}},getPrevious:function(){var e=this._path&&this._path._segments;return e&&(e[this._index-1]||this._path._closed&&e[e.length-1])||null},isFirst:function(){return!this._index},isLast:function(){var e=this._path;return e&&this._index===e._segments.length-1||!1},reverse:function(){var e=this._handleIn,t=this._handleOut,n=e.clone();e.set(t),t.set(n)},reversed:function(){return new B(this._point,this._handleOut,this._handleIn)},remove:function(){return!!this._path&&!!this._path.removeSegment(this._index)},clone:function(){return new B(this._point,this._handleIn,this._handleOut)},equals:function(e){return e===this||e&&this._class===e._class&&this._point.equals(e._point)&&this._handleIn.equals(e._handleIn)&&this._handleOut.equals(e._handleOut)||!1},toString:function(){var e=["point: "+this._point];return this._handleIn.isZero()||e.push("handleIn: "+this._handleIn),this._handleOut.isZero()||e.push("handleOut: "+this._handleOut),"{ "+e.join(", ")+" }"},transform:function(e){this._transformCoordinates(e,new Array(6),!0),this._changed()},interpolate:function(e,t,n){var i=1-n,r=n,o=e._point,a=t._point,s=e._handleIn,l=t._handleIn,u=t._handleOut,c=e._handleOut;this._point._set(i*o._x+r*a._x,i*o._y+r*a._y,!0),this._handleIn._set(i*s._x+r*l._x,i*s._y+r*l._y,!0),this._handleOut._set(i*c._x+r*u._x,i*c._y+r*u._y,!0),this._changed()},_transformCoordinates:function(e,t,n){var i=this._point,r=n&&this._handleIn.isZero()?null:this._handleIn,o=n&&this._handleOut.isZero()?null:this._handleOut,a=i._x,s=i._y,l=2;return t[0]=a,t[1]=s,r&&(t[l++]=r._x+a,t[l++]=r._y+s),o&&(t[l++]=o._x+a,t[l++]=o._y+s),e&&(e._transformCoordinates(t,t,l/2),a=t[0],s=t[1],n?(i._x=a,i._y=s,l=2,r&&(r._x=t[l++]-a,r._y=t[l++]-s),o&&(o._x=t[l++]-a,o._y=t[l++]-s)):(r||(t[l++]=a,t[l++]=s),o||(t[l++]=a,t[l++]=s))),t}}),D=y.extend({initialize:function(e,t,n){var i,r,o;if(e)if((i=e[0])!==l)r=e[1];else{var a=e;(i=a.x)===l&&(i=(a=y.read(arguments)).x),r=a.y,o=a.selected}else i=r=0;this._x=i,this._y=r,this._owner=t,t[n]=this,o&&this.setSelected(!0)},_set:function(e,t){return this._x=e,this._y=t,this._owner._changed(this),this},getX:function(){return this._x},setX:function(e){this._x=e,this._owner._changed(this)},getY:function(){return this._y},setY:function(e){this._y=e,this._owner._changed(this)},isZero:function(){var e=g.isZero;return e(this._x)&&e(this._y)},isSelected:function(){return!!(this._owner._selection&this._getSelection())},setSelected:function(e){this._owner._changeSelection(this._getSelection(),e)},_getSelection:function(){var e=this._owner;return this===e._point?1:this===e._handleIn?2:this===e._handleOut?4:0}}),F=d.extend({_class:"Curve",beans:!0,initialize:function(e,t,n,i,r,o,a,s){var l,u,c,d,h,f,p=arguments.length;3===p?(this._path=e,l=t,u=n):p?1===p?"segment1"in e?(l=new B(e.segment1),u=new B(e.segment2)):"point1"in e?(c=e.point1,h=e.handle1,f=e.handle2,d=e.point2):Array.isArray(e)&&(c=[e[0],e[1]],d=[e[6],e[7]],h=[e[2]-e[0],e[3]-e[1]],f=[e[4]-e[6],e[5]-e[7]]):2===p?(l=new B(e),u=new B(t)):4===p?(c=e,h=t,f=n,d=i):8===p&&(c=[e,t],d=[a,s],h=[n-e,i-t],f=[r-a,o-s]):(l=new B,u=new B),this._segment1=l||new B(c,null,h),this._segment2=u||new B(d,f,null)},_serialize:function(e,t){return d.serialize(this.hasHandles()?[this.getPoint1(),this.getHandle1(),this.getHandle2(),this.getPoint2()]:[this.getPoint1(),this.getPoint2()],e,!0,t)},_changed:function(){this._length=this._bounds=l},clone:function(){return new F(this._segment1,this._segment2)},toString:function(){var e=["point1: "+this._segment1._point];return this._segment1._handleOut.isZero()||e.push("handle1: "+this._segment1._handleOut),this._segment2._handleIn.isZero()||e.push("handle2: "+this._segment2._handleIn),e.push("point2: "+this._segment2._point),"{ "+e.join(", ")+" }"},classify:function(){return F.classify(this.getValues())},remove:function(){var e=!1;if(this._path){var t=this._segment2,n=t._handleOut;(e=t.remove())&&this._segment1._handleOut.set(n)}return e},getPoint1:function(){return this._segment1._point},setPoint1:function(){this._segment1._point.set(y.read(arguments))},getPoint2:function(){return this._segment2._point},setPoint2:function(){this._segment2._point.set(y.read(arguments))},getHandle1:function(){return this._segment1._handleOut},setHandle1:function(){this._segment1._handleOut.set(y.read(arguments))},getHandle2:function(){return this._segment2._handleIn},setHandle2:function(){this._segment2._handleIn.set(y.read(arguments))},getSegment1:function(){return this._segment1},getSegment2:function(){return this._segment2},getPath:function(){return this._path},getIndex:function(){return this._segment1._index},getNext:function(){var e=this._path&&this._path._curves;return e&&(e[this._segment1._index+1]||this._path._closed&&e[0])||null},getPrevious:function(){var e=this._path&&this._path._curves;return e&&(e[this._segment1._index-1]||this._path._closed&&e[e.length-1])||null},isFirst:function(){return!this._segment1._index},isLast:function(){var e=this._path;return e&&this._segment1._index===e._curves.length-1||!1},isSelected:function(){return this.getPoint1().isSelected()&&this.getHandle1().isSelected()&&this.getHandle2().isSelected()&&this.getPoint2().isSelected()},setSelected:function(e){this.getPoint1().setSelected(e),this.getHandle1().setSelected(e),this.getHandle2().setSelected(e),this.getPoint2().setSelected(e)},getValues:function(e){return F.getValues(this._segment1,this._segment2,e)},getPoints:function(){for(var e=this.getValues(),t=[],n=0;n<8;n+=2)t.push(new y(e[n],e[n+1]));return t}},{getLength:function(){return null==this._length&&(this._length=F.getLength(this.getValues(),0,1)),this._length},getArea:function(){return F.getArea(this.getValues())},getLine:function(){return new k(this._segment1._point,this._segment2._point)},getPart:function(e,t){return new F(F.getPart(this.getValues(),e,t))},getPartLength:function(e,t){return F.getLength(this.getValues(),e,t)},divideAt:function(e){return this.divideAtTime(e&&e.curve===this?e.time:this.getTimeAt(e))},divideAtTime:function(e,t){var n=null;if(e>=1e-8&&e<=1-1e-8){var i=F.subdivide(this.getValues(),e),r=i[0],o=i[1],a=t||this.hasHandles(),s=this._segment1,l=this._segment2,u=this._path;a&&(s._handleOut._set(r[2]-r[0],r[3]-r[1]),l._handleIn._set(o[4]-o[6],o[5]-o[7]));var c=r[6],d=r[7],h=new B(new y(c,d),a&&new y(r[4]-c,r[5]-d),a&&new y(o[2]-c,o[3]-d));u?(u.insert(s._index+1,h),n=this.getNext()):(this._segment2=h,this._changed(),n=new F(h,l))}return n},splitAt:function(e){var t=this._path;return t?t.splitAt(e):null},splitAtTime:function(e){return this.splitAt(this.getLocationAtTime(e))},divide:function(e,t){return this.divideAtTime(e===l?.5:t?e:this.getTimeAt(e))},split:function(e,t){return this.splitAtTime(e===l?.5:t?e:this.getTimeAt(e))},reversed:function(){return new F(this._segment2.reversed(),this._segment1.reversed())},clearHandles:function(){this._segment1._handleOut._set(0,0),this._segment2._handleIn._set(0,0)},statics:{getValues:function(e,t,n,i){var r=e._point,o=e._handleOut,a=t._handleIn,s=t._point,l=r.x,u=r.y,c=s.x,d=s.y,h=i?[l,u,l,u,c,d,c,d]:[l,u,l+o._x,u+o._y,c+a._x,d+a._y,c,d];return n&&n._transformCoordinates(h,h,4),h},subdivide:function(e,t){var n=e[0],i=e[1],r=e[2],o=e[3],a=e[4],s=e[5],u=e[6],c=e[7];t===l&&(t=.5);var d=1-t,h=d*n+t*r,f=d*i+t*o,p=d*r+t*a,m=d*o+t*s,g=d*a+t*u,v=d*s+t*c,y=d*h+t*p,_=d*f+t*m,b=d*p+t*g,w=d*m+t*v,C=d*y+t*b,x=d*_+t*w;return[[n,i,h,f,y,_,C,x],[C,x,b,w,g,v,u,c]]},getMonoCurves:function(e,t){var n=[],i=t?0:1,r=e[i+0],o=e[i+2],a=e[i+4],s=e[i+6];if(r>=o==o>=a&&o>=a==a>=s||F.isStraight(e))n.push(e);else{var l=3*(o-a)-r+s,u=2*(r+a)-4*o,c=o-r,d=[],h=g.solveQuadratic(l,u,c,d,1e-8,1-1e-8);if(h){d.sort();var f=d[0],p=F.subdivide(e,f);n.push(p[0]),h>1&&(f=(d[1]-f)/(1-f),p=F.subdivide(p[1],f),n.push(p[0])),n.push(p[1])}else n.push(e)}return n},solveCubic:function(e,t,n,i,r,o){var a=e[t],s=e[t+2],l=e[t+4],u=e[t+6],c=0;if(!(a<n&&u<n&&s<n&&l<n||a>n&&u>n&&s>n&&l>n)){var d=3*(s-a),h=3*(l-s)-d,f=u-a-d-h;c=g.solveCubic(f,h,d,a-n,i,r,o)}return c},getTimeOf:function(e,t){var n=new y(e[0],e[1]),i=new y(e[6],e[7]);if(null===(t.isClose(n,1e-12)?0:t.isClose(i,1e-12)?1:null))for(var r=[t.x,t.y],o=[],a=0;a<2;a++)for(var s=F.solveCubic(e,a,r[a],o,0,1),l=0;l<s;l++){var u=o[l];if(t.isClose(F.getPoint(e,u),1e-7))return u}return t.isClose(n,1e-7)?0:t.isClose(i,1e-7)?1:null},getNearestTime:function(e,t){if(F.isStraight(e)){var n=e[0],i=e[1],r=e[6]-n,o=e[7]-i,a=r*r+o*o;if(0===a)return 0;var s=((t.x-n)*r+(t.y-i)*o)/a;return s<1e-12?0:s>.999999999999?1:F.getTimeOf(e,new y(n+s*r,i+s*o))}var l=1/0,u=0;function c(n){if(n>=0&&n<=1){var i=t.getDistance(F.getPoint(e,n),!0);if(i<l)return l=i,u=n,!0}}for(var d=0;d<=100;d++)c(d/100);for(var h=.005;h>1e-8;)c(u-h)||c(u+h)||(h/=2);return u},getPart:function(e,t,n){var i=t>n;if(i){var r=t;t=n,n=r}return t>0&&(e=F.subdivide(e,t)[1]),n<1&&(e=F.subdivide(e,(n-t)/(1-t))[0]),i?[e[6],e[7],e[4],e[5],e[2],e[3],e[0],e[1]]:e},isFlatEnough:function(e,t){var n=e[0],i=e[1],r=e[2],o=e[3],a=e[4],s=e[5],l=e[6],u=e[7],c=3*r-2*n-l,d=3*o-2*i-u,h=3*a-2*l-n,f=3*s-2*u-i;return Math.max(c*c,h*h)+Math.max(d*d,f*f)<=16*t*t},getArea:function(e){var t=e[0],n=e[1],i=e[2],r=e[3],o=e[4],a=e[5],s=e[6],l=e[7];return 3*((l-n)*(i+o)-(s-t)*(r+a)+r*(t-o)-i*(n-a)+l*(o+t/3)-s*(a+n/3))/20},getBounds:function(e){for(var t=e.slice(0,2),n=t.slice(),i=[0,0],r=0;r<2;r++)F._addBounds(e[r],e[r+2],e[r+4],e[r+6],r,0,t,n,i);return new C(t[0],t[1],n[0]-t[0],n[1]-t[1])},_addBounds:function(e,t,n,i,r,o,a,s,l){function u(e,t){var n=e-t,i=e+t;n<a[r]&&(a[r]=n),i>s[r]&&(s[r]=i)}o/=2;var c=a[r]-o,d=s[r]+o;if(e<c||t<c||n<c||i<c||e>d||t>d||n>d||i>d)if(t<e!=t<i&&n<e!=n<i)u(e,o),u(i,o);else{var h=3*(t-n)-e+i,f=2*(e+n)-4*t,p=t-e,m=g.solveQuadratic(h,f,p,l);u(i,0);for(var v=0;v<m;v++){var y=l[v],_=1-y;1e-8<=y&&y<=1-1e-8&&u(_*_*_*e+3*_*_*y*t+3*_*y*y*n+y*y*y*i,o)}}}}},d.each(["getBounds","getStrokeBounds","getHandleBounds"],function(e){this[e]=function(){this._bounds||(this._bounds={});var t=this._bounds[e];return t||(t=this._bounds[e]=N[e]([this._segment1,this._segment2],!1,this._path)),t.clone()}},{}),d.each({isStraight:function(e,t,n,i){if(t.isZero()&&n.isZero())return!0;var r=i.subtract(e);if(r.isZero())return!1;if(r.isCollinear(t)&&r.isCollinear(n)){var o=new k(e,i);if(o.getDistance(e.add(t))<1e-7&&o.getDistance(i.add(n))<1e-7){var a=r.dot(r),s=r.dot(t)/a,l=r.dot(n)/a;return s>=0&&s<=1&&l<=0&&l>=-1}}return!1},isLinear:function(e,t,n,i){var r=i.subtract(e).divide(3);return t.equals(r)&&n.negate().equals(r)}},function(e,t){this[t]=function(t){var n=this._segment1,i=this._segment2;return e(n._point,n._handleOut,i._handleIn,i._point,t)},this.statics[t]=function(t,n){var i=t[0],r=t[1],o=t[6],a=t[7];return e(new y(i,r),new y(t[2]-i,t[3]-r),new y(t[4]-o,t[5]-a),new y(o,a),n)}},{statics:{},hasHandles:function(){return!this._segment1._handleOut.isZero()||!this._segment2._handleIn.isZero()},hasLength:function(e){return(!this.getPoint1().equals(this.getPoint2())||this.hasHandles())&&this.getLength()>(e||0)},isCollinear:function(e){return e&&this.isStraight()&&e.isStraight()&&this.getLine().isCollinear(e.getLine())},isHorizontal:function(){return this.isStraight()&&Math.abs(this.getTangentAtTime(.5).y)<1e-8},isVertical:function(){return this.isStraight()&&Math.abs(this.getTangentAtTime(.5).x)<1e-8}}),{beans:!1,getLocationAt:function(e,t){return this.getLocationAtTime(t?e:this.getTimeAt(e))},getLocationAtTime:function(e){return null!=e&&e>=0&&e<=1?new z(this,e):null},getTimeAt:function(e,t){return F.getTimeAt(this.getValues(),e,t)},getParameterAt:"#getTimeAt",getOffsetAtTime:function(e){return this.getPartLength(0,e)},getLocationOf:function(){return this.getLocationAtTime(this.getTimeOf(y.read(arguments)))},getOffsetOf:function(){var e=this.getLocationOf.apply(this,arguments);return e?e.getOffset():null},getTimeOf:function(){return F.getTimeOf(this.getValues(),y.read(arguments))},getParameterOf:"#getTimeOf",getNearestLocation:function(){var e=y.read(arguments),t=this.getValues(),n=F.getNearestTime(t,e),i=F.getPoint(t,n);return new z(this,n,i,null,e.getDistance(i))},getNearestPoint:function(){var e=this.getNearestLocation.apply(this,arguments);return e?e.getPoint():e}},new function(){var e=["getPoint","getTangent","getNormal","getWeightedTangent","getWeightedNormal","getCurvature"];return d.each(e,function(e){this[e+"At"]=function(t,n){var i=this.getValues();return F[e](i,n?t:F.getTimeAt(i,t))},this[e+"AtTime"]=function(t){return F[e](this.getValues(),t)}},{statics:{_evaluateMethods:e}})},new function(){function e(e){var t=e[0],n=e[1],i=e[2],r=e[3],o=e[4],a=e[5],s=9*(i-o)+3*(e[6]-t),l=6*(t+o)-12*i,u=3*(i-t),c=9*(r-a)+3*(e[7]-n),d=6*(n+a)-12*r,h=3*(r-n);return function(e){var t=(s*e+l)*e+u,n=(c*e+d)*e+h;return Math.sqrt(t*t+n*n)}}function t(e,t){return Math.max(2,Math.min(16,Math.ceil(32*Math.abs(t-e))))}function n(e,t,n,i){if(null==t||t<0||t>1)return null;var r=e[0],o=e[1],a=e[2],s=e[3],l=e[4],u=e[5],c=e[6],d=e[7],h=g.isZero;h(a-r)&&h(s-o)&&(a=r,s=o),h(l-c)&&h(u-d)&&(l=c,u=d);var f,p,m=3*(a-r),v=3*(l-a)-m,_=c-r-m-v,b=3*(s-o),w=3*(u-s)-b,C=d-o-b-w;if(0===n)f=0===t?r:1===t?c:((_*t+v)*t+m)*t+r,p=0===t?o:1===t?d:((C*t+w)*t+b)*t+o;else{if(t<1e-8?(f=m,p=b):t>1-1e-8?(f=3*(c-l),p=3*(d-u)):(f=(3*_*t+2*v)*t+m,p=(3*C*t+2*w)*t+b),i){0===f&&0===p&&(t<1e-8||t>1-1e-8)&&(f=l-a,p=u-s);var x=Math.sqrt(f*f+p*p);x&&(f/=x,p/=x)}if(3===n){l=6*_*t+2*v,u=6*C*t+2*w;var S=Math.pow(f*f+p*p,1.5);f=0!==S?(f*u-p*l)/S:0,p=0}}return 2===n?new y(p,-f):new y(f,p)}return{statics:{classify:function(e){var t=e[0],n=e[1],i=e[2],r=e[3],o=e[4],a=e[5],s=e[6],u=e[7],c=i*(n-u)+r*(s-t)+t*u-n*s,d=3*(o*(r-n)+a*(t-i)+i*n-r*t),h=d-c,f=h-c+(t*(u-a)+n*(o-s)+s*a-u*o),p=Math.sqrt(f*f+h*h+d*d),m=0!==p?1/p:0,v=g.isZero;function y(e,t,n){var i=t!==l,r=i&&t>0&&t<1,o=i&&n>0&&n<1;return!i||(r||o)&&("loop"!==e||r&&o)||(e="arch",r=o=!1),{type:e,roots:r||o?r&&o?t<n?[t,n]:[n,t]:[r?t:n]:null}}if(h*=m,d*=m,v(f*=m))return v(h)?y(v(d)?"line":"quadratic"):y("serpentine",d/(3*h));var _=3*h*h-4*f*d;if(v(_))return y("cusp",h/(2*f));var b=_>0?Math.sqrt(_/3):Math.sqrt(-_),w=2*f;return y(_>0?"serpentine":"loop",(h+b)/w,(h-b)/w)},getLength:function(n,i,r,o){if(i===l&&(i=0),r===l&&(r=1),F.isStraight(n)){var a=n;r<1&&(a=F.subdivide(a,r)[0],i/=r),i>0&&(a=F.subdivide(a,i)[1]);var s=a[6]-a[0],u=a[7]-a[1];return Math.sqrt(s*s+u*u)}return g.integrate(o||e(n),i,r,t(i,r))},getTimeAt:function(n,i,r){if(r===l&&(r=i<0?1:0),0===i)return r;var o=Math.abs,a=i>0,s=a?r:0,u=a?1:r,c=e(n),d=F.getLength(n,s,u,c),h=o(i)-d;if(o(h)<1e-12)return a?u:s;if(h>1e-12)return null;var f=i/d,p=0;return g.findRoot(function(e){return p+=g.integrate(c,r,e,t(r,e)),r=e,p-i},c,r+f,s,u,32,1e-12)},getPoint:function(e,t){return n(e,t,0,!1)},getTangent:function(e,t){return n(e,t,1,!0)},getWeightedTangent:function(e,t){return n(e,t,1,!1)},getNormal:function(e,t){return n(e,t,2,!0)},getWeightedNormal:function(e,t){return n(e,t,2,!1)},getCurvature:function(e,t){return n(e,t,3,!1).x},getPeaks:function(e){var t=e[0],n=e[1],i=e[2],r=e[3],o=e[4],a=e[5],s=3*i-t-3*o+e[6],l=3*t-6*i+3*o,u=-3*t+3*i,c=3*r-n-3*a+e[7],d=3*n-6*r+3*a,h=-3*n+3*r,f=[];return g.solveCubic(9*(s*s+c*c),9*(s*l+d*c),2*(l*l+d*d)+3*(u*s+h*c),u*l+d*h,f,1e-8,1-1e-8),f.sort()}}}},new function(){function e(e,t,n,i,r,o,a){var s=!a&&n.getPrevious()===r,l=!a&&n!==r&&n.getNext()===r;if(null!==i&&i>=(s?1e-8:0)&&i<=(l?1-1e-8:1)&&null!==o&&o>=(l?1e-8:0)&&o<=(s?1-1e-8:1)){var u=new z(n,i,null,a),c=new z(r,o,null,a);u._intersection=c,c._intersection=u,t&&!t(u)||z.insert(e,u,!0)}}function t(e,t,i,r){return e[0][1]<i?n(e,!0,i):t[0][1]>r?n(t,!1,r):e[0][0]}function n(e,t,n){for(var i=e[0][0],r=e[0][1],o=1,a=e.length;o<a;o++){var s=e[o][0],l=e[o][1];if(t?l>=n:l<=n)return l===n?s:i+(n-r)*(s-i)/(l-r);i=s,r=l}return null}function i(e,t,n,i,r){var o=g.isZero;if(o(i)&&o(r)){var a=F.getTimeOf(e,new y(t,n));return null===a?[]:[a]}for(var s=Math.atan2(-r,i),l=Math.sin(s),u=Math.cos(s),c=[],d=[],h=0;h<8;h+=2){var f=e[h]-t,p=e[h+1]-n;c.push(f*u-p*l,f*l+p*u)}return F.solveCubic(c,1,0,d,0,1),d}function r(n,r,o,s,l,u){var c=Math.min,d=Math.max;if(d(n[0],n[2],n[4],n[6])+1e-12>c(r[0],r[2],r[4],r[6])&&c(n[0],n[2],n[4],n[6])-1e-12<d(r[0],r[2],r[4],r[6])&&d(n[1],n[3],n[5],n[7])+1e-12>c(r[1],r[3],r[5],r[7])&&c(n[1],n[3],n[5],n[7])-1e-12<d(r[1],r[3],r[5],r[7])){var h=a(n,r);if(h)for(var f=0;f<2;f++){var p=h[f];e(l,u,o,p[0],s,p[1],!0)}else{var m=F.isStraight(n),g=F.isStraight(r),v=m&&g,_=m&&!g,b=l.length;if((v?function(t,n,i,r,o,a){var s=k.intersect(t[0],t[1],t[6],t[7],n[0],n[1],n[6],n[7]);s&&e(o,a,i,F.getTimeOf(t,s),r,F.getTimeOf(n,s))}:m||g?function(t,n,r,o,a,s,l){for(var u=n[0],c=n[1],d=i(t,u,c,n[6]-u,n[7]-c),h=0,f=d.length;h<f;h++){var p=d[h],m=F.getPoint(t,p),g=F.getTimeOf(n,m);null!==g&&e(a,s,l?o:r,l?g:p,l?r:o,l?p:g)}}:function n(i,r,o,a,s,l,u,c,d,h,f,p,m){if(++d>=4096||++c>=40)return d;var g,v,y=r[0],_=r[1],b=r[6],w=r[7],C=k.getSignedDistance,x=C(y,_,b,w,r[2],r[3]),S=C(y,_,b,w,r[4],r[5]),E=x*S>0?.75:4/9,M=E*Math.min(0,x,S),O=E*Math.max(0,x,S),T=C(y,_,b,w,i[0],i[1]),I=C(y,_,b,w,i[2],i[3]),P=C(y,_,b,w,i[4],i[5]),L=C(y,_,b,w,i[6],i[7]),A=function(e,t,n,i){var r,o=[0,e],a=[1/3,t],s=[2/3,n],l=[1,i],u=t-(2*e+i)/3,c=n-(e+2*i)/3;if(u*c<0)r=[[o,a,l],[o,s,l]];else{var d=u/c;r=[d>=2?[o,a,l]:d<=.5?[o,s,l]:[o,a,s,l],[o,l]]}return(u||c)<0?r.reverse():r}(T,I,P,L),R=A[0],B=A[1];if(0===x&&0===S&&0===T&&0===I&&0===P&&0===L||null==(g=t(R,B,M,O))||null==(v=t(R.reverse(),B.reverse(),M,O)))return d;var D=h+(f-h)*g,z=h+(f-h)*v;if(Math.max(m-p,z-D)<1e-9){var j=(D+z)/2,N=(p+m)/2;e(s,l,u?a:o,u?N:j,u?o:a,u?j:N)}else if(i=F.getPart(i,g,v),v-g>.8)if(z-D>m-p)j=(D+z)/2,d=n(r,(W=F.subdivide(i,.5))[0],a,o,s,l,!u,c,d,p,m,D,j),d=n(r,W[1],a,o,s,l,!u,c,d,p,m,j,z);else{var W;N=(p+m)/2,d=n((W=F.subdivide(r,.5))[0],i,a,o,s,l,!u,c,d,p,N,D,z),d=n(W[1],i,a,o,s,l,!u,c,d,N,m,D,z)}else d=m-p>=1e-9?n(r,i,a,o,s,l,!u,c,d,p,m,D,z):n(i,r,o,a,s,l,u,c,d,D,z,p,m);return d})(_?r:n,_?n:r,_?s:o,_?o:s,l,u,_,0,0,0,1,0,1),!v||l.length===b)for(f=0;f<4;f++){var w=f>>1,C=1&f,x=6*w,S=6*C,E=new y(n[x],n[x+1]),M=new y(r[S],r[S+1]);E.isClose(M,1e-12)&&e(l,u,o,w,s,C)}}}return l}function o(t,n,i,r){var o=F.classify(t);if("loop"===o.type){var a=o.roots;e(i,r,n,a[0],n,a[1])}return i}function a(e,t){function n(e){var t=e[6]-e[0],n=e[7]-e[1];return t*t+n*n}var i=Math.abs,r=k.getDistance,o=F.isStraight(e),a=F.isStraight(t),s=o&&a,l=n(e)<n(t),u=l?t:e,c=l?e:t,d=u[0],h=u[1],f=u[6]-d,p=u[7]-h;if(r(d,h,f,p,c[0],c[1],!0)<1e-7&&r(d,h,f,p,c[6],c[7],!0)<1e-7)!s&&r(d,h,f,p,u[2],u[3],!0)<1e-7&&r(d,h,f,p,u[4],u[5],!0)<1e-7&&r(d,h,f,p,c[2],c[3],!0)<1e-7&&r(d,h,f,p,c[4],c[5],!0)<1e-7&&(o=a=s=!0);else if(s)return null;if(o^a)return null;for(var m=[e,t],g=[],v=0;v<4&&g.length<2;v++){var _=1&v,b=1^_,w=v>>1,C=F.getTimeOf(m[_],new y(m[b][w?6:0],m[b][w?7:1]));if(null!=C){var x=_?[w,C]:[C,w];(!g.length||i(x[0]-g[0][0])>1e-8&&i(x[1]-g[0][1])>1e-8)&&g.push(x)}if(v>2&&!g.length)break}if(2!==g.length)g=null;else if(!s){var S=F.getPart(e,g[0][0],g[1][0]),E=F.getPart(t,g[0][1],g[1][1]);(i(E[2]-S[2])>1e-7||i(E[3]-S[3])>1e-7||i(E[4]-S[4])>1e-7||i(E[5]-S[5])>1e-7)&&(g=null)}return g}return{getIntersections:function(e){var t=this.getValues(),n=e&&e!==this&&e.getValues();return n?r(t,n,this,e,[]):o(t,this,[])},statics:{getOverlaps:a,getIntersections:function(e,t,n,i,a,s){var l=!t;l&&(t=e);for(var u,c,d=e.length,h=t.length,f=[],p=[],m=0;m<h;m++)f[m]=t[m].getValues(a);for(m=0;m<d;m++){var g=e[m],v=l?f[m]:g.getValues(i),y=g.getPath();y!==c&&(c=y,u=[],p.push(u)),l&&o(v,g,u,n);for(var _=l?m+1:0;_<h;_++){if(s&&u.length)return u;r(v,f[_],g,t[_],u,n)}}u=[],m=0;for(var b=p.length;m<b;m++)u.push.apply(u,p[m]);return u},getCurveLineIntersections:i}}}),z=d.extend({_class:"CurveLocation",initialize:function(e,t,n,i,r){if(t>=.99999999){var o=e.getNext();o&&(t=0,e=o)}this._setCurve(e),this._time=t,this._point=n||e.getPointAtTime(t),this._overlap=i,this._distance=r,this._intersection=this._next=this._previous=null},_setCurve:function(e){var t=e._path;this._path=t,this._version=t?t._version:0,this._curve=e,this._segment=null,this._segment1=e._segment1,this._segment2=e._segment2},_setSegment:function(e){this._setCurve(e.getCurve()),this._segment=e,this._time=e===this._segment1?0:1,this._point=e._point.clone()},getSegment:function(){var e=this._segment;if(!e){var t=this.getCurve(),n=this.getTime();0===n?e=t._segment1:1===n?e=t._segment2:null!=n&&(e=t.getPartLength(0,n)<t.getPartLength(n,1)?t._segment1:t._segment2),this._segment=e}return e},getCurve:function(){var e=this._path,t=this;function n(e){var n=e&&e.getCurve();if(n&&null!=(t._time=n.getTimeOf(t._point)))return t._setCurve(n),n}return e&&e._version!==this._version&&(this._time=this._offset=this._curveOffset=this._curve=null),this._curve||n(this._segment)||n(this._segment1)||n(this._segment2.getPrevious())},getPath:function(){var e=this.getCurve();return e&&e._path},getIndex:function(){var e=this.getCurve();return e&&e.getIndex()},getTime:function(){var e=this.getCurve(),t=this._time;return e&&null==t?this._time=e.getTimeOf(this._point):t},getParameter:"#getTime",getPoint:function(){return this._point},getOffset:function(){var e=this._offset;if(null==e){e=0;var t=this.getPath(),n=this.getIndex();if(t&&null!=n)for(var i=t.getCurves(),r=0;r<n;r++)e+=i[r].getLength();this._offset=e+=this.getCurveOffset()}return e},getCurveOffset:function(){var e=this._curveOffset;if(null==e){var t=this.getCurve(),n=this.getTime();this._curveOffset=e=null!=n&&t&&t.getPartLength(0,n)}return e},getIntersection:function(){return this._intersection},getDistance:function(){return this._distance},divide:function(){var e=this.getCurve(),t=e&&e.divideAtTime(this.getTime());return t&&this._setSegment(t._segment1),t},split:function(){var e=this.getCurve(),t=e._path,n=e&&e.splitAtTime(this.getTime());return n&&this._setSegment(t.getLastSegment()),n},equals:function(e,t){var n=this===e;if(!n&&e instanceof z){var i=this.getCurve(),r=e.getCurve(),o=i._path;if(o===r._path){var a=Math.abs,s=a(this.getOffset()-e.getOffset()),l=!t&&this._intersection,u=!t&&e._intersection;n=(s<1e-7||o&&a(o.getLength()-s)<1e-7)&&(!l&&!u||l&&u&&l.equals(u,!0))}}return n},toString:function(){var e=[],t=this.getPoint(),n=m.instance;t&&e.push("point: "+t);var i=this.getIndex();null!=i&&e.push("index: "+i);var r=this.getTime();return null!=r&&e.push("time: "+n.number(r)),null!=this._distance&&e.push("distance: "+n.number(this._distance)),"{ "+e.join(", ")+" }"},isTouching:function(){var e=this._intersection;if(e&&this.getTangent().isCollinear(e.getTangent())){var t=this.getCurve(),n=e.getCurve();return!(t.isStraight()&&n.isStraight()&&t.getLine().intersect(n.getLine()))}return!1},isCrossing:function(){var e=this._intersection;if(!e)return!1;var t=this.getTime(),n=e.getTime(),i=t>=1e-8&&t<=1-1e-8,r=n>=1e-8&&n<=1-1e-8;if(i&&r)return!this.isTouching();var o=this.getCurve(),a=t<1e-8?o.getPrevious():o,s=e.getCurve(),l=n<1e-8?s.getPrevious():s;if(t>1-1e-8&&(o=o.getNext()),n>1-1e-8&&(s=s.getNext()),!(a&&o&&l&&s))return!1;var u=[];function c(e,t){var n=e.getValues(),i=F.classify(n).roots||F.getPeaks(n),r=i.length,o=t&&r>1?i[r-1]:r>0?i[0]:.5;u.push(F.getLength(n,t?o:0,t?1:o)/2)}function d(e,t,n){return t<n?e>t&&e<n:e>t||e<n}i||(c(a,!0),c(o,!1)),r||(c(l,!0),c(s,!1));var h=this.getPoint(),f=Math.min.apply(Math,u),p=i?o.getTangentAtTime(t):o.getPointAt(f).subtract(h),m=i?p.negate():a.getPointAt(-f).subtract(h),g=r?s.getTangentAtTime(n):s.getPointAt(f).subtract(h),v=r?g.negate():l.getPointAt(-f).subtract(h),y=m.getAngle(),_=p.getAngle(),b=v.getAngle(),w=g.getAngle();return!!(i?d(y,b,w)^d(_,b,w)&&d(y,w,b)^d(_,w,b):d(b,y,_)^d(w,y,_)&&d(b,_,y)^d(w,_,y))},hasOverlap:function(){return!!this._overlap}},d.each(F._evaluateMethods,function(e){var t=e+"At";this[e]=function(){var e=this.getCurve(),n=this.getTime();return null!=n&&e&&e[t](n,!0)}},{preserve:!0}),new function(){function e(e,t,n){var i=e.length,r=0,o=i-1;function a(n,r){for(var o=n+r;o>=-1&&o<=i;o+=r){var a=e[(o%i+i)%i];if(!t.getPoint().isClose(a.getPoint(),1e-7))break;if(t.equals(a))return a}return null}for(;r<=o;){var s,l=r+o>>>1,u=e[l];if(n&&(s=t.equals(u)?u:a(l,-1)||a(l,1)))return t._overlap&&(s._overlap=s._intersection._overlap=!0),s;var c=t.getPath(),d=u.getPath();(c!==d?c._id-d._id:t.getIndex()+t.getTime()-(u.getIndex()+u.getTime()))<0?o=l-1:r=l+1}return e.splice(r,0,t),t}return{statics:{insert:e,expand:function(t){for(var n=t.slice(),i=t.length-1;i>=0;i--)e(n,t[i]._intersection,!1);return n}}}}),j=M.extend({_class:"PathItem",_selectBounds:!1,_canScaleStroke:!0,beans:!0,initialize:function(){},statics:{create:function(e){var t,n,i;if(d.isPlainObject(e)?(n=e.segments,t=e.pathData):Array.isArray(e)?n=e:"string"==typeof e&&(t=e),n){var r=n[0];i=r&&Array.isArray(r[0])}else t&&(i=(t.match(/m/gi)||[]).length>1||/z\s*\S+/i.test(t));return new(i?W:N)(e)}},_asPathItem:function(){return this},isClockwise:function(){return this.getArea()>=0},setClockwise:function(e){this.isClockwise()!=(e=!!e)&&this.reverse()},setPathData:function(e){var t,n,i,r=e&&e.match(/[mlhvcsqtaz][^mlhvcsqtaz]*/gi),o=!1,a=new y,s=new y;function l(e,n){var i=+t[e];return o&&(i+=a[n]),i}function u(e){return new y(l(e,"x"),l(e+1,"y"))}this.clear();for(var c=0,d=r&&r.length;c<d;c++){var h=r[c],f=h[0],p=f.toLowerCase(),m=(t=h.match(/[+-]?(?:\d*\.\d+|\d+\.?)(?:[eE][+-]?\d+)?/g))&&t.length;switch(o=f===p,"z"!==n||/[mz]/.test(p)||this.moveTo(a),p){case"m":case"l":for(var g="m"===p,v=0;v<m;v+=2)this[g?"moveTo":"lineTo"](a=u(v)),g&&(s=a,g=!1);i=a;break;case"h":case"v":var _="h"===p?"x":"y";a=a.clone();for(v=0;v<m;v++)a[_]=l(v,_),this.lineTo(a);i=a;break;case"c":for(v=0;v<m;v+=6)this.cubicCurveTo(u(v),i=u(v+2),a=u(v+4));break;case"s":for(v=0;v<m;v+=4)this.cubicCurveTo(/[cs]/.test(n)?a.multiply(2).subtract(i):a,i=u(v),a=u(v+2)),n=p;break;case"q":for(v=0;v<m;v+=4)this.quadraticCurveTo(i=u(v),a=u(v+2));break;case"t":for(v=0;v<m;v+=2)this.quadraticCurveTo(i=/[qt]/.test(n)?a.multiply(2).subtract(i):a,a=u(v)),n=p;break;case"a":for(v=0;v<m;v+=7)this.arcTo(a=u(v+5),new b(+t[v],+t[v+1]),+t[v+2],+t[v+4],+t[v+3]);break;case"z":this.closePath(1e-12),a=s}n=p}},_canComposite:function(){return!(this.hasFill()&&this.hasStroke())},_contains:function(e){var t=e.isInside(this.getBounds({internal:!0,handle:!0}))?this._getWinding(e):{};return t.onPath||!!("evenodd"===this.getFillRule()?1&t.windingL||1&t.windingR:t.winding)},getIntersections:function(e,t,n,i){var r=this===e||!e,o=this._matrix._orNullIfIdentity(),a=r?o:(n||e._matrix)._orNullIfIdentity();return r||this.getBounds(o).intersects(e.getBounds(a),1e-12)?F.getIntersections(this.getCurves(),!r&&e.getCurves(),t,o,a,i):[]},getCrossings:function(e){return this.getIntersections(e,function(e){return e.hasOverlap()||e.isCrossing()})},getNearestLocation:function(){for(var e=y.read(arguments),t=this.getCurves(),n=1/0,i=null,r=0,o=t.length;r<o;r++){var a=t[r].getNearestLocation(e);a._distance<n&&(n=a._distance,i=a)}return i},getNearestPoint:function(){var e=this.getNearestLocation.apply(this,arguments);return e?e.getPoint():e},interpolate:function(e,t,n){var i=!this._children,r=i?"_segments":"_children",o=e[r],a=t[r],s=this[r];if(!o||!a||o.length!==a.length)throw new Error("Invalid operands in interpolate() call: "+e+", "+t);var l=s.length,u=a.length;if(l<u)for(var c=i?B:N,d=l;d<u;d++)this.add(new c);else l>u&&this[i?"removeSegments":"removeChildren"](u,l);for(d=0;d<u;d++)s[d].interpolate(o[d],a[d],n);i&&(this.setClosed(e._closed),this._changed(9))},compare:function(e){var t=!1;if(e){var n=this._children||[this],i=e._children?e._children.slice():[e],r=n.length,o=i.length,a=[],s=0;t=!0;for(var l=r-1;l>=0&&t;l--){var u=n[l];t=!1;for(var c=o-1;c>=0&&!t;c--)u.compare(i[c])&&(a[c]||(a[c]=!0,s++),t=!0)}t=t&&s===o}return t}}),N=j.extend({_class:"Path",_serializeFields:{segments:[],closed:!1},initialize:function(e){this._closed=!1,this._segments=[],this._version=0;var t=Array.isArray(e)?"object"==typeof e[0]?e:arguments:!e||e.size!==l||e.x===l&&e.point===l?null:arguments;t&&t.length>0?this.setSegments(t):(this._curves=l,this._segmentSelection=0,t||"string"!=typeof e||(this.setPathData(e),e=null)),this._initialize(!t&&e)},_equals:function(e){return this._closed===e._closed&&d.equals(this._segments,e._segments)},copyContent:function(e){this.setSegments(e._segments),this._closed=e._closed},_changed:function e(t){if(e.base.call(this,t),8&t){if(this._length=this._area=l,16&t)this._version++;else if(this._curves)for(var n=0,i=this._curves.length;n<i;n++)this._curves[n]._changed()}else 32&t&&(this._bounds=l)},getStyle:function(){var e=this._parent;return(e instanceof W?e:this)._style},getSegments:function(){return this._segments},setSegments:function(e){var t=this.isFullySelected(),n=e&&e.length;if(this._segments.length=0,this._segmentSelection=0,this._curves=l,n){var i=e[n-1];"boolean"==typeof i&&(this.setClosed(i),n--),this._add(B.readList(e,0,{},n))}t&&this.setFullySelected(!0)},getFirstSegment:function(){return this._segments[0]},getLastSegment:function(){return this._segments[this._segments.length-1]},getCurves:function(){var e=this._curves,t=this._segments;if(!e){var n=this._countCurves();e=this._curves=new Array(n);for(var i=0;i<n;i++)e[i]=new F(this,t[i],t[i+1]||t[0])}return e},getFirstCurve:function(){return this.getCurves()[0]},getLastCurve:function(){var e=this.getCurves();return e[e.length-1]},isClosed:function(){return this._closed},setClosed:function(e){if(this._closed!=(e=!!e)){if(this._closed=e,this._curves){var t=this._curves.length=this._countCurves();e&&(this._curves[t-1]=new F(this,this._segments[t-1],this._segments[0]))}this._changed(25)}}},{beans:!0,getPathData:function(e,t){var n,i,r,o,a,s,l,u,c=this._segments,d=c.length,h=new m(t),f=new Array(6),p=!0,g=[];function v(t,c){if(t._transformCoordinates(e,f),n=f[0],i=f[1],p)g.push("M"+h.pair(n,i)),p=!1;else if(a=f[2],s=f[3],a===n&&s===i&&l===r&&u===o){if(!c){var d=n-r,m=i-o;g.push(0===d?"v"+h.number(m):0===m?"h"+h.number(d):"l"+h.pair(d,m))}}else g.push("c"+h.pair(l-r,u-o)+" "+h.pair(a-r,s-o)+" "+h.pair(n-r,i-o));r=n,o=i,l=f[4],u=f[5]}if(!d)return"";for(var y=0;y<d;y++)v(c[y]);return this._closed&&d>0&&(v(c[0],!0),g.push("z")),g.join("")},isEmpty:function(){return!this._segments.length},_transformContent:function(e){for(var t=this._segments,n=new Array(6),i=0,r=t.length;i<r;i++)t[i]._transformCoordinates(e,n,!0);return!0},_add:function(e,t){for(var n=this._segments,i=this._curves,r=e.length,o=null==t,a=(t=o?n.length:t,0);a<r;a++){var s=e[a];s._path&&(s=e[a]=s.clone()),s._path=this,s._index=t+a,s._selection&&this._updateSelection(s,0,s._selection)}if(o)n.push.apply(n,e);else{n.splice.apply(n,[t,0].concat(e));a=t+r;for(var l=n.length;a<l;a++)n[a]._index=a}if(i){var u=this._countCurves(),c=t>0&&t+r-1===u?t-1:t,d=c,h=Math.min(c+r,u);e._curves&&(i.splice.apply(i,[c,0].concat(e._curves)),d+=e._curves.length);for(a=d;a<h;a++)i.splice(a,0,new F(this,null,null));this._adjustCurves(c,h)}return this._changed(25),e},_adjustCurves:function(e,t){for(var n,i=this._segments,r=this._curves,o=e;o<t;o++)(n=r[o])._path=this,n._segment1=i[o],n._segment2=i[o+1]||i[0],n._changed();(n=r[this._closed&&!e?i.length-1:e-1])&&(n._segment2=i[e]||i[0],n._changed()),(n=r[t])&&(n._segment1=i[t],n._changed())},_countCurves:function(){var e=this._segments.length;return!this._closed&&e>0?e-1:e},add:function(e){return arguments.length>1&&"number"!=typeof e?this._add(B.readList(arguments)):this._add([B.read(arguments)])[0]},insert:function(e,t){return arguments.length>2&&"number"!=typeof t?this._add(B.readList(arguments,1),e):this._add([B.read(arguments,1)],e)[0]},addSegment:function(){return this._add([B.read(arguments)])[0]},insertSegment:function(e){return this._add([B.read(arguments,1)],e)[0]},addSegments:function(e){return this._add(B.readList(e))},insertSegments:function(e,t){return this._add(B.readList(t),e)},removeSegment:function(e){return this.removeSegments(e,e+1)[0]||null},removeSegments:function(e,t,n){e=e||0,t=d.pick(t,this._segments.length);var i=this._segments,r=this._curves,o=i.length,a=i.splice(e,t-e),s=a.length;if(!s)return a;for(var l=0;l<s;l++){var u=a[l];u._selection&&this._updateSelection(u,u._selection,0),u._index=u._path=null}l=e;for(var c=i.length;l<c;l++)i[l]._index=l;if(r){var h=e>0&&t===o+(this._closed?1:0)?e-1:e;for(l=(r=r.splice(h,s)).length-1;l>=0;l--)r[l]._path=null;n&&(a._curves=r.slice(1)),this._adjustCurves(h,h)}return this._changed(25),a},clear:"#removeSegments",hasHandles:function(){for(var e=this._segments,t=0,n=e.length;t<n;t++)if(e[t].hasHandles())return!0;return!1},clearHandles:function(){for(var e=this._segments,t=0,n=e.length;t<n;t++)e[t].clearHandles()},getLength:function(){if(null==this._length){for(var e=this.getCurves(),t=0,n=0,i=e.length;n<i;n++)t+=e[n].getLength();this._length=t}return this._length},getArea:function(){var e=this._area;if(null==e){var t=this._segments,n=this._closed;e=0;for(var i=0,r=t.length;i<r;i++){var o=i+1===r;e+=F.getArea(F.getValues(t[i],t[o?0:i+1],null,o&&!n))}this._area=e}return e},isFullySelected:function(){var e=this._segments.length;return this.isSelected()&&e>0&&this._segmentSelection===7*e},setFullySelected:function(e){e&&this._selectSegments(!0),this.setSelected(e)},setSelection:function e(t){1&t||this._selectSegments(!1),e.base.call(this,t)},_selectSegments:function(e){var t=this._segments,n=t.length,i=e?7:0;this._segmentSelection=i*n;for(var r=0;r<n;r++)t[r]._selection=i},_updateSelection:function(e,t,n){e._selection=n,(this._segmentSelection+=n-t)>0&&this.setSelected(!0)},divideAt:function(e){var t,n=this.getLocationAt(e);return n&&(t=n.getCurve().divideAt(n.getCurveOffset()))?t._segment1:null},splitAt:function(e){var t=this.getLocationAt(e),n=t&&t.index,i=t&&t.time;i>1-1e-8&&(n++,i=0);var r=this.getCurves();if(n>=0&&n<r.length){i>=1e-8&&r[n++].divideAtTime(i);var o,a=this.removeSegments(n,this._segments.length,!0);return this._closed?(this.setClosed(!1),o=this):((o=new N(M.NO_INSERT)).insertAbove(this),o.copyAttributes(this)),o._add(a,0),this.addSegment(a[0]),o}return null},split:function(e,t){var n,i=t===l?e:(n=this.getCurves()[e])&&n.getLocationAtTime(t);return null!=i?this.splitAt(i):null},join:function(e,t){var n=t||0;if(e&&e!==this){var i=e._segments,r=this.getLastSegment(),o=e.getLastSegment();if(!o)return this;r&&r._point.isClose(o._point,n)&&e.reverse();var a=e.getFirstSegment();if(r&&r._point.isClose(a._point,n))r.setHandleOut(a._handleOut),this._add(i.slice(1));else{var s=this.getFirstSegment();s&&s._point.isClose(a._point,n)&&e.reverse(),o=e.getLastSegment(),s&&s._point.isClose(o._point,n)?(s.setHandleIn(o._handleIn),this._add(i.slice(0,i.length-1),0)):this._add(i.slice())}e._closed&&this._add([i[0]]),e.remove()}var l=this.getFirstSegment(),u=this.getLastSegment();return l!==u&&l._point.isClose(u._point,n)&&(l.setHandleIn(u._handleIn),u.remove(),this.setClosed(!0)),this},reduce:function(e){for(var t=this.getCurves(),n=e&&e.simplify,i=n?1e-7:0,r=t.length-1;r>=0;r--){var o=t[r];!o.hasHandles()&&(!o.hasLength(i)||n&&o.isCollinear(o.getNext()))&&o.remove()}return this},reverse:function(){this._segments.reverse();for(var e=0,t=this._segments.length;e<t;e++){var n=this._segments[e],i=n._handleIn;n._handleIn=n._handleOut,n._handleOut=i,n._index=e}this._curves=null,this._changed(9)},flatten:function(e){for(var t=new U(this,e||.25,256,!0).parts,n=t.length,i=[],r=0;r<n;r++)i.push(new B(t[r].curve.slice(0,2)));!this._closed&&n>0&&i.push(new B(t[n-1].curve.slice(6))),this.setSegments(i)},simplify:function(e){var t=new H(this).fit(e||2.5);return t&&this.setSegments(t),!!t},smooth:function(e){var t=this,n=e||{},i=n.type||"asymmetric",r=this._segments,o=r.length,a=this._closed;function s(e,n){var i=e&&e.index;if(null!=i){var r=e.path;if(r&&r!==t)throw new Error(e._class+" "+i+" of "+r+" is not part of "+t);n&&e instanceof F&&i++}else i="number"==typeof e?e:n;return Math.min(i<0&&a?i%o:i<0?i+o:i,o-1)}var u=a&&n.from===l&&n.to===l,c=s(n.from,0),d=s(n.to,o-1);if(c>d)if(a)c-=o;else{var h=c;c=d,d=h}if(/^(?:asymmetric|continuous)$/.test(i)){var f="asymmetric"===i,p=Math.min,m=d-c+1,g=m-1,v=u?p(m,4):1,y=v,_=v,b=[];if(a||(y=p(1,c),_=p(1,o-d-1)),(g+=y+_)<=1)return;for(var w=0,C=c-y;w<=g;w++,C++)b[w]=r[(C<0?C+o:C)%o]._point;var x=b[0]._x+2*b[1]._x,S=b[0]._y+2*b[1]._y,k=2,E=g-1,M=[x],O=[S],T=[k],I=[],P=[];for(w=1;w<g;w++){var L=w<E,A=L?4:f?2:7,R=L?4:f?3:8,B=L?2:f?0:1,D=(L?1:f?1:2)/k;k=T[w]=A-D,x=M[w]=R*b[w]._x+B*b[w+1]._x-D*x,S=O[w]=R*b[w]._y+B*b[w+1]._y-D*S}I[E]=M[E]/T[E],P[E]=O[E]/T[E];for(w=g-2;w>=0;w--)I[w]=(M[w]-I[w+1])/T[w],P[w]=(O[w]-P[w+1])/T[w];I[g]=(3*b[g]._x-I[E])/2,P[g]=(3*b[g]._y-P[E])/2;w=y;var z=g-_;for(C=c;w<=z;w++,C++){var j=r[C<0?C+o:C],N=j._point,W=I[w]-N._x,U=P[w]-N._y;(u||w<z)&&j.setHandleOut(W,U),(u||w>y)&&j.setHandleIn(-W,-U)}}else for(w=c;w<=d;w++)r[w<0?w+o:w].smooth(n,!u&&w===c,!u&&w===d)},toShape:function(e){if(!this._closed)return null;var t,n,i,r,o,a,s,u=this._segments;function c(e,t){var n=u[e],i=n.getNext(),r=u[t],o=r.getNext();return n._handleOut.isZero()&&i._handleIn.isZero()&&r._handleOut.isZero()&&o._handleIn.isZero()&&i._point.subtract(n._point).isCollinear(o._point.subtract(r._point))}function d(e){var t=u[e],n=t.getNext(),i=t._handleOut,r=n._handleIn;if(i.isOrthogonal(r)){var o=t._point,a=n._point,s=new k(o,i,!0).intersect(new k(a,r,!0),!0);return s&&g.isZero(i.getLength()/s.subtract(o).getLength()-.5522847498307936)&&g.isZero(r.getLength()/s.subtract(a).getLength()-.5522847498307936)}return!1}function h(e,t){return u[e]._point.getDistance(u[t]._point)}if(!this.hasHandles()&&4===u.length&&c(0,2)&&c(1,3)&&(o=u[1],a=o.getPrevious(),s=o.getNext(),a._handleOut.isZero()&&o._handleIn.isZero()&&o._handleOut.isZero()&&s._handleIn.isZero()&&o._point.subtract(a._point).isOrthogonal(s._point.subtract(o._point)))?(t=I.Rectangle,n=new b(h(0,3),h(0,1)),r=u[1]._point.add(u[2]._point).divide(2)):8===u.length&&d(0)&&d(2)&&d(4)&&d(6)&&c(1,5)&&c(3,7)?(t=I.Rectangle,i=(n=new b(h(1,6),h(0,3))).subtract(new b(h(0,7),h(1,2))).divide(2),r=u[3]._point.add(u[4]._point).divide(2)):4===u.length&&d(0)&&d(1)&&d(2)&&d(3)&&(g.isZero(h(0,2)-h(1,3))?(t=I.Circle,i=h(0,2)/2):(t=I.Ellipse,i=new b(h(2,0)/2,h(3,1)/2)),r=u[1]._point),t){var f=this.getPosition(!0),p=new t({center:f,size:n,radius:i,insert:!1});return p.copyAttributes(this,!0),p._matrix.prepend(this._matrix),p.rotate(r.subtract(f).getAngle()+90),(e===l||e)&&p.insertAbove(this),p}return null},toPath:"#clone",compare:function e(t){if(!t||t instanceof W)return e.base.call(this,t);var n=this.getCurves(),i=t.getCurves(),r=n.length,o=i.length;if(!r||!o)return r==o;for(var a,s,l=n[0].getValues(),u=[],c=0,d=0,h=0;h<o;h++){var f=i[h].getValues();if(u.push(f),g=F.getOverlaps(l,f)){a=!h&&g[0][0]>0?o-1:h,s=g[0][1];break}}var p,m=Math.abs;for(f=u[a];l&&f;){var g;if(g=F.getOverlaps(l,f))if(m(g[0][0]-d)<1e-8){1===(d=g[1][0])&&(l=++c<r?n[c].getValues():null,d=0);var v=g[0][1];if(m(v-s)<1e-8){if(p||(p=[a,v]),1===(s=g[1][1])&&(++a>=o&&(a=0),f=u[a]||i[a].getValues(),s=0),!l)return p[0]===a&&p[1]===s;continue}}break}return!1},_hitTestSelf:function(e,t,n,i){var r,o,a,s,l,u,c=this,d=this.getStyle(),h=this._segments,f=h.length,p=this._closed,m=t._tolerancePadding,g=m,v=t.stroke&&d.hasStroke(),y=t.hitUnfilledPaths?t.fill:t.fill&&d.hasFill(),_=t.curves,b=v?d.getStrokeWidth()/2:y&&t.tolerance>0||_?0:null;function w(t,n){return e.subtract(t).divide(n).length<=1}function C(e,n,i){if(!t.selected||n.isSelected()){var r=e._point;if(n!==r&&(n=n.add(r)),w(n,g))return new R(i,c,{segment:e,point:n})}}function x(e,n){return(n||t.segments)&&C(e,e._point,"segment")||!n&&t.handles&&(C(e,e._handleIn,"handle-in")||C(e,e._handleOut,"handle-out"))}function S(e){s.add(e)}function k(t){var n,l=p||t._index>0&&t._index<f-1;return"round"===(l?r:o)?w(t._point,g):(s=new N({internal:!0,closed:!0}),l?t.isSmooth()||N._addBevelJoin(t,r,b,a,null,i,S,!0):"square"===o&&N._addSquareCap(t,o,b,null,i,S,!0),s.isEmpty()?void 0:s.contains(e)||(n=s.getNearestLocation(e))&&w(n.getPoint(),m))}if(null!==b&&(b>0?(r=d.getStrokeJoin(),o=d.getStrokeCap(),a=d.getMiterLimit(),g=g.add(N._getStrokePadding(b,i))):r=o="round"),!t.ends||t.segments||p){if(t.segments||t.handles)for(var E=0;E<f;E++)if(u=x(h[E]))return u}else if(u=x(h[0],!0)||x(h[f-1],!0))return u;if(null!==b){if(l=this.getNearestLocation(e)){var M=l.getTime();0===M||1===M&&f>1?k(l.getSegment())||(l=null):w(l.getPoint(),g)||(l=null)}if(!l&&"miter"===r&&f>1)for(E=0;E<f;E++){var O=h[E];if(e.getDistance(O._point)<=a*b&&k(O)){l=O.getLocation();break}}}return!l&&y&&this._contains(e)||l&&!v&&!_?new R("fill",this):l?new R(v?"stroke":"curve",this,{location:l,point:l.getPoint()}):null}},d.each(F._evaluateMethods,function(e){this[e+"At"]=function(t){var n=this.getLocationAt(t);return n&&n[e]()}},{beans:!1,getLocationOf:function(){for(var e=y.read(arguments),t=this.getCurves(),n=0,i=t.length;n<i;n++){var r=t[n].getLocationOf(e);if(r)return r}return null},getOffsetOf:function(){var e=this.getLocationOf.apply(this,arguments);return e?e.getOffset():null},getLocationAt:function(e){if("number"==typeof e){for(var t=this.getCurves(),n=0,i=0,r=t.length;i<r;i++){var o=n,a=t[i];if((n+=a.getLength())>e)return a.getLocationAt(e-o)}if(t.length>0&&e<=this.getLength())return new z(t[t.length-1],1)}else if(e&&e.getPath&&e.getPath()===this)return e;return null}}),new function(){function e(e,t,n){var i,r,o,a,s,l,u,c,d=t._segments,h=d.length,f=new Array(6),p=!0;function m(t){if(n)t._transformCoordinates(n,f),i=f[0],r=f[1];else{var d=t._point;i=d._x,r=d._y}if(p)e.moveTo(i,r),p=!1;else{if(n)s=f[2],l=f[3];else{var h=t._handleIn;s=i+h._x,l=r+h._y}s===i&&l===r&&u===o&&c===a?e.lineTo(i,r):e.bezierCurveTo(u,c,s,l,i,r)}if(o=i,a=r,n)u=f[4],c=f[5];else{h=t._handleOut;u=o+h._x,c=a+h._y}}for(var g=0;g<h;g++)m(d[g]);t._closed&&h>0&&m(d[0])}return{_draw:function(t,n,i,r){var o=n.dontStart,s=n.dontFinish||n.clip,l=this.getStyle(),u=l.hasFill(),c=l.hasStroke(),d=l.getDashArray(),h=!a.support.nativeDash&&c&&d&&d.length;function f(e){return d[(e%h+h)%h]}if(o||t.beginPath(),(u||c&&!h||s)&&(e(t,this,r),this._closed&&t.closePath()),!s&&(u||c)&&(this._setStyles(t,n,i),u&&(t.fill(l.getFillRule()),t.shadowColor="rgba(0,0,0,0)"),c)){if(h){o||t.beginPath();var p,m=new U(this,.25,32,!1,r),g=m.length,v=-l.getDashOffset(),y=0;for(v%=g;v>0;)v-=f(y--)+f(y--);for(;v<g;)p=v+f(y++),(v>0||p>0)&&m.drawPart(t,Math.max(v,0),Math.max(p,0)),v=p+f(y++)}t.stroke()}},_drawSelected:function(t,n){t.beginPath(),e(t,this,n),t.stroke(),function(e,t,n,i,r){if(0!==i)for(var o,a,s=i/2,l=new Array(6),u=0,c=t.length;u<c;u++){var d=t[u],h=d._selection;d._transformCoordinates(n,l),o=l[0],a=l[1],2&h&&!r&&p(2),4&h&&!r&&p(4),e.beginPath(),e.arc(o,a,s,0,2*Math.PI,!0),e.stroke();var f=e.fillStyle;1&h||(e.fillStyle="rgba(255, 255, 255, 0.5)"),e.fill(),e.fillStyle=f}function p(t){var n=l[t],i=l[t+1];o==n&&a==i||(e.beginPath(),e.moveTo(o,a),e.lineTo(n,i),e.moveTo(n-s,i),e.lineTo(n,i+s),e.lineTo(n+s,i),e.lineTo(n,i-s),e.closePath(),e.stroke())}}(t,this._segments,n,a.settings.handleSize,this.isFullySelected())}}},new function(){function e(e){var t=e._segments;if(!t.length)throw new Error("Use a moveTo() command first");return t[t.length-1]}return{moveTo:function(){var e=this._segments;1===e.length&&this.removeSegment(0),e.length||this._add([new B(y.read(arguments))])},moveBy:function(){throw new Error("moveBy() is unsupported on Path items.")},lineTo:function(){this._add([new B(y.read(arguments))])},cubicCurveTo:function(){var t=y.read(arguments),n=y.read(arguments),i=y.read(arguments),r=e(this);r.setHandleOut(t.subtract(r._point)),this._add([new B(i,n.subtract(i))])},quadraticCurveTo:function(){var t=y.read(arguments),n=y.read(arguments),i=e(this)._point;this.cubicCurveTo(t.add(i.subtract(t).multiply(1/3)),t.add(n.subtract(t).multiply(1/3)),n)},curveTo:function(){var t=y.read(arguments),n=y.read(arguments),i=d.pick(d.read(arguments),.5),r=1-i,o=e(this)._point,a=t.subtract(o.multiply(r*r)).subtract(n.multiply(i*i)).divide(2*i*r);if(a.isNaN())throw new Error("Cannot put a curve through points with parameter = "+i);this.quadraticCurveTo(a,n)},arcTo:function(){var t,n,i,r,o=Math.abs,a=Math.sqrt,s=e(this),l=s._point,u=y.read(arguments),c=d.peek(arguments);if("boolean"==typeof(v=d.pick(c,!0)))var h=(w=l.add(u).divide(2)).add(w.subtract(l).rotate(v?-90:90));else if(d.remain(arguments)<=2)h=u,u=y.read(arguments);else{var f=b.read(arguments),p=g.isZero;if(p(f.width)||p(f.height))return this.lineTo(u);var m=d.read(arguments),v=!!d.read(arguments),_=!!d.read(arguments),w=l.add(u).divide(2),C=(G=l.subtract(w).rotate(-m)).x,x=G.y,E=o(f.width),M=o(f.height),O=E*E,T=M*M,I=C*C,P=x*x,L=a(I/O+P/T);if(L>1&&(O=(E*=L)*E,T=(M*=L)*M),o(L=(O*T-O*P-T*I)/(O*P+T*I))<1e-12&&(L=0),L<0)throw new Error("Cannot create an arc with the given arguments");t=new y(E*x/M,-M*C/E).multiply((_===v?-1:1)*a(L)).rotate(m).add(w),n=(i=(r=(new S).translate(t).rotate(m).scale(E,M))._inverseTransform(l)).getDirectedAngle(r._inverseTransform(u)),!v&&n>0?n-=360:v&&n<0&&(n+=360)}if(h){var A=new k(l.add(h).divide(2),h.subtract(l).rotate(90),!0),R=new k(h.add(u).divide(2),u.subtract(h).rotate(90),!0),D=new k(l,u),F=D.getSide(h);if(!(t=A.intersect(R,!0))){if(!F)return this.lineTo(u);throw new Error("Cannot create an arc with the given arguments")}n=(i=l.subtract(t)).getDirectedAngle(u.subtract(t));var z=D.getSide(t);0===z?n=F*o(n):F===z&&(n+=n<0?360:-360)}for(var j=o(n),N=j>=360?4:Math.ceil((j-1e-7)/90),W=n/N,U=W*Math.PI/360,H=4/3*Math.sin(U)/(1+Math.cos(U)),V=[],q=0;q<=N;q++){var G=u,Z=null;if(q<N&&(Z=i.rotate(90).multiply(H),r?(G=r._transformPoint(i),Z=r._transformPoint(i.add(Z)).subtract(G)):G=t.add(i)),q){var K=i.rotate(-90).multiply(H);r&&(K=r._transformPoint(i.add(K)).subtract(G)),V.push(new B(G,K,Z))}else s.setHandleOut(Z);i=i.rotate(W)}this._add(V)},lineBy:function(){var t=y.read(arguments),n=e(this)._point;this.lineTo(n.add(t))},curveBy:function(){var t=y.read(arguments),n=y.read(arguments),i=d.read(arguments),r=e(this)._point;this.curveTo(r.add(t),r.add(n),i)},cubicCurveBy:function(){var t=y.read(arguments),n=y.read(arguments),i=y.read(arguments),r=e(this)._point;this.cubicCurveTo(r.add(t),r.add(n),r.add(i))},quadraticCurveBy:function(){var t=y.read(arguments),n=y.read(arguments),i=e(this)._point;this.quadraticCurveTo(i.add(t),i.add(n))},arcBy:function(){var t=e(this)._point,n=t.add(y.read(arguments)),i=d.pick(d.peek(arguments),!0);"boolean"==typeof i?this.arcTo(n,i):this.arcTo(n,t.add(y.read(arguments)))},closePath:function(e){this.setClosed(!0),this.join(this,e)}}},{_getBounds:function(e,t){var n=t.handle?"getHandleBounds":t.stroke?"getStrokeBounds":"getBounds";return N[n](this._segments,this._closed,this,e,t)},statics:{getBounds:function(e,t,n,i,r,o){var a=e[0];if(!a)return new C;var s=new Array(6),l=a._transformCoordinates(i,new Array(6)),u=l.slice(0,2),c=u.slice(),d=new Array(2);function h(e){e._transformCoordinates(i,s);for(var t=0;t<2;t++)F._addBounds(l[t],l[t+4],s[t+2],s[t],t,o?o[t]:0,u,c,d);var n=l;l=s,s=n}for(var f=1,p=e.length;f<p;f++)h(e[f]);return t&&h(a),new C(u[0],u[1],c[0]-u[0],c[1]-u[1])},getStrokeBounds:function(e,t,n,i,r){var o=n.getStyle(),a=o.hasStroke(),s=o.getStrokeWidth(),l=a&&n._getStrokeMatrix(i,r),u=a&&N._getStrokePadding(s,l),c=N.getBounds(e,t,n,i,r,u);if(!a)return c;var d=s/2,h=o.getStrokeJoin(),f=o.getStrokeCap(),p=o.getMiterLimit(),m=new C(new b(u));function g(e){c=c.include(e)}function v(e){c=c.unite(m.setCenter(e._point.transform(i)))}function y(e,t){"round"===t||e.isSmooth()?v(e):N._addBevelJoin(e,t,d,p,i,l,g)}function _(e,t){"round"===t?v(e):N._addSquareCap(e,t,d,i,l,g)}for(var w=e.length-(t?0:1),x=1;x<w;x++)y(e[x],h);return t?y(e[0],h):w>0&&(_(e[0],f),_(e[e.length-1],f)),c},_getStrokePadding:function(e,t){if(!t)return[e,e];var n=new y(e,0).transform(t),i=new y(0,e).transform(t),r=n.getAngleInRadians(),o=n.getLength(),a=i.getLength(),s=Math.sin(r),l=Math.cos(r),u=Math.tan(r),c=Math.atan2(a*u,o),d=Math.atan2(a,u*o);return[Math.abs(o*Math.cos(c)*l+a*Math.sin(c)*s),Math.abs(a*Math.sin(d)*l+o*Math.cos(d)*s)]},_addBevelJoin:function(e,t,n,i,r,o,a,s){var l=e.getCurve(),u=l.getPrevious(),c=l.getPoint1().transform(r),d=u.getNormalAtTime(1).multiply(n).transform(o),h=l.getNormalAtTime(0).multiply(n).transform(o);if(d.getDirectedAngle(h)<0&&(d=d.negate(),h=h.negate()),s&&a(c),a(c.add(d)),"miter"===t){var f=new k(c.add(d),new y(-d.y,d.x),!0).intersect(new k(c.add(h),new y(-h.y,h.x),!0),!0);f&&c.getDistance(f)<=i*n&&a(f)}a(c.add(h))},_addSquareCap:function(e,t,n,i,r,o,a){var s=e._point.transform(i),l=e.getLocation(),u=l.getNormal().multiply(0===l.getTime()?n:-n).transform(r);"square"===t&&(a&&(o(s.subtract(u)),o(s.add(u))),s=s.add(u.rotate(-90))),o(s.add(u)),o(s.subtract(u))},getHandleBounds:function(e,t,n,i,r){var o,a,s=n.getStyle();if(r.stroke&&s.hasStroke()){var l=n._getStrokeMatrix(i,r),u=s.getStrokeWidth()/2,c=u;"miter"===s.getStrokeJoin()&&(c=u*s.getMiterLimit()),"square"===s.getStrokeCap()&&(c=Math.max(c,u*Math.SQRT2)),o=N._getStrokePadding(u,l),a=N._getStrokePadding(c,l)}for(var d=new Array(6),h=1/0,f=-h,p=h,m=f,g=0,v=e.length;g<v;g++){e[g]._transformCoordinates(i,d);for(var y=0;y<6;y+=2){var _=y?o:a,b=_?_[0]:0,w=_?_[1]:0,x=d[y],S=d[y+1],k=x-b,E=x+b,M=S-w,O=S+w;k<h&&(h=k),E>f&&(f=E),M<p&&(p=M),O>m&&(m=O)}}return new C(h,p,f-h,m-p)}}});N.inject({statics:new function(){var e=.5522847498307936,t=[new B([-1,0],[0,e],[0,-e]),new B([0,-1],[-e,0],[e,0]),new B([1,0],[0,-e],[0,e]),new B([0,1],[e,0],[-e,0])];function n(e,t,n){var i=d.getNamed(n),r=new N(i&&0==i.insert&&M.NO_INSERT);return r._add(e),r._closed=t,r.set(i,{insert:!0})}function i(e,i,r){for(var o=new Array(4),a=0;a<4;a++){var s=t[a];o[a]=new B(s._point.multiply(i).add(e),s._handleIn.multiply(i),s._handleOut.multiply(i))}return n(o,!0,r)}return{Line:function(){return n([new B(y.readNamed(arguments,"from")),new B(y.readNamed(arguments,"to"))],!1,arguments)},Circle:function(){var e=y.readNamed(arguments,"center"),t=d.readNamed(arguments,"radius");return i(e,new b(t),arguments)},Rectangle:function(){var t,i=C.readNamed(arguments,"rectangle"),r=b.readNamed(arguments,"radius",0,{readNull:!0}),o=i.getBottomLeft(!0),a=i.getTopLeft(!0),s=i.getTopRight(!0),l=i.getBottomRight(!0);if(!r||r.isZero())t=[new B(o),new B(a),new B(s),new B(l)];else{var u=(r=b.min(r,i.getSize(!0).divide(2))).width,c=r.height,d=u*e,h=c*e;t=[new B(o.add(u,0),null,[-d,0]),new B(o.subtract(0,c),[0,h]),new B(a.add(0,c),null,[0,-h]),new B(a.add(u,0),[-d,0],null),new B(s.subtract(u,0),null,[d,0]),new B(s.add(0,c),[0,-h],null),new B(l.subtract(0,c),null,[0,h]),new B(l.subtract(u,0),[d,0])]}return n(t,!0,arguments)},RoundRectangle:"#Rectangle",Ellipse:function(){var e=I._readEllipse(arguments);return i(e.center,e.radius,arguments)},Oval:"#Ellipse",Arc:function(){var e=y.readNamed(arguments,"from"),t=y.readNamed(arguments,"through"),n=y.readNamed(arguments,"to"),i=d.getNamed(arguments),r=new N(i&&0==i.insert&&M.NO_INSERT);return r.moveTo(e),r.arcTo(t,n),r.set(i)},RegularPolygon:function(){for(var e=y.readNamed(arguments,"center"),t=d.readNamed(arguments,"sides"),i=d.readNamed(arguments,"radius"),r=360/t,o=t%3==0,a=new y(0,o?-i:i),s=o?-1:.5,l=new Array(t),u=0;u<t;u++)l[u]=new B(e.add(a.rotate((u+s)*r)));return n(l,!0,arguments)},Star:function(){for(var e=y.readNamed(arguments,"center"),t=2*d.readNamed(arguments,"points"),i=d.readNamed(arguments,"radius1"),r=d.readNamed(arguments,"radius2"),o=360/t,a=new y(0,-1),s=new Array(t),l=0;l<t;l++)s[l]=new B(e.add(a.rotate(o*l).multiply(l%2?r:i)));return n(s,!0,arguments)}}}});var W=j.extend({_class:"CompoundPath",_serializeFields:{children:[]},beans:!0,initialize:function(e){this._children=[],this._namedChildren={},this._initialize(e)||("string"==typeof e?this.setPathData(e):this.addChildren(Array.isArray(e)?e:arguments))},insertChildren:function e(t,n){var i=n,r=i[0];r&&"number"==typeof r[0]&&(i=[i]);for(var o=n.length-1;o>=0;o--){var a=i[o];i!==n||a instanceof N||(i=d.slice(i)),Array.isArray(a)?i[o]=new N({segments:a,insert:!1}):a instanceof W&&(i.splice.apply(i,[o,1].concat(a.removeChildren())),a.remove())}return e.base.call(this,t,i)},reduce:function e(t){for(var n=this._children,i=n.length-1;i>=0;i--){var r;(r=n[i].reduce(t)).isEmpty()&&r.remove()}return n.length?e.base.call(this):((r=new N(M.NO_INSERT)).copyAttributes(this),r.insertAbove(this),this.remove(),r)},isClosed:function(){for(var e=this._children,t=0,n=e.length;t<n;t++)if(!e[t]._closed)return!1;return!0},setClosed:function(e){for(var t=this._children,n=0,i=t.length;n<i;n++)t[n].setClosed(e)},getFirstSegment:function(){var e=this.getFirstChild();return e&&e.getFirstSegment()},getLastSegment:function(){var e=this.getLastChild();return e&&e.getLastSegment()},getCurves:function(){for(var e=this._children,t=[],n=0,i=e.length;n<i;n++)t.push.apply(t,e[n].getCurves());return t},getFirstCurve:function(){var e=this.getFirstChild();return e&&e.getFirstCurve()},getLastCurve:function(){var e=this.getLastChild();return e&&e.getLastCurve()},getArea:function(){for(var e=this._children,t=0,n=0,i=e.length;n<i;n++)t+=e[n].getArea();return t},getLength:function(){for(var e=this._children,t=0,n=0,i=e.length;n<i;n++)t+=e[n].getLength();return t},getPathData:function(e,t){for(var n=this._children,i=[],r=0,o=n.length;r<o;r++){var a=n[r],s=a._matrix;i.push(a.getPathData(e&&!s.isIdentity()?e.appended(s):e,t))}return i.join("")},_hitTestChildren:function e(t,n,i){return e.base.call(this,t,n.class===N||"path"===n.type||n.hitUnfilledPaths?n:d.set({},n,{fill:!1}),i)},_draw:function(e,t,n,i){var r=this._children;if(r.length){t=t.extend({dontStart:!0,dontFinish:!0}),e.beginPath();for(var o=0,a=r.length;o<a;o++)r[o].draw(e,t,i);if(!t.clip){this._setStyles(e,t,n);var s=this._style;s.hasFill()&&(e.fill(s.getFillRule()),e.shadowColor="rgba(0,0,0,0)"),s.hasStroke()&&e.stroke()}}},_drawSelected:function(e,t,n){for(var i=this._children,r=0,o=i.length;r<o;r++){var a=i[r],s=a._matrix;n[a._id]||a._drawSelected(e,s.isIdentity()?t:t.appended(s))}}},new function(){function e(e,t){var n=e._children;if(t&&!n.length)throw new Error("Use a moveTo() command first");return n[n.length-1]}return d.each(["lineTo","cubicCurveTo","quadraticCurveTo","curveTo","arcTo","lineBy","cubicCurveBy","quadraticCurveBy","curveBy","arcBy"],function(t){this[t]=function(){var n=e(this,!0);n[t].apply(n,arguments)}},{moveTo:function(){var t=e(this),n=t&&t.isEmpty()?t:new N(M.NO_INSERT);n!==t&&this.addChild(n),n.moveTo.apply(n,arguments)},moveBy:function(){var t=e(this,!0),n=t&&t.getLastSegment(),i=y.read(arguments);this.moveTo(n?i.add(n._point):i)},closePath:function(t){e(this,!0).closePath(t)}})},d.each(["reverse","flatten","simplify","smooth"],function(e){this[e]=function(t){for(var n,i=this._children,r=0,o=i.length;r<o;r++)n=i[r][e](t)||n;return n}},{}));j.inject(new function(){var e=Math.min,t=Math.max,n=Math.abs,i={unite:{1:!0,2:!0},intersect:{2:!0},subtract:{1:!0},exclude:{1:!0,"-1":!0}};function r(e,t){var n=e.clone(!1).reduce({simplify:!0}).transform(null,!0,!0);return t?n.resolveCrossings().reorient("nonzero"===n.getFillRule(),!0):n}function o(e,t,n,i,r){var o=new W(M.NO_INSERT);return o.addChildren(e,!0),o=o.reduce({simplify:t}),r&&0==r.insert||o.insertAbove(i&&n.isSibling(i)&&n.getIndex()<i.getIndex()?i:n),o.copyAttributes(n,!0),o}function a(e,t,n,a){if(a&&(0==a.trace||a.stroke)&&/^(subtract|intersect)$/.test(n))return s(e,t,n);var l=r(e,!0),u=t&&e!==t&&r(t,!0),c=i[n];c[n]=!0,u&&(c.subtract||c.exclude)^u.isClockwise()^l.isClockwise()&&u.reverse();var d,p=f(z.expand(l.getCrossings(u))),g=l._children||[l],y=u&&(u._children||[u]),_=[],b=[];function w(e){for(var t=0,n=e.length;t<n;t++){var i=e[t];_.push.apply(_,i._segments),b.push.apply(b,i.getCurves()),i._overlapsOnly=!0}}if(p.length){w(g),y&&w(y);for(var C=0,x=p.length;C<x;C++)m(p[C]._segment,l,u,b,c);for(C=0,x=_.length;C<x;C++){var S=_[C],k=S._intersection;S._winding||m(S,l,u,b,c),k&&k._overlap||(S._path._overlapsOnly=!1)}d=v(_,c)}else d=h(y?g.concat(y):g.slice(),function(e){return!!c[e]});return o(d,!0,e,t,a)}function s(e,t,n){var i=r(e),a=r(t),s=i.getCrossings(a),l="subtract"===n,u="divide"===n,c={},d=[];function h(e){if(!c[e._id]&&(u||a.contains(e.getPointAt(e.getLength()/2))^l))return d.unshift(e),c[e._id]=!0}for(var f=s.length-1;f>=0;f--){var p=s[f].split();p&&(h(p)&&p.getFirstSegment().setHandleIn(0,0),i.getLastSegment().setHandleOut(0,0))}return h(i),o(d,!1,e,t)}function u(e,t){for(var n=e;n;){if(n===t)return;n=n._previous}for(;e._next&&e._next!==t;)e=e._next;if(!e._next){for(;t._previous;)t=t._previous;e._next=t,t._previous=e}}function c(e){for(var t=e.length-1;t>=0;t--)e[t].clearHandles()}function h(e,t,i){var r=e&&e.length;if(r){var o=d.each(e,function(e,t){this[e._id]={container:null,winding:e.isClockwise()?1:-1,index:t}},{}),a=e.slice().sort(function(e,t){return n(t.getArea())-n(e.getArea())}),s=a[0];null==i&&(i=s.isClockwise());for(var l=0;l<r;l++){for(var u=a[l],c=o[u._id],h=u.getInteriorPoint(),f=0,p=l-1;p>=0;p--){var m=a[p];if(m.contains(h)){var g=o[m._id];f=g.winding,c.winding+=f,c.container=g.exclude?g.container:m;break}}if(t(c.winding)===t(f))c.exclude=!0,e[c.index]=null;else{var v=c.container;u.setClockwise(v?!v.isClockwise():i)}}}return e}function f(e,t,n){var i,r,o,a=t&&[],s=!1,l=n||[],d=n&&{};function h(e){return e._path._id+"."+e._segment1._index}for(var f=(n&&n.length)-1;f>=0;f--){(p=n[f])._path&&(d[h(p)]=!0)}for(f=e.length-1;f>=0;f--){var p,m,g=e[f],v=g._time,y=v,_=t&&!t(g);if((p=g._curve)&&(p!==r?(s=!p.hasHandles()||d&&d[h(p)],i=[],o=null,r=p):o>=1e-8&&(v/=o)),_)i&&i.push(g);else{if(t&&a.unshift(g),o=y,v<1e-8)m=p._segment1;else if(v>1-1e-8)m=p._segment2;else{var b=p.divideAtTime(v,!0);s&&l.push(p,b),m=b._segment1;for(var w=i.length-1;w>=0;w--){var C=i[w];C._time=(C._time-v)/(1-v)}}g._setSegment(m);var x=m._intersection,S=g._intersection;if(x){u(x,S);for(var k=x;k;)u(k._intersection,x),k=k._next}else m._intersection=S}}return n||c(l),a||e}function p(i,r,o,a,s){var l,u,c=o?1:0,d=1^c,h=[i.x,i.y],f=h[c],m=h[d],g=1e-6,v=f-1e-9,y=f+1e-9,_=0,b=0,w=0,C=0,x=!1,S=!1,k=1,E=[];function M(n){var u=n[d+0],h=n[d+6];if(!(m<e(u,h)||m>t(u,h))){var _=n[c+0],b=n[c+2],S=n[c+4],M=n[c+6];if(u!==h){var O=m===u?0:m===h?1:v>t(_,b,S,M)||y<e(_,b,S,M)?1:F.solveCubic(n,d,m,E,0,1)>0?E[0]:1,T=0===O?_:1===O?M:F.getPoint(n,O)[o?"y":"x"],I=u>h?1:-1,P=l[d]>l[d+6]?1:-1,L=l[c+6];return m!==u?(T<v?w+=I:T>y?C+=I:x=!0,T>f-g&&T<f+g&&(k/=2)):(I!==P?_<v?w+=I:_>y&&(C+=I):_!=L&&(L<y&&T>y?(C+=I,x=!0):L>v&&T<v&&(w+=I,x=!0)),k=0),l=n,!s&&T>v&&T<y&&0===F.getTangent(n,O)[o?"x":"y"]&&p(i,r,!o,a,!0)}(_<y&&M>v||M<y&&_>v)&&(x=!0)}}function O(n){var i=n[d+0],r=n[d+2],a=n[d+4],s=n[d+6];if(m<=t(i,r,a,s)&&m>=e(i,r,a,s))for(var l,u=n[c+0],h=n[c+2],f=n[c+4],p=n[c+6],g=v>t(u,h,f,p)||y<e(u,h,f,p)?[n]:F.getMonoCurves(n,o),_=0,b=g.length;_<b;_++)if(l=M(g[_]))return l}for(var T=0,I=r.length;T<I;T++){var P,L=r[T],A=L._path,R=L.getValues();if(!(T&&r[T-1]._path===A||(l=null,A._closed||(u=F.getValues(A.getLastCurve().getSegment2(),L.getSegment1(),null,!a))[d]!==u[d+6]&&(l=u),l))){l=R;for(var B=A.getLastCurve();B&&B!==L;){var D=B.getValues();if(D[d]!==D[d+6]){l=D;break}B=B.getPrevious()}}if(P=O(R))return P;if(T+1===I||r[T+1]._path!==A){if(u&&(P=O(u)))return P;!x||w||C||(w=C=A.isClockwise(a)^o?1:-1),_+=w,b+=C,w=C=0,x&&(S=!0,x=!1),u=null}}return _=n(_),b=n(b),{winding:t(_,b),windingL:_,windingR:b,quality:k,onPath:S}}function m(e,t,i,r,o){var a=[],s=e,l=0;do{var u=(_=e.getCurve()).getLength();a.push({segment:e,curve:_,length:u}),l+=u,e=e.getNext()}while(e&&!e._intersection&&e!==s);for(var c=[.5,.25,.75],d={winding:0,quality:-1},h=0;h<c.length&&d.quality<.5;h++){u=l*c[h];for(var f=0,m=a.length;f<m;f++){var v=a[f],y=v.length;if(u<=y){var _,b=(_=v.curve)._path,w=b._parent,C=w instanceof W?w:b,x=g.clamp(_.getTimeAt(u),1e-8,1-1e-8),S=_.getPointAtTime(x),k=n(_.getTangentAtTime(x).y)<Math.SQRT1_2,E=o.subtract&&i&&(C===t&&i._getWinding(S,k,!0).winding||C===i&&!t._getWinding(S,k,!0).winding)?{winding:0,quality:1}:p(S,r,k,!0);E.quality>d.quality&&(d=E);break}u-=y}}for(f=a.length-1;f>=0;f--)a[f].segment._winding=d}function v(e,t){var n,i=[];function r(e){var n;return!(!e||e._visited||t&&(!t[(n=e._winding||{}).winding]||t.unite&&2===n.winding&&n.windingL&&n.windingR))}function o(e){if(e)for(var t=0,i=n.length;t<i;t++)if(e===n[t])return!0;return!1}function a(e){for(var t=e._segments,n=0,i=t.length;n<i;n++)t[n]._visited=!0}function s(e,t){var i=e._intersection,a=i,s=[];function l(i,a){for(;i&&i!==a;){var l=i._segment,u=l&&l._path;if(u){var c=l.getNext()||u.getFirstSegment(),d=c._intersection;l!==e&&(o(l)||o(c)||c&&r(l)&&(r(c)||d&&r(d._segment)))&&s.push(l),t&&n.push(l)}i=i._next}}if(t&&(n=[e]),i){for(l(i);i&&i._prev;)i=i._prev;l(i,a)}return s}e.sort(function(e,t){var n=e._intersection,i=t._intersection,r=!(!n||!n._overlap),o=!(!i||!i._overlap),a=e._path,s=t._path;return r^o?r?1:-1:!n^!i?n?1:-1:a!==s?a._id-s._id:e._index-t._index});for(var l=0,u=e.length;l<u;l++){var c,d,h,f=e[l],p=r(f),m=null,g=!1,v=!0,y=[];if(p&&f._path._overlapsOnly){var _=f._path,b=f._intersection._segment._path;_.compare(b)&&(_.getArea()&&i.push(_.clone(!1)),a(_),a(b),p=!1)}for(;p;){var w=!m,C=s(f,w),x=C.shift(),S=!(g=!w&&(o(f)||o(x)))&&x;if(w&&(m=new N(M.NO_INSERT),c=null),g){(f.isFirst()||f.isLast())&&(v=f._path._closed),f._visited=!0;break}if(S&&c&&(y.push(c),c=null),c||(S&&C.push(f),c={start:m._segments.length,crossings:C,visited:d=[],handleIn:h}),S&&(f=x),!r(f)){m.removeSegments(c.start);for(var k=0,E=d.length;k<E;k++)d[k]._visited=!1;d.length=0;do{(f=c&&c.crossings.shift())&&f._path||(f=null,(c=y.pop())&&(d=c.visited,h=c.handleIn))}while(c&&!r(f));if(!f)break}var O=f.getNext();m.add(new B(f._point,h,O&&f._handleOut)),f._visited=!0,d.push(f),f=O||f._path.getFirstSegment(),h=O&&O._handleIn}g&&(v&&(m.getFirstSegment().setHandleIn(h),m.setClosed(v)),0!==m.getArea()&&i.push(m))}return i}return{_getWinding:function(e,t,n){return p(e,this.getCurves(),t,n)},unite:function(e,t){return a(this,e,"unite",t)},intersect:function(e,t){return a(this,e,"intersect",t)},subtract:function(e,t){return a(this,e,"subtract",t)},exclude:function(e,t){return a(this,e,"exclude",t)},divide:function(e,t){return t&&(0==t.trace||t.stroke)?s(this,e,"divide"):o([this.subtract(e,t),this.intersect(e,t)],!0,this,e,t)},resolveCrossings:function(){var e=this._children,t=e||[this];function n(e,t){var n=e&&e._intersection;return n&&n._overlap&&n._path===t}var i=!1,r=!1,o=this.getIntersections(null,function(e){return e.hasOverlap()&&(i=!0)||e.isCrossing()&&(r=!0)}),a=i&&r&&[];if(o=z.expand(o),i)for(var s=f(o,function(e){return e.hasOverlap()},a),l=s.length-1;l>=0;l--){var u=s[l],h=u._path,p=u._segment,m=p.getPrevious(),g=p.getNext();n(m,h)&&n(g,h)&&(p.remove(),m._handleOut._set(0,0),g._handleIn._set(0,0),m===p||m.getCurve().hasLength()||(g._handleIn.set(m._handleIn),m.remove()))}r&&(f(o,i&&function(e){var t=e.getCurve(),n=e.getSegment(),i=e._intersection,r=i._curve,o=i._segment;if(t&&r&&t._path&&r._path)return!0;n&&(n._intersection=null),o&&(o._intersection=null)},a),a&&c(a),t=v(d.each(t,function(e){this.push.apply(this,e._segments)},[])));var y,_=t.length;return _>1&&e?(t!==e&&this.setChildren(t),y=this):1!==_||e||(t[0]!==this&&this.setSegments(t[0].removeSegments()),y=this),y||((y=new W(M.NO_INSERT)).addChildren(t),(y=y.reduce()).copyAttributes(this),this.replaceWith(y)),y},reorient:function(e,t){var n=this._children;return n&&n.length?this.setChildren(h(this.removeChildren(),function(t){return!!(e?t:1&t)},t)):t!==l&&this.setClockwise(t),this},getInteriorPoint:function(){var n=this.getBounds().getCenter(!0);if(!this.contains(n)){for(var i=this.getCurves(),r=n.y,o=[],a=[],s=0,l=i.length;s<l;s++){var u=i[s].getValues(),c=u[1],d=u[3],h=u[5],f=u[7];if(r>=e(c,d,h,f)&&r<=t(c,d,h,f))for(var p=F.getMonoCurves(u),m=0,g=p.length;m<g;m++){var v=p[m],y=v[1],_=v[7];if(y!==_&&(r>=y&&r<=_||r>=_&&r<=y)){var b=r===y?v[0]:r===_?v[6]:1===F.solveCubic(v,1,r,a,0,1)?F.getPoint(v,a[0]).x:(v[0]+v[6])/2;o.push(b)}}}o.length>1&&(o.sort(function(e,t){return e-t}),n.x=(o[0]+o[1])/2)}return n}}});var U=d.extend({_class:"PathFlattener",initialize:function(e,t,n,i,r){var o,a=[],s=[],l=0,u=1/(n||32),c=e._segments,d=c[0];function h(e,n){var o=F.getValues(e,n,r);a.push(o),function e(n,r,o,a){if(!(a-o>u)||i&&F.isStraight(n)||F.isFlatEnough(n,t||.25)){var c=n[6]-n[0],d=n[7]-n[1],h=Math.sqrt(c*c+d*d);h>0&&(l+=h,s.push({offset:l,curve:n,index:r,time:a}))}else{var f=F.subdivide(n,.5),p=(o+a)/2;e(f[0],r,o,p),e(f[1],r,p,a)}}(o,e._index,0,1)}for(var f=1,p=c.length;f<p;f++)h(d,o=c[f]),d=o;e._closed&&h(o,c[0]),this.curves=a,this.parts=s,this.length=l,this.index=0},_get:function(e){for(var t,n=this.parts,i=n.length,r=this.index;t=r,r&&!(n[--r].offset<e););for(;t<i;t++){var o=n[t];if(o.offset>=e){this.index=t;var a=n[t-1],s=a&&a.index===o.index?a.time:0,l=a?a.offset:0;return{index:o.index,time:s+(o.time-s)*(e-l)/(o.offset-l)}}}return{index:n[i-1].index,time:1}},drawPart:function(e,t,n){for(var i=this._get(t),r=this._get(n),o=i.index,a=r.index;o<=a;o++){var s=F.getPart(this.curves[o],o===i.index?i.time:0,o===r.index?r.time:1);o===i.index&&e.moveTo(s[0],s[1]),e.bezierCurveTo.apply(e,s.slice(2))}}},d.each(F._evaluateMethods,function(e){this[e+"At"]=function(t){var n=this._get(t);return F[e](this.curves[n.index],n.time)}},{})),H=d.extend({initialize:function(e){for(var t,n=this.points=[],i=e._segments,r=e._closed,o=0,a=i.length;o<a;o++){var s=i[o].point;t&&t.equals(s)||n.push(t=s.clone())}r&&(n.unshift(n[n.length-1]),n.push(n[1])),this.closed=r},fit:function(e){var t=this.points,n=t.length,i=null;return n>0&&(i=[new B(t[0])],n>1&&(this.fitCubic(i,e,0,n-1,t[1].subtract(t[0]),t[n-2].subtract(t[n-1])),this.closed&&(i.shift(),i.pop()))),i},fitCubic:function(e,t,n,i,r,o){var a=this.points;if(i-n!=1){for(var s,l=this.chordLengthParameterize(n,i),u=Math.max(t,t*t),c=!0,d=0;d<=4;d++){var h=this.generateBezier(n,i,l,r,o),f=this.findMaxError(n,i,h,l);if(f.error<t&&c)return void this.addCurve(e,h);if(s=f.index,f.error>=u)break;c=this.reparameterize(n,i,l,h),u=f.error}var p=a[s-1].subtract(a[s+1]);this.fitCubic(e,t,n,s,r,p),this.fitCubic(e,t,s,i,p.negate(),o)}else{var m=a[n],g=a[i],v=m.getDistance(g)/3;this.addCurve(e,[m,m.add(r.normalize(v)),g.add(o.normalize(v)),g])}},addCurve:function(e,t){e[e.length-1].setHandleOut(t[1].subtract(t[0])),e.push(new B(t[3],t[2].subtract(t[3])))},generateBezier:function(e,t,n,i,r){for(var o=Math.abs,a=this.points,s=a[e],l=a[t],u=[[0,0],[0,0]],c=[0,0],d=0,h=t-e+1;d<h;d++){var f=n[d],p=1-f,m=3*f*p,g=p*p*p,v=m*p,y=m*f,_=f*f*f,b=i.normalize(v),w=r.normalize(y),C=a[e+d].subtract(s.multiply(g+v)).subtract(l.multiply(y+_));u[0][0]+=b.dot(b),u[0][1]+=b.dot(w),u[1][0]=u[0][1],u[1][1]+=w.dot(w),c[0]+=b.dot(C),c[1]+=w.dot(C)}var x,S,k=u[0][0]*u[1][1]-u[1][0]*u[0][1];if(o(k)>1e-12){var E=u[0][0]*c[1]-u[1][0]*c[0];x=(c[0]*u[1][1]-c[1]*u[0][1])/k,S=E/k}else{var M=u[0][0]+u[0][1],O=u[1][0]+u[1][1];x=S=o(M)>1e-12?c[0]/M:o(O)>1e-12?c[1]/O:0}var T,I,P=l.getDistance(s),L=1e-12*P;if(x<L||S<L)x=S=P/3;else{var A=l.subtract(s);T=i.normalize(x),I=r.normalize(S),T.dot(A)-I.dot(A)>P*P&&(x=S=P/3,T=I=null)}return[s,s.add(T||i.normalize(x)),l.add(I||r.normalize(S)),l]},reparameterize:function(e,t,n,i){for(var r=e;r<=t;r++)n[r-e]=this.findRoot(i,this.points[r],n[r-e]);r=1;for(var o=n.length;r<o;r++)if(n[r]<=n[r-1])return!1;return!0},findRoot:function(e,t,n){for(var i=[],r=[],o=0;o<=2;o++)i[o]=e[o+1].subtract(e[o]).multiply(3);for(o=0;o<=1;o++)r[o]=i[o+1].subtract(i[o]).multiply(2);var a=this.evaluate(3,e,n),s=this.evaluate(2,i,n),l=this.evaluate(1,r,n),u=a.subtract(t),c=s.dot(s)+u.dot(l);return g.isZero(c)?n:n-u.dot(s)/c},evaluate:function(e,t,n){for(var i=t.slice(),r=1;r<=e;r++)for(var o=0;o<=e-r;o++)i[o]=i[o].multiply(1-n).add(i[o+1].multiply(n));return i[0]},chordLengthParameterize:function(e,t){for(var n=[0],i=e+1;i<=t;i++)n[i-e]=n[i-e-1]+this.points[i].getDistance(this.points[i-1]);i=1;for(var r=t-e;i<=r;i++)n[i]/=n[r];return n},findMaxError:function(e,t,n,i){for(var r=Math.floor((t-e+1)/2),o=0,a=e+1;a<t;a++){var s=this.evaluate(3,n,i[a-e]).subtract(this.points[a]),l=s.x*s.x+s.y*s.y;l>=o&&(o=l,r=a)}return{error:o,index:r}}}),V=M.extend({_class:"TextItem",_applyMatrix:!1,_canApplyMatrix:!1,_serializeFields:{content:null},_boundsOptions:{stroke:!1,handle:!1},initialize:function(e){this._content="",this._lines=[];var t=e&&d.isPlainObject(e)&&e.x===l&&e.y===l;this._initialize(t&&e,!t&&y.read(arguments))},_equals:function(e){return this._content===e._content},copyContent:function(e){this.setContent(e._content)},getContent:function(){return this._content},setContent:function(e){this._content=""+e,this._lines=this._content.split(/\r\n|\n|\r/gm),this._changed(265)},isEmpty:function(){return!this._content},getCharacterStyle:"#getStyle",setCharacterStyle:"#setStyle",getParagraphStyle:"#getStyle",setParagraphStyle:"#setStyle"}),q=V.extend({_class:"PointText",initialize:function(){V.apply(this,arguments)},getPoint:function(){var e=this._matrix.getTranslation();return new _(e.x,e.y,this,"setPoint")},setPoint:function(){var e=y.read(arguments);this.translate(e.subtract(this._matrix.getTranslation()))},_draw:function(e,t,n){if(this._content){this._setStyles(e,t,n);var i=this._lines,r=this._style,o=r.hasFill(),a=r.hasStroke(),s=r.getLeading(),l=e.shadowColor;e.font=r.getFontStyle(),e.textAlign=r.getJustification();for(var u=0,c=i.length;u<c;u++){e.shadowColor=l;var d=i[u];o&&(e.fillText(d,0,0),e.shadowColor="rgba(0,0,0,0)"),a&&e.strokeText(d,0,0),e.translate(0,s)}}},_getBounds:function(e,t){var n=this._style,i=this._lines,r=i.length,o=n.getJustification(),a=n.getLeading(),s=this.getView().getTextWidth(n.getFontStyle(),i),l=0;"left"!==o&&(l-=s/("center"===o?2:1));var u=new C(l,r?-.75*a:0,s,r*a);return e?e._transformBounds(u,u):u},_hitTestSelf:function(e,t){if(t.fill&&(this.hasFill()||t.hitUnfilledPaths)&&this._contains(e))return new R("fill",this)}}),G=d.extend(new function(){var e,t={gray:["gray"],rgb:["red","green","blue"],hsb:["hue","saturation","brightness"],hsl:["hue","saturation","lightness"],gradient:["gradient","origin","destination","highlight"]},n={},i={};var r=[[0,3,1],[2,0,1],[1,0,3],[1,2,0],[3,1,0],[0,1,2]],o={"rgb-hsb":function(e,t,n){var i=Math.max(e,t,n),r=i-Math.min(e,t,n);return[0===r?0:60*(i==e?(t-n)/r+(t<n?6:0):i==t?(n-e)/r+2:(e-t)/r+4),0===i?0:r/i,i]},"hsb-rgb":function(e,t,n){var i,o=(e=(e/60%6+6)%6)-(i=Math.floor(e)),a=[n,n*(1-t),n*(1-t*o),n*(1-t*(1-o))];return[a[(i=r[i])[0]],a[i[1]],a[i[2]]]},"rgb-hsl":function(e,t,n){var i=Math.max(e,t,n),r=Math.min(e,t,n),o=i-r,a=0===o,s=(i+r)/2;return[a?0:60*(i==e?(t-n)/o+(t<n?6:0):i==t?(n-e)/o+2:(e-t)/o+4),a?0:s<.5?o/(i+r):o/(2-i-r),s]},"hsl-rgb":function(e,t,n){if(e=(e/360%1+1)%1,0===t)return[n,n,n];for(var i=[e+1/3,e,e-1/3],r=n<.5?n*(1+t):n+t-n*t,o=2*n-r,a=[],s=0;s<3;s++){var l=i[s];l<0&&(l+=1),l>1&&(l-=1),a[s]=6*l<1?o+6*(r-o)*l:2*l<1?r:3*l<2?o+(r-o)*(2/3-l)*6:o}return a},"rgb-gray":function(e,t,n){return[.2989*e+.587*t+.114*n]},"gray-rgb":function(e){return[e,e,e]},"gray-hsb":function(e){return[0,0,e]},"gray-hsl":function(e){return[0,0,e]},"gradient-rgb":function(){return[]},"rgb-gradient":function(){return[]}};return d.each(t,function(e,i){n[i]=[],d.each(e,function(e,r){var o=d.capitalize(e),a=/^(hue|saturation)$/.test(e),s=n[i][r]="gradient"===e?function(e){var t=this._components[0];return t!==(e=Z.read(Array.isArray(e)?e:arguments,0,{readNull:!0}))&&(t&&t._removeOwner(this),e&&e._addOwner(this)),e}:"gradient"===i?function(){return y.read(arguments,0,{readNull:"highlight"===e,clone:!0})}:function(e){return null==e||isNaN(e)?0:e};this["get"+o]=function(){return this._type===i||a&&/^hs[bl]$/.test(this._type)?this._components[r]:this._convert(i)[r]},this["set"+o]=function(e){this._type===i||a&&/^hs[bl]$/.test(this._type)||(this._components=this._convert(i),this._properties=t[i],this._type=i),this._components[r]=s.call(this,e),this._changed()}},this)},{_class:"Color",_readIndex:!0,initialize:function r(o){var a,s,l,c,h=arguments,f=this.__read,p=0;Array.isArray(o)&&(o=(h=o)[0]);var m=null!=o&&typeof o;if("string"===m&&o in t&&(a=o,o=h[1],Array.isArray(o)?(s=o,l=h[2]):(f&&(p=1),h=d.slice(h,1),m=typeof o)),!s){if(c="number"===m?h:"object"===m&&null!=o.length?o:null){a||(a=c.length>=3?"rgb":"gray");var g=t[a].length;l=c[g],f&&(p+=c===arguments?g+(null!=l?1:0):1),c.length>g&&(c=d.slice(c,0,g))}else if("string"===m)a="rgb",4===(s=function(t){var n,r=t.match(/^#(\w{1,2})(\w{1,2})(\w{1,2})$/);if(r){n=[0,0,0];for(var o=0;o<3;o++){var a=r[o+1];n[o]=parseInt(1==a.length?a+a:a,16)/255}}else if(r=t.match(/^rgba?\((.*)\)$/)){o=0;for(var s=(n=r[1].split(",")).length;o<s;o++)a=+n[o],n[o]=o<3?a/255:a}else if(u){var l=i[t];if(!l){e||((e=se.getContext(1,1)).globalCompositeOperation="copy"),e.fillStyle="rgba(0,0,0,0)",e.fillStyle=t,e.fillRect(0,0,1,1);var c=e.getImageData(0,0,1,1).data;l=i[t]=[c[0]/255,c[1]/255,c[2]/255]}n=l.slice()}else n=[0,0,0];return n}(o)).length&&(l=s[3],s.length--);else if("object"===m)if(o.constructor===r){if(a=o._type,s=o._components.slice(),l=o._alpha,"gradient"===a)for(var v=1,y=s.length;v<y;v++){var _=s[v];_&&(s[v]=_.clone())}}else if(o.constructor===Z)a="gradient",c=h;else{var b=t[a="hue"in o?"lightness"in o?"hsl":"hsb":"gradient"in o||"stops"in o||"radial"in o?"gradient":"gray"in o?"gray":"rgb"],w=n[a];this._components=s=[];for(v=0,y=b.length;v<y;v++){null==(C=o[b[v]])&&!v&&"gradient"===a&&"stops"in o&&(C={stops:o.stops,radial:o.radial}),null!=(C=w[v].call(this,C))&&(s[v]=C)}l=o.alpha}f&&a&&(p=1)}if(this._type=a||"rgb",!s){this._components=s=[];for(v=0,y=(w=n[this._type]).length;v<y;v++){var C;null!=(C=w[v].call(this,c&&c[v]))&&(s[v]=C)}}return this._components=s,this._properties=t[this._type],this._alpha=l,f&&(this.__read=p),this},set:"#initialize",_serialize:function(e,t){var n=this.getComponents();return d.serialize(/^(gray|rgb)$/.test(this._type)?n:[this._type].concat(n),e,!0,t)},_changed:function(){this._canvasStyle=null,this._owner&&this._owner._changed(65)},_convert:function(e){var t;return this._type===e?this._components.slice():(t=o[this._type+"-"+e])?t.apply(this,this._components):o["rgb-"+e].apply(this,o[this._type+"-rgb"].apply(this,this._components))},convert:function(e){return new G(e,this._convert(e),this._alpha)},getType:function(){return this._type},setType:function(e){this._components=this._convert(e),this._properties=t[e],this._type=e},getComponents:function(){var e=this._components.slice();return null!=this._alpha&&e.push(this._alpha),e},getAlpha:function(){return null!=this._alpha?this._alpha:1},setAlpha:function(e){this._alpha=null==e?null:Math.min(Math.max(e,0),1),this._changed()},hasAlpha:function(){return null!=this._alpha},equals:function(e){var t=d.isPlainValue(e,!0)?G.read(arguments):e;return t===this||t&&this._class===t._class&&this._type===t._type&&this.getAlpha()===t.getAlpha()&&d.equals(this._components,t._components)||!1},toString:function(){for(var e=this._properties,t=[],n="gradient"===this._type,i=m.instance,r=0,o=e.length;r<o;r++){var a=this._components[r];null!=a&&t.push(e[r]+": "+(n?a:i.number(a)))}return null!=this._alpha&&t.push("alpha: "+i.number(this._alpha)),"{ "+t.join(", ")+" }"},toCSS:function(e){var t=this._convert("rgb"),n=e||null==this._alpha?1:this._alpha;function i(e){return Math.round(255*(e<0?0:e>1?1:e))}return t=[i(t[0]),i(t[1]),i(t[2])],n<1&&t.push(n<0?0:n),e?"#"+((1<<24)+(t[0]<<16)+(t[1]<<8)+t[2]).toString(16).slice(1):(4==t.length?"rgba(":"rgb(")+t.join(",")+")"},toCanvasStyle:function(e,t){if(this._canvasStyle)return this._canvasStyle;if("gradient"!==this._type)return this._canvasStyle=this.toCSS();var n,i=this._components,r=i[0],o=r._stops,a=i[1],s=i[2],l=i[3],u=t&&t.inverted();if(u&&(a=u._transformPoint(a),s=u._transformPoint(s),l&&(l=u._transformPoint(l))),r._radial){var c=s.getDistance(a);if(l){var d=l.subtract(a);d.getLength()>c&&(l=a.add(d.normalize(c-.1)))}var h=l||a;n=e.createRadialGradient(h.x,h.y,0,a.x,a.y,c)}else n=e.createLinearGradient(a.x,a.y,s.x,s.y);for(var f=0,p=o.length;f<p;f++){var m=o[f],g=m._offset;n.addColorStop(null==g?f/(p-1):g,m._color.toCanvasStyle())}return this._canvasStyle=n},transform:function(e){if("gradient"===this._type){for(var t=this._components,n=1,i=t.length;n<i;n++){var r=t[n];e._transformPoint(r,r,!0)}this._changed()}},statics:{_types:t,random:function(){var e=Math.random;return new G(e(),e(),e())}}})},new function(){return d.each({add:function(e,t){return e+t},subtract:function(e,t){return e-t},multiply:function(e,t){return e*t},divide:function(e,t){return e/t}},function(e,t){this[t]=function(t){t=G.read(arguments);for(var n=this._type,i=this._components,r=t._convert(n),o=0,a=i.length;o<a;o++)r[o]=e(i[o],r[o]);return new G(n,r,null!=this._alpha?e(this._alpha,t.getAlpha()):null)}},{})}),Z=d.extend({_class:"Gradient",initialize:function(e,t){this._id=v.get(),e&&d.isPlainObject(e)&&(this.set(e),e=t=null),null==this._stops&&this.setStops(e||["white","black"]),null==this._radial&&this.setRadial("string"==typeof t&&"radial"===t||t||!1)},_serialize:function(e,t){return t.add(this,function(){return d.serialize([this._stops,this._radial],e,!0,t)})},_changed:function(){for(var e=0,t=this._owners&&this._owners.length;e<t;e++)this._owners[e]._changed()},_addOwner:function(e){this._owners||(this._owners=[]),this._owners.push(e)},_removeOwner:function(e){var t=this._owners?this._owners.indexOf(e):-1;-1!=t&&(this._owners.splice(t,1),this._owners.length||(this._owners=l))},clone:function(){for(var e=[],t=0,n=this._stops.length;t<n;t++)e[t]=this._stops[t].clone();return new Z(e,this._radial)},getStops:function(){return this._stops},setStops:function(e){if(e.length<2)throw new Error("Gradient stop list needs to contain at least two stops.");var t=this._stops;if(t)for(var n=0,i=t.length;n<i;n++)t[n]._owner=l;for(n=0,i=(t=this._stops=K.readList(e,0,{clone:!0})).length;n<i;n++)t[n]._owner=this;this._changed()},getRadial:function(){return this._radial},setRadial:function(e){this._radial=e,this._changed()},equals:function(e){if(e===this)return!0;if(e&&this._class===e._class){var t=this._stops,n=e._stops,i=t.length;if(i===n.length){for(var r=0;r<i;r++)if(!t[r].equals(n[r]))return!1;return!0}}return!1}}),K=d.extend({_class:"GradientStop",initialize:function(e,t){var n=e,i=t;"object"==typeof e&&t===l&&(Array.isArray(e)&&"number"!=typeof e[0]?(n=e[0],i=e[1]):("color"in e||"offset"in e||"rampPoint"in e)&&(n=e.color,i=e.offset||e.rampPoint||0)),this.setColor(n),this.setOffset(i)},clone:function(){return new K(this._color.clone(),this._offset)},_serialize:function(e,t){var n=this._color,i=this._offset;return d.serialize(null==i?[n]:[n,i],e,!0,t)},_changed:function(){this._owner&&this._owner._changed(65)},getOffset:function(){return this._offset},setOffset:function(e){this._offset=e,this._changed()},getRampPoint:"#getOffset",setRampPoint:"#setOffset",getColor:function(){return this._color},setColor:function(){var e=G.read(arguments,0,{clone:!0});e&&(e._owner=this),this._color=e,this._changed()},equals:function(e){return e===this||e&&this._class===e._class&&this._color.equals(e._color)&&this._offset==e._offset||!1}}),X=d.extend(new function(){var e={fillColor:null,fillRule:"nonzero",strokeColor:null,strokeWidth:1,strokeCap:"butt",strokeJoin:"miter",strokeScaling:!0,miterLimit:10,dashOffset:0,dashArray:[],shadowColor:null,shadowBlur:0,shadowOffset:new y,selectedColor:null},t=d.set({},e,{fontFamily:"sans-serif",fontWeight:"normal",fontSize:12,leading:null,justification:"left"}),n=d.set({},t,{fillColor:new G}),i={strokeWidth:97,strokeCap:97,strokeJoin:97,strokeScaling:105,miterLimit:97,fontFamily:9,fontWeight:9,fontSize:9,font:9,leading:9,justification:9},r={beans:!0},o={_class:"Style",beans:!0,initialize:function(i,r,o){this._values={},this._owner=r,this._project=r&&r._project||o||a.project,this._defaults=!r||r instanceof O?t:r instanceof V?n:e,i&&this.set(i)}};return d.each(t,function(e,t){var n=/Color$/.test(t),a="shadowOffset"===t,s=d.capitalize(t),u=i[t],c="set"+s,h="get"+s;o[c]=function(e){var i=this._owner,r=i&&i._children;if(r&&r.length>0&&!(i instanceof W))for(var o=0,a=r.length;o<a;o++)r[o]._style[c](e);else if(t in this._defaults){var s=this._values[t];s!==e&&(n&&(s&&s._owner!==l&&(s._owner=l),e&&e.constructor===G&&(e._owner&&(e=e.clone()),e._owner=i)),this._values[t]=e,i&&i._changed(u||65))}},o[h]=function(e){var i,r=this._owner,o=r&&r._children;if(t in this._defaults&&(!o||!o.length||e||r instanceof W))if((i=this._values[t])===l)(i=this._defaults[t])&&i.clone&&(i=i.clone());else{var s=n?G:a?y:null;!s||i&&i.constructor===s||(this._values[t]=i=s.read([i],0,{readNull:!0,clone:!0}),i&&n&&(i._owner=r))}else if(o)for(var u=0,c=o.length;u<c;u++){var f=o[u]._style[h]();if(u){if(!d.equals(i,f))return l}else i=f}return i},r[h]=function(e){return this._style[h](e)},r[c]=function(e){this._style[c](e)}}),d.each({Font:"FontFamily",WindingRule:"FillRule"},function(e,t){var n="get"+t,i="set"+t;o[n]=r[n]="#get"+e,o[i]=r[i]="#set"+e}),M.inject(r),o},{set:function(e){var t=e instanceof X,n=t?e._values:e;if(n)for(var i in n)if(i in this._defaults){var r=n[i];this[i]=r&&t&&r.clone?r.clone():r}},equals:function(e){function t(e,t,n){var i=e._values,r=t._values,o=t._defaults;for(var a in i){var s=i[a],u=r[a];if(!(n&&a in r||d.equals(s,u===l?o[a]:u)))return!1}return!0}return e===this||e&&this._class===e._class&&t(this,e)&&t(e,this,!0)||!1},hasFill:function(){var e=this.getFillColor();return!!e&&e.alpha>0},hasStroke:function(){var e=this.getStrokeColor();return!!e&&e.alpha>0&&this.getStrokeWidth()>0},hasShadow:function(){var e=this.getShadowColor();return!!e&&e.alpha>0&&(this.getShadowBlur()>0||!this.getShadowOffset().isZero())},getView:function(){return this._project._view},getFontStyle:function(){var e=this.getFontSize();return this.getFontWeight()+" "+e+(/[a-z]/i.test(e+"")?" ":"px ")+this.getFontFamily()},getFont:"#getFontFamily",setFont:"#setFontFamily",getLeading:function e(){var t=e.base.call(this),n=this.getFontSize();return/pt|em|%|px/.test(n)&&(n=this.getView().getPixelSize(n)),null!=t?t:1.2*n}}),Y=new function(){function e(e,t,n,i){for(var r=["","webkit","moz","Moz","ms","o"],o=t[0].toUpperCase()+t.substring(1),a=0;a<6;a++){var s=r[a],l=s?s+o:t;if(l in e){if(!n)return e[l];e[l]=i;break}}}return{getStyles:function(e){var t=e&&9!==e.nodeType?e.ownerDocument:e,n=t&&t.defaultView;return n&&n.getComputedStyle(e,"")},getBounds:function(e,t){var n,i=e.ownerDocument,r=i.body,o=i.documentElement;try{n=e.getBoundingClientRect()}catch(e){n={left:0,top:0,width:0,height:0}}var a=n.left-(o.clientLeft||r.clientLeft||0),s=n.top-(o.clientTop||r.clientTop||0);if(!t){var l=i.defaultView;a+=l.pageXOffset||o.scrollLeft||r.scrollLeft,s+=l.pageYOffset||o.scrollTop||r.scrollTop}return new C(a,s,n.width,n.height)},getViewportBounds:function(e){var t=e.ownerDocument,n=t.defaultView,i=t.documentElement;return new C(0,0,n.innerWidth||i.clientWidth,n.innerHeight||i.clientHeight)},getOffset:function(e,t){return Y.getBounds(e,t).getPoint()},getSize:function(e){return Y.getBounds(e,!0).getSize()},isInvisible:function(e){return Y.getSize(e).equals(new b(0,0))},isInView:function(e){return!Y.isInvisible(e)&&Y.getViewportBounds(e).intersects(Y.getBounds(e,!0))},isInserted:function(e){return c.body.contains(e)},getPrefixed:function(t,n){return t&&e(t,n)},setPrefixed:function(t,n,i){if("object"==typeof n)for(var r in n)e(t,r,!0,n[r]);else e(t,n,!0,i)}}},Q={add:function(e,t){if(e)for(var n in t)for(var i=t[n],r=n.split(/[\s,]+/g),o=0,a=r.length;o<a;o++)e.addEventListener(r[o],i,!1)},remove:function(e,t){if(e)for(var n in t)for(var i=t[n],r=n.split(/[\s,]+/g),o=0,a=r.length;o<a;o++)e.removeEventListener(r[o],i,!1)},getPoint:function(e){var t=e.targetTouches?e.targetTouches.length?e.targetTouches[0]:e.changedTouches[0]:e;return new y(t.pageX||t.clientX+c.documentElement.scrollLeft,t.pageY||t.clientY+c.documentElement.scrollTop)},getTarget:function(e){return e.target||e.srcElement},getRelatedTarget:function(e){return e.relatedTarget||e.toElement},getOffset:function(e,t){return Q.getPoint(e).subtract(Y.getOffset(t||Q.getTarget(e)))}};Q.requestAnimationFrame=new function(){var e,t=Y.getPrefixed(u,"requestAnimationFrame"),n=!1,i=[];function r(){var e=i;i=[];for(var o=0,a=e.length;o<a;o++)e[o]();(n=t&&i.length)&&t(r)}return function(o){i.push(o),t?n||(t(r),n=!0):e||(e=setInterval(r,1e3/60))}};var J=d.extend(h,{_class:"View",initialize:function e(t,n){function i(e){return n[e]||parseInt(n.getAttribute(e),10)}function r(){var e=Y.getSize(n);return e.isNaN()||e.isZero()?new b(i("width"),i("height")):e}var o;if(u&&n){this._id=n.getAttribute("id"),null==this._id&&n.setAttribute("id",this._id="view-"+e._id++),Q.add(n,this._viewEvents);if(Y.setPrefixed(n.style,{userDrag:"none",userSelect:"none",touchCallout:"none",contentZooming:"none",tapHighlightColor:"rgba(0,0,0,0)"}),f.hasAttribute(n,"resize")){var s=this;Q.add(u,this._windowEvents={resize:function(){s.setViewSize(r())}})}if(o=r(),f.hasAttribute(n,"stats")&&"undefined"!=typeof Stats){this._stats=new Stats;var l=this._stats.domElement,d=l.style,h=Y.getOffset(n);d.position="absolute",d.left=h.x+"px",d.top=h.y+"px",c.body.appendChild(l)}}else o=new b(n),n=null;this._project=t,this._scope=t._scope,this._element=n,this._pixelRatio||(this._pixelRatio=u&&u.devicePixelRatio||1),this._setElementSize(o.width,o.height),this._viewSize=o,e._views.push(this),e._viewsById[this._id]=this,(this._matrix=new S)._owner=this,e._focused||(e._focused=this),this._frameItems={},this._frameItemCount=0,this._itemEvents={native:{},virtual:{}},this._autoUpdate=!a.agent.node,this._needsUpdate=!1},remove:function(){if(!this._project)return!1;J._focused===this&&(J._focused=null),J._views.splice(J._views.indexOf(this),1),delete J._viewsById[this._id];var e=this._project;return e._view===this&&(e._view=null),Q.remove(this._element,this._viewEvents),Q.remove(u,this._windowEvents),this._element=this._project=null,this.off("frame"),this._animate=!1,this._frameItems={},!0},_events:d.each(M._itemHandlers.concat(["onResize","onKeyDown","onKeyUp"]),function(e){this[e]={}},{onFrame:{install:function(){this.play()},uninstall:function(){this.pause()}}}),_animate:!1,_time:0,_count:0,getAutoUpdate:function(){return this._autoUpdate},setAutoUpdate:function(e){this._autoUpdate=e,e&&this.requestUpdate()},update:function(){},draw:function(){this.update()},requestUpdate:function(){if(!this._requested){var e=this;Q.requestAnimationFrame(function(){if(e._requested=!1,e._animate){e.requestUpdate();var t=e._element;Y.getPrefixed(c,"hidden")&&"true"!==f.getAttribute(t,"keepalive")||!Y.isInView(t)||e._handleFrame()}e._autoUpdate&&e.update()}),this._requested=!0}},play:function(){this._animate=!0,this.requestUpdate()},pause:function(){this._animate=!1},_handleFrame:function(){a=this._scope;var e=Date.now()/1e3,t=this._last?e-this._last:0;this._last=e,this.emit("frame",new d({delta:t,time:this._time+=t,count:this._count++})),this._stats&&this._stats.update()},_animateItem:function(e,t){var n=this._frameItems;t?(n[e._id]={item:e,time:0,count:0},1==++this._frameItemCount&&this.on("frame",this._handleFrameItems)):(delete n[e._id],0==--this._frameItemCount&&this.off("frame",this._handleFrameItems))},_handleFrameItems:function(e){for(var t in this._frameItems){var n=this._frameItems[t];n.item.emit("frame",new d(e,{time:n.time+=e.delta,count:n.count++}))}},_changed:function(){this._project._changed(2049),this._bounds=this._decomposed=l},getElement:function(){return this._element},getPixelRatio:function(){return this._pixelRatio},getResolution:function(){return 72*this._pixelRatio},getViewSize:function(){var e=this._viewSize;return new w(e.width,e.height,this,"setViewSize")},setViewSize:function(){var e=b.read(arguments),t=e.subtract(this._viewSize);t.isZero()||(this._setElementSize(e.width,e.height),this._viewSize.set(e),this._changed(),this.emit("resize",{size:e,delta:t}),this._autoUpdate&&this.update())},_setElementSize:function(e,t){var n=this._element;n&&(n.width!==e&&(n.width=e),n.height!==t&&(n.height=t))},getBounds:function(){return this._bounds||(this._bounds=this._matrix.inverted()._transformBounds(new C(new y,this._viewSize))),this._bounds},getSize:function(){return this.getBounds().getSize()},isVisible:function(){return Y.isInView(this._element)},isInserted:function(){return Y.isInserted(this._element)},getPixelSize:function(e){var t,n=this._element;if(n){var i=n.parentNode,r=c.createElement("div");r.style.fontSize=e,i.appendChild(r),t=parseFloat(Y.getStyles(r).fontSize),i.removeChild(r)}else t=parseFloat(t);return t},getTextWidth:function(e,t){return 0}},d.each(["rotate","scale","shear","skew"],function(e){var t="rotate"===e;this[e]=function(){var n=(t?d:y).read(arguments),i=y.read(arguments,0,{readNull:!0});return this.transform((new S)[e](n,i||this.getCenter(!0)))}},{_decompose:function(){return this._decomposed||(this._decomposed=this._matrix.decompose())},translate:function(){var e=new S;return this.transform(e.translate.apply(e,arguments))},getCenter:function(){return this.getBounds().getCenter()},setCenter:function(){var e=y.read(arguments);this.translate(this.getCenter().subtract(e))},getZoom:function(){var e=this._decompose(),t=e&&e.scaling;return t?(t.x+t.y)/2:0},setZoom:function(e){this.transform((new S).scale(e/this.getZoom(),this.getCenter()))},getRotation:function(){var e=this._decompose();return e&&e.rotation},setRotation:function(e){var t=this.getRotation();null!=t&&null!=e&&this.rotate(e-t)},getScaling:function(){var e=this._decompose(),t=e&&e.scaling;return t?new _(t.x,t.y,this,"setScaling"):l},setScaling:function(){var e=this.getScaling(),t=y.read(arguments,0,{clone:!0,readNull:!0});e&&t&&this.scale(t.x/e.x,t.y/e.y)},getMatrix:function(){return this._matrix},setMatrix:function(){var e=this._matrix;e.initialize.apply(e,arguments)},transform:function(e){this._matrix.append(e)},scrollBy:function(){this.translate(y.read(arguments).negate())}}),{projectToView:function(){return this._matrix._transformPoint(y.read(arguments))},viewToProject:function(){return this._matrix._inverseTransform(y.read(arguments))},getEventPoint:function(e){return this.viewToProject(Q.getOffset(e,this._element))}},{statics:{_views:[],_viewsById:{},_id:0,create:function(e,t){return c&&"string"==typeof t&&(t=c.getElementById(t)),new(u?$:J)(e,t)}}},new function(){if(u){var e,t,n,i,r,o=!1,s=!1,l=u.navigator;l.pointerEnabled||l.msPointerEnabled?(n="pointerdown MSPointerDown",i="pointermove MSPointerMove",r="pointerup pointercancel MSPointerUp MSPointerCancel"):(n="touchstart",i="touchmove",r="touchend touchcancel","ontouchstart"in u&&l.userAgent.match(/mobile|tablet|ip(ad|hone|od)|android|silk/i)||(n+=" mousedown",i+=" mousemove",r+=" mouseup"));var d={},h={mouseout:function(e){var t=J._focused,n=Q.getRelatedTarget(e);if(t&&(!n||"HTML"===n.nodeName)){var i=Q.getOffset(e,t._element),r=i.x,o=Math.abs,a=o(r),s=a-(1<<25);i.x=o(s)<a?s*(r<0?-1:1):r,O(t,e,t.viewToProject(i))}},scroll:M};d[n]=function(e){var t=J._focused=E(e);o||(o=!0,t._handleMouseEvent("mousedown",e))},h[i]=function(n){var i=J._focused;if(!s){var r=E(n);r?i!==r&&(i&&O(i,n),e||(e=i),i=J._focused=t=r):t&&t===i&&(e&&!e.isInserted()&&(e=null),i=J._focused=e,e=null,M())}i&&O(i,n)},h[n]=function(){s=!0},h[r]=function(e){var t=J._focused;t&&o&&t._handleMouseEvent("mouseup",e),s=o=!1},Q.add(c,h),Q.add(u,{load:M});var f,p,m,g,v,y,_,b,w=!1,C=!1,x={doubleclick:"click",mousedrag:"mousemove"},S=!1,k={mousedown:{mousedown:1,mousedrag:1,click:1,doubleclick:1},mouseup:{mouseup:1,mousedrag:1,click:1,doubleclick:1},mousemove:{mousedrag:1,mousemove:1,mouseenter:1,mouseleave:1}};return{_viewEvents:d,_handleMouseEvent:function(e,t,n){var i=this._itemEvents,r=i.native[e],a="mousemove"===e,s=this._scope.tool,l=this;function u(e){return i.virtual[e]||l.responds(e)||s&&s.responds(e)}a&&o&&u("mousedrag")&&(e="mousedrag"),n||(n=this.getEventPoint(t));var c=this.getBounds().contains(n),d=r&&c&&l._project.hitTest(n,{tolerance:0,fill:!0,stroke:!0}),h=d&&d.item||null,x=!1,k={};if(k[e.substr(5)]=!0,r&&h!==g&&(g&&T(g,null,"mouseleave",t,n),h&&T(h,null,"mouseenter",t,n),g=h),S^c&&(T(this,null,c?"mouseenter":"mouseleave",t,n),c?this:null,x=!0),!c&&!k.drag||n.equals(p)||(I(this,h,a?e:"mousemove",t,n,p),x=!0),S=c,k.down&&c||k.up&&f){if(I(this,h,e,t,n,f),k.down){if(b=h===y&&Date.now()-_<300,m=y=h,!C&&h){for(var E=h;E&&!E.responds("mousedrag");)E=E._parent;E&&(v=h)}f=n}else k.up&&(C||h!==m||(_=Date.now(),I(this,h,b?"doubleclick":"click",t,n,f),b=!1),m=v=null);S=!1,x=!0}p=n,x&&s&&(w=s._handleMouseEvent(e,t,n,k)||w),(w&&!k.move||k.down&&u("mouseup"))&&t.preventDefault()},_handleKeyEvent:function(e,t,n,i){var r,o=this._scope,s=o.tool;function l(s){s.responds(e)&&(a=o,s.emit(e,r=r||new te(e,t,n,i)))}this.isVisible()&&(l(this),s&&s.responds(e)&&l(s))},_countItemEvent:function(e,t){var n=this._itemEvents,i=n.native,r=n.virtual;for(var o in k)i[o]=(i[o]||0)+(k[o][e]||0)*t;r[e]=(r[e]||0)+t},statics:{updateFocus:M}}}function E(e){var t=Q.getTarget(e);return t.getAttribute&&J._viewsById[t.getAttribute("id")]}function M(){var e=J._focused;if(!e||!e.isVisible())for(var n=0,i=J._views.length;n<i;n++)if((e=J._views[n]).isVisible()){J._focused=t=e;break}}function O(e,t,n){e._handleMouseEvent("mousemove",t,n)}function T(e,t,n,i,r,o,a){var s,l=!1;function u(e,n){if(e.responds(n)){if(s||(s=new ie(n,i,r,t||e,o?r.subtract(o):null)),e.emit(n,s)&&(w=!0,s.prevented&&(C=!0),s.stopped))return l=!0}else{var a=x[n];if(a)return u(e,a)}}for(;e&&e!==a&&!u(e,n);)e=e._parent;return l}function I(e,t,n,i,r,o){return e._project.removeOn(n),C=w=!1,v&&T(v,null,n,i,r,o)||t&&t!==v&&!t.isDescendant(v)&&T(t,null,n,i,r,o,v)||T(e,v||t||e,n,i,r,o)}}),$=J.extend({_class:"CanvasView",initialize:function(e,t){if(!(t instanceof u.HTMLCanvasElement)){var n=b.read(arguments,1);if(n.isZero())throw new Error("Cannot create CanvasView with the provided argument: "+d.slice(arguments,1));t=se.getCanvas(n)}var i=this._context=t.getContext("2d");if(i.save(),this._pixelRatio=1,!/^off|false$/.test(f.getAttribute(t,"hidpi"))){var r=u.devicePixelRatio||1,o=Y.getPrefixed(i,"backingStorePixelRatio")||1;this._pixelRatio=r/o}J.call(this,e,t),this._needsUpdate=!0},remove:function e(){return this._context.restore(),e.base.call(this)},_setElementSize:function e(t,n){var i=this._pixelRatio;if(e.base.call(this,t*i,n*i),1!==i){var r=this._element,o=this._context;if(!f.hasAttribute(r,"resize")){var a=r.style;a.width=t+"px",a.height=n+"px"}o.restore(),o.save(),o.scale(i,i)}},getPixelSize:function e(t){var n,i=a.agent;if(i&&i.firefox)n=e.base.call(this,t);else{var r=this._context,o=r.font;r.font=t+" serif",n=parseFloat(r.font),r.font=o}return n},getTextWidth:function(e,t){var n=this._context,i=n.font,r=0;n.font=e;for(var o=0,a=t.length;o<a;o++)r=Math.max(r,n.measureText(t[o]).width);return n.font=i,r},update:function(){if(!this._needsUpdate)return!1;var e=this._project,t=this._context,n=this._viewSize;return t.clearRect(0,0,n.width+1,n.height+1),e&&e.draw(t,this._matrix,this._pixelRatio),this._needsUpdate=!1,!0}}),ee=d.extend({_class:"Event",initialize:function(e){this.event=e,this.type=e&&e.type},prevented:!1,stopped:!1,preventDefault:function(){this.prevented=!0,this.event.preventDefault()},stopPropagation:function(){this.stopped=!0,this.event.stopPropagation()},stop:function(){this.stopPropagation(),this.preventDefault()},getTimeStamp:function(){return this.event.timeStamp},getModifiers:function(){return ne.modifiers}}),te=ee.extend({_class:"KeyEvent",initialize:function(e,t,n,i){this.type=e,this.event=t,this.key=n,this.character=i},toString:function(){return"{ type: '"+this.type+"', key: '"+this.key+"', character: '"+this.character+"', modifiers: "+this.getModifiers()+" }"}}),ne=new function(){var e,t,n={"\t":"tab"," ":"space","\b":"backspace","":"delete",Spacebar:"space",Del:"delete",Win:"meta",Esc:"escape"},i={tab:"\t",space:" ",enter:"\r"},r={},o={},s=new d({shift:!1,control:!1,alt:!1,meta:!1,capsLock:!1,space:!1}).inject({option:{get:function(){return this.alt}},command:{get:function(){var e=a&&a.agent;return e&&e.mac?this.meta:this.control}}});function h(e){var t=e.key||e.keyIdentifier;return t=/^U\+/.test(t)?String.fromCharCode(parseInt(t.substr(2),16)):/^Arrow[A-Z]/.test(t)?t.substr(5):"Unidentified"===t||t===l?String.fromCharCode(e.keyCode):t,n[t]||(t.length>1?d.hyphenate(t):t.toLowerCase())}function f(t,n,i,l){var u,c=J._focused;if(r[n]=t,t?o[n]=i:delete o[n],n.length>1&&(u=d.camelize(n))in s){s[u]=t;var h=a&&a.agent;if("meta"===u&&h&&h.mac)if(t)e={};else{for(var p in e)p in o&&f(!1,p,e[p],l);e=null}}else t&&e&&(e[n]=i);c&&c._handleKeyEvent(t?"keydown":"keyup",l,n,i)}return Q.add(c,{keydown:function(e){var n=h(e),r=a&&a.agent;n.length>1||r&&r.chrome&&(e.altKey||r.mac&&e.metaKey||!r.mac&&e.ctrlKey)?f(!0,n,i[n]||(n.length>1?"":n),e):t=n},keypress:function(e){if(t){var n=h(e),i=e.charCode,r=i>=32?String.fromCharCode(i):n.length>1?"":n;n!==t&&(n=r.toLowerCase()),f(!0,n,r,e),t=null}},keyup:function(e){var t=h(e);t in o&&f(!1,t,o[t],e)}}),Q.add(u,{blur:function(e){for(var t in o)f(!1,t,o[t],e)}}),{modifiers:s,isDown:function(e){return!!r[e]}}},ie=ee.extend({_class:"MouseEvent",initialize:function(e,t,n,i,r){this.type=e,this.event=t,this.point=n,this.target=i,this.delta=r},toString:function(){return"{ type: '"+this.type+"', point: "+this.point+", target: "+this.target+(this.delta?", delta: "+this.delta:"")+", modifiers: "+this.getModifiers()+" }"}}),re=ee.extend({_class:"ToolEvent",_item:null,initialize:function(e,t,n){this.tool=e,this.type=t,this.event=n},_choosePoint:function(e,t){return e||(t?t.clone():null)},getPoint:function(){return this._choosePoint(this._point,this.tool._point)},setPoint:function(e){this._point=e},getLastPoint:function(){return this._choosePoint(this._lastPoint,this.tool._lastPoint)},setLastPoint:function(e){this._lastPoint=e},getDownPoint:function(){return this._choosePoint(this._downPoint,this.tool._downPoint)},setDownPoint:function(e){this._downPoint=e},getMiddlePoint:function(){return!this._middlePoint&&this.tool._lastPoint?this.tool._point.add(this.tool._lastPoint).divide(2):this._middlePoint},setMiddlePoint:function(e){this._middlePoint=e},getDelta:function(){return!this._delta&&this.tool._lastPoint?this.tool._point.subtract(this.tool._lastPoint):this._delta},setDelta:function(e){this._delta=e},getCount:function(){return this.tool[/^mouse(down|up)$/.test(this.type)?"_downCount":"_moveCount"]},setCount:function(e){this.tool[/^mouse(down|up)$/.test(this.type)?"downCount":"count"]=e},getItem:function(){if(!this._item){var e=this.tool._scope.project.hitTest(this.getPoint());if(e){for(var t=e.item,n=t._parent;/^(Group|CompoundPath)$/.test(n._class);)t=n,n=n._parent;this._item=t}}return this._item},setItem:function(e){this._item=e},toString:function(){return"{ type: "+this.type+", point: "+this.getPoint()+", count: "+this.getCount()+", modifiers: "+this.getModifiers()+" }"}}),oe=p.extend({_class:"Tool",_list:"tools",_reference:"tool",_events:["onMouseDown","onMouseUp","onMouseDrag","onMouseMove","onActivate","onDeactivate","onEditOptions","onKeyDown","onKeyUp"],initialize:function(e){p.call(this),this._moveCount=-1,this._downCount=-1,this.set(e)},getMinDistance:function(){return this._minDistance},setMinDistance:function(e){this._minDistance=e,null!=e&&null!=this._maxDistance&&e>this._maxDistance&&(this._maxDistance=e)},getMaxDistance:function(){return this._maxDistance},setMaxDistance:function(e){this._maxDistance=e,null!=this._minDistance&&null!=e&&e<this._minDistance&&(this._minDistance=e)},getFixedDistance:function(){return this._minDistance==this._maxDistance?this._minDistance:null},setFixedDistance:function(e){this._minDistance=this._maxDistance=e},_handleMouseEvent:function(e,t,n,i){a=this._scope,i.drag&&!this.responds(e)&&(e="mousemove");var r=i.move||i.drag,o=this.responds(e),s=this.minDistance,l=this.maxDistance,u=!1,c=this;function d(e,t){var o=n,a=r?c._point:c._downPoint||o;if(r){if(c._moveCount&&o.equals(a))return!1;if(a&&(null!=e||null!=t)){var s=o.subtract(a),l=s.getLength();if(l<(e||0))return!1;t&&(o=a.add(s.normalize(Math.min(l,t))))}c._moveCount++}return c._point=o,c._lastPoint=a||o,i.down&&(c._moveCount=-1,c._downPoint=o,c._downCount++),!0}function h(){o&&(u=c.emit(e,new re(c,e,t))||u)}if(i.down)d(),h();else if(i.up)d(null,l),h();else if(o)for(;d(s,l);)h();return u}}),ae={request:function(e){var t=new s.XMLHttpRequest;return t.open((e.method||"get").toUpperCase(),e.url,d.pick(e.async,!0)),e.mimeType&&t.overrideMimeType(e.mimeType),t.onload=function(){var n=t.status;0===n||200===n?e.onLoad&&e.onLoad.call(t,t.responseText):t.onerror()},t.onerror=function(){var n=t.status,i='Could not load "'+e.url+'" (Status: '+n+")";if(!e.onError)throw new Error(i);e.onError(i,n)},t.send(null)}},se={canvases:[],getCanvas:function(e,t){if(!u)return null;var n,i=!0;"object"==typeof e&&(t=e.height,e=e.width),this.canvases.length?n=this.canvases.pop():(n=c.createElement("canvas"),i=!1);var r=n.getContext("2d");if(!r)throw new Error("Canvas "+n+" is unable to provide a 2D context.");return n.width===e&&n.height===t?i&&r.clearRect(0,0,e+1,t+1):(n.width=e,n.height=t),r.save(),n},getContext:function(e,t){var n=this.getCanvas(e,t);return n?n.getContext("2d"):null},release:function(e){var t=e&&e.canvas?e.canvas:e;t&&t.getContext&&(t.getContext("2d").restore(),this.canvases.push(t))}},le=new function(){var e,t,n,i,r,o,a,s,l,u,c,h=Math.min,f=Math.max,p=Math.abs;function m(e,t,n){return.2989*e+.587*t+.114*n}function g(e,t,n,i){var r=i-m(e,t,n),o=(i=m(l=e+r,u=t+r,c=n+r),h(l,u,c)),a=f(l,u,c);if(o<0){var s=i-o;l=i+(l-i)*i/s,u=i+(u-i)*i/s,c=i+(c-i)*i/s}if(a>255){var d=255-i,p=a-i;l=i+(l-i)*d/p,u=i+(u-i)*d/p,c=i+(c-i)*d/p}}function v(e,t,n){return f(e,t,n)-h(e,t,n)}function y(e,t,n,i){var r,o=[e,t,n],a=f(e,t,n),s=h(e,t,n);r=0===h(s=s===e?0:s===t?1:2,a=a===e?0:a===t?1:2)?1===f(s,a)?2:1:0,o[a]>o[s]?(o[r]=(o[r]-o[s])*i/(o[a]-o[s]),o[a]=i):o[r]=o[a]=0,o[s]=0,l=o[0],u=o[1],c=o[2]}var _={multiply:function(){l=r*e/255,u=o*t/255,c=a*n/255},screen:function(){l=r+e-r*e/255,u=o+t-o*t/255,c=a+n-a*n/255},overlay:function(){l=r<128?2*r*e/255:255-2*(255-r)*(255-e)/255,u=o<128?2*o*t/255:255-2*(255-o)*(255-t)/255,c=a<128?2*a*n/255:255-2*(255-a)*(255-n)/255},"soft-light":function(){var i=e*r/255;l=i+r*(255-(255-r)*(255-e)/255-i)/255,u=(i=t*o/255)+o*(255-(255-o)*(255-t)/255-i)/255,c=(i=n*a/255)+a*(255-(255-a)*(255-n)/255-i)/255},"hard-light":function(){l=e<128?2*e*r/255:255-2*(255-e)*(255-r)/255,u=t<128?2*t*o/255:255-2*(255-t)*(255-o)/255,c=n<128?2*n*a/255:255-2*(255-n)*(255-a)/255},"color-dodge":function(){l=0===r?0:255===e?255:h(255,255*r/(255-e)),u=0===o?0:255===t?255:h(255,255*o/(255-t)),c=0===a?0:255===n?255:h(255,255*a/(255-n))},"color-burn":function(){l=255===r?255:0===e?0:f(0,255-255*(255-r)/e),u=255===o?255:0===t?0:f(0,255-255*(255-o)/t),c=255===a?255:0===n?0:f(0,255-255*(255-a)/n)},darken:function(){l=r<e?r:e,u=o<t?o:t,c=a<n?a:n},lighten:function(){l=r>e?r:e,u=o>t?o:t,c=a>n?a:n},difference:function(){(l=r-e)<0&&(l=-l),(u=o-t)<0&&(u=-u),(c=a-n)<0&&(c=-c)},exclusion:function(){l=r+e*(255-r-r)/255,u=o+t*(255-o-o)/255,c=a+n*(255-a-a)/255},hue:function(){y(e,t,n,v(r,o,a)),g(l,u,c,m(r,o,a))},saturation:function(){y(r,o,a,v(e,t,n)),g(l,u,c,m(r,o,a))},luminosity:function(){g(r,o,a,m(e,t,n))},color:function(){g(e,t,n,m(r,o,a))},add:function(){l=h(r+e,255),u=h(o+t,255),c=h(a+n,255)},subtract:function(){l=f(r-e,0),u=f(o-t,0),c=f(a-n,0)},average:function(){l=(r+e)/2,u=(o+t)/2,c=(a+n)/2},negation:function(){l=255-p(255-e-r),u=255-p(255-t-o),c=255-p(255-n-a)}},b=this.nativeModes=d.each(["source-over","source-in","source-out","source-atop","destination-over","destination-in","destination-out","destination-atop","lighter","darker","copy","xor"],function(e){this[e]=!0},{}),w=se.getContext(1,1);w&&(d.each(_,function(e,t){var n="darken"===t,i=!1;w.save();try{w.fillStyle=n?"#300":"#a00",w.fillRect(0,0,1,1),w.globalCompositeOperation=t,w.globalCompositeOperation===t&&(w.fillStyle=n?"#a00":"#300",w.fillRect(0,0,1,1),i=w.getImageData(0,0,1,1).data[0]!==n?170:51)}catch(e){}w.restore(),b[t]=i}),se.release(w)),this.process=function(d,h,f,p,m){var g=h.canvas,v="normal"===d;if(v||b[d])f.save(),f.setTransform(1,0,0,1,0,0),f.globalAlpha=p,v||(f.globalCompositeOperation=d),f.drawImage(g,m.x,m.y),f.restore();else{var y=_[d];if(!y)return;for(var w=f.getImageData(m.x,m.y,g.width,g.height),C=w.data,x=h.getImageData(0,0,g.width,g.height).data,S=0,k=C.length;S<k;S+=4){e=x[S],r=C[S],t=x[S+1],o=C[S+1],n=x[S+2],a=C[S+2],i=x[S+3],s=C[S+3],y();var E=i*p/255,M=1-E;C[S]=E*l+M*r,C[S+1]=E*u+M*o,C[S+2]=E*c+M*a,C[S+3]=i*p+M*s}f.putImageData(w,m.x,m.y)}}},ue=new function(){var e="http://www.w3.org/2000/svg",t="http://www.w3.org/2000/xmlns",n="http://www.w3.org/1999/xlink",i={href:n,xlink:t,xmlns:t+"/","xmlns:xlink":t+"/"};function r(e,t,n){for(var r in t){var o=t[r],a=i[r];"number"==typeof o&&n&&(o=n.number(o)),a?e.setAttributeNS(a,r,o):e.setAttribute(r,o)}return e}return{svg:e,xmlns:t,xlink:n,create:function(t,n,i){return r(c.createElementNS(e,t),n,i)},get:function(e,t){var n=i[t],r=n?e.getAttributeNS(n,t):e.getAttribute(t);return"null"===r?null:r},set:r}},ce=d.each({fillColor:["fill","color"],fillRule:["fill-rule","string"],strokeColor:["stroke","color"],strokeWidth:["stroke-width","number"],strokeCap:["stroke-linecap","string"],strokeJoin:["stroke-linejoin","string"],strokeScaling:["vector-effect","lookup",{true:"none",false:"non-scaling-stroke"},function(e,t){return!t&&(e instanceof j||e instanceof I||e instanceof V)}],miterLimit:["stroke-miterlimit","number"],dashArray:["stroke-dasharray","array"],dashOffset:["stroke-dashoffset","number"],fontFamily:["font-family","string"],fontWeight:["font-weight","string"],fontSize:["font-size","number"],justification:["text-anchor","lookup",{left:"start",center:"middle",right:"end"}],opacity:["opacity","number"],blendMode:["mix-blend-mode","style"]},function(e,t){var n=d.capitalize(t),i=e[2];this[t]={type:e[1],property:t,attribute:e[0],toSVG:i,fromSVG:i&&d.each(i,function(e,t){this[e]=t},{}),exportFilter:e[3],get:"get"+n,set:"set"+n}},{});return new function(){var e;function t(t,n,i){var r=new d,o=t.getTranslation();if(n){var a=(t=t._shiftless())._inverseTransform(o);r[i?"cx":"x"]=a.x,r[i?"cy":"y"]=a.y,o=null}if(!t.isIdentity()){var s=t.decompose();if(s){var l=[],u=s.rotation,c=s.scaling,h=s.skewing;o&&!o.isZero()&&l.push("translate("+e.point(o)+")"),u&&l.push("rotate("+e.number(u)+")"),g.isZero(c.x-1)&&g.isZero(c.y-1)||l.push("scale("+e.point(c)+")"),h.x&&l.push("skewX("+e.number(h.x)+")"),h.y&&l.push("skewY("+e.number(h.y)+")"),r.transform=l.join(" ")}else r.transform="matrix("+t.getValues().join(",")+")"}return r}function n(n,i){for(var r=t(n._matrix),o=n._children,a=ue.create("g",r,e),s=0,l=o.length;s<l;s++){var c=o[s],d=h(c,i);if(d)if(c.isClipMask()){var f=ue.create("clipPath");f.appendChild(d),u(c,f,"clip"),ue.set(a,{"clip-path":"url(#"+f.id+")"})}else a.appendChild(d)}return a}function i(n){var i=n._type,r=n._radius,o=t(n._matrix,!0,"rectangle"!==i);if("rectangle"===i){i="rect";var a=n._size,s=a.width,l=a.height;o.x-=s/2,o.y-=l/2,o.width=s,o.height=l,r.isZero()&&(r=null)}return r&&("circle"===i?o.r=r:(o.rx=r.width,o.ry=r.height)),ue.create(i,o,e)}var r,o={Group:n,Layer:n,Raster:function(n,i){var r=t(n._matrix,!0),o=n.getSize(),a=n.getImage();return r.x-=o.width/2,r.y-=o.height/2,r.width=o.width,r.height=o.height,r.href=0==i.embedImages&&a&&a.src||n.toDataURL(),ue.create("image",r,e)},Path:function(n,r){var o=r.matchShapes;if(o){var a=n.toShape(!1);if(a)return i(a)}var s,l=n._segments,u=l.length,c=t(n._matrix);if(o&&u>=2&&!n.hasHandles())if(u>2){s=n._closed?"polygon":"polyline";for(var d=[],h=0;h<u;h++)d.push(e.point(l[h]._point));c.points=d.join(" ")}else{s="line";var f=l[0]._point,p=l[1]._point;c.set({x1:f.x,y1:f.y,x2:p.x,y2:p.y})}else s="path",c.d=n.getPathData(null,r.precision);return ue.create(s,c,e)},Shape:i,CompoundPath:function(n,i){var r=t(n._matrix),o=n.getPathData(null,i.precision);return o&&(r.d=o),ue.create("path",r,e)},SymbolItem:function(n,i){var r=t(n._matrix,!0),o=n._definition,a=l(o,"symbol"),s=o._item,c=s.getBounds();return a||((a=ue.create("symbol",{viewBox:e.rectangle(c)})).appendChild(h(s,i)),u(o,a,"symbol")),r.href="#"+a.id,r.x+=c.x,r.y+=c.y,r.width=c.width,r.height=c.height,r.overflow="visible",ue.create("use",r,e)},PointText:function(n){for(var i=ue.create("text",t(n._matrix,!1),e),r=0;r<n._lines.length;r++){var o=ue.create("tspan",{x:"0",dy:0===r?"0":n._style.getLeading()+"px"},e);o.textContent=n._lines[r],i.appendChild(o)}return i}};function a(t,n,i){var r={},o=!i&&t.getParent(),a=[];return null!=t._name&&(r.id=t._name),d.each(ce,function(n){var i=n.get,s=n.type,c=t[i]();if(n.exportFilter?n.exportFilter(t,c):!o||!d.equals(o[i](),c)){if("color"===s&&null!=c){var h=c.getAlpha();h<1&&(r[n.attribute+"-opacity"]=h)}"style"===s?a.push(n.attribute+": "+c):r[n.attribute]=null==c?"none":"color"===s?c.gradient?function(t){var n=l(t,"color");if(!n){var i,r=t.getGradient(),o=r._radial,a=t.getOrigin(),s=t.getDestination();if(o){i={cx:a.x,cy:a.y,r:a.getDistance(s)};var c=t.getHighlight();c&&(i.fx=c.x,i.fy=c.y)}else i={x1:a.x,y1:a.y,x2:s.x,y2:s.y};i.gradientUnits="userSpaceOnUse",n=ue.create((o?"radial":"linear")+"Gradient",i,e);for(var d=r._stops,h=0,f=d.length;h<f;h++){var p=d[h],m=p._color,g=m.getAlpha(),v=p._offset;i={offset:null==v?h/(f-1):v},m&&(i["stop-color"]=m.toCSS(!0)),g<1&&(i["stop-opacity"]=g),n.appendChild(ue.create("stop",i,e))}u(t,n,"color")}return"url(#"+n.id+")"}(c):c.toCSS(!0):"array"===s?c.join(","):"lookup"===s?n.toSVG[c]:c}}),a.length&&(r.style=a.join(";")),1===r.opacity&&delete r.opacity,t._visible||(r.visibility="hidden"),ue.set(n,r,e)}function l(e,t){return r||(r={ids:{},svgs:{}}),e&&r.svgs[t+"-"+(e._id||e.__id||(e.__id=v.get("svg")))]}function u(e,t,n){r||l();var i=r.ids[n]=(r.ids[n]||0)+1;t.id=n+"-"+i,r.svgs[n+"-"+(e._id||e.__id)]=t}function c(e,t){var n=e,i=null;if(r){for(var o in n="svg"===e.nodeName.toLowerCase()&&e,r.svgs)i||(n||(n=ue.create("svg")).appendChild(e),i=n.insertBefore(ue.create("defs"),n.firstChild)),i.appendChild(r.svgs[o]);r=null}return t.asString?(new s.XMLSerializer).serializeToString(n):n}function h(e,t,n){var i=o[e._class],r=i&&i(e,t);if(r){var s=t.onExport;s&&(r=s(e,r,t)||r);var l=JSON.stringify(e._data);l&&"{}"!==l&&"null"!==l&&r.setAttribute("data-paper-data",l)}return r&&a(e,r,n)}function f(t){return t||(t={}),e=new m(t.precision),t}M.inject({exportSVG:function(e){return c(h(this,e=f(e),!0),e)}}),E.inject({exportSVG:function(n){n=f(n);var i=this._children,r=this.getView(),o=d.pick(n.bounds,"view"),a=n.matrix||"view"===o&&r._matrix,s=a&&S.read([a]),l="view"===o?new C([0,0],r.getViewSize()):"content"===o?M._getBounds(i,s,{stroke:!0}).rect:C.read([o],0,{readNull:!0}),u={version:"1.1",xmlns:ue.svg,"xmlns:xlink":ue.xlink};l&&(u.width=l.width,u.height=l.height,(l.x||l.y)&&(u.viewBox=e.rectangle(l)));var p=ue.create("svg",u,e),m=p;s&&!s.isIdentity()&&(m=p.appendChild(ue.create("g",t(s),e)));for(var g=0,v=i.length;g<v;g++)m.appendChild(h(i[g],n,!0));return c(p,n)}})},new function(){var e,t={};function n(t,n,i,r,o){var a=ue.get(t,n),s=null==a?r?null:i?"":0:i?a:parseFloat(a);return/%\s*$/.test(a)?s/100*(o?1:e[/x|^width/.test(n)?"width":"height"]):s}function i(e,t,i,r,o){return t=n(e,t||"x",!1,r,o),i=n(e,i||"y",!1,r,o),!r||null!=t&&null!=i?new y(t,i):null}function r(e,t,i,r,o){return t=n(e,t||"width",!1,r,o),i=n(e,i||"height",!1,r,o),!r||null!=t&&null!=i?new b(t,i):null}function o(e,t,n){return"none"===e?null:"number"===t?parseFloat(e):"array"===t?e?e.split(/[\s,]+/g).map(parseFloat):[]:"color"===t?k(e)||e:"lookup"===t?n[e]:e}function h(e,t,n,i){var r=e.childNodes,o="clippath"===t,a="defs"===t,s=new O,l=s._project,u=l._currentStyle,c=[];if(o||a||(s=x(s,e,i),l._currentStyle=s._style.clone()),i)for(var d=e.querySelectorAll("defs"),h=0,f=d.length;h<f;h++)T(d[h],n,!1);for(h=0,f=r.length;h<f;h++){var p,m=r[h];1!==m.nodeType||/^defs$/i.test(m.nodeName)||!(p=T(m,n,!1))||p instanceof A||c.push(p)}return s.addChildren(c),o&&(s=x(s.reduce(),e,i)),l._currentStyle=u,(o||a)&&(s.remove(),s=null),s}function f(e,t){for(var n=e.getAttribute("points").match(/[+-]?(?:\d*\.\d+|\d+\.?)(?:[eE][+-]?\d+)?/g),i=[],r=0,o=n.length;r<o;r+=2)i.push(new y(parseFloat(n[r]),parseFloat(n[r+1])));var a=new N(i);return"polygon"===t&&a.closePath(),a}function p(e,r){var o,a=(n(e,"href",!0)||"").substring(1),s="radialgradient"===r;if(a)(o=t[a].getGradient())._radial^s&&((o=o.clone())._radial=s);else{for(var l=e.childNodes,u=[],c=0,d=l.length;c<d;c++){var h=l[c];1===h.nodeType&&u.push(x(new K,h))}o=new Z(u,s)}var f,p,m,g="userSpaceOnUse"!==n(e,"gradientUnits",!0);return s?(p=(f=i(e,"cx","cy",!1,g)).add(n(e,"r",!1,!1,g),0),m=i(e,"fx","fy",!0,g)):(f=i(e,"x1","y1",!1,g),p=i(e,"x2","y2",!1,g)),x(new G(o,f,p,m),e)._scaleToBounds=g,null}var m={"#document":function(e,t,n,i){for(var r=e.childNodes,o=0,a=r.length;o<a;o++){var s=r[o];if(1===s.nodeType)return T(s,n,i)}},g:h,svg:h,clippath:h,polygon:f,polyline:f,path:function(e){return j.create(e.getAttribute("d"))},lineargradient:p,radialgradient:p,image:function(e){var t=new P(n(e,"href",!0));return t.on("load",function(){var t=r(e);this.setSize(t);var n=this._matrix._transformPoint(i(e).add(t.divide(2)));this.translate(n)}),t},symbol:function(e,t,n,i){return new A(h(e,t,n,i),!0)},defs:h,use:function(e){var r=(n(e,"href",!0)||"").substring(1),o=t[r],a=i(e);return o?o instanceof A?o.place(a):o.clone().translate(a):null},circle:function(e){return new I.Circle(i(e,"cx","cy"),n(e,"r"))},ellipse:function(e){return new I.Ellipse({center:i(e,"cx","cy"),radius:r(e,"rx","ry")})},rect:function(e){return new I.Rectangle(new C(i(e),r(e)),r(e,"rx","ry"))},line:function(e){return new N.Line(i(e,"x1","y1"),i(e,"x2","y2"))},text:function(e){var t;if(0===e.childElementCount)return(t=new q).setContent(e.textContent.trim()||""),t.translate(0,t._style.getLeading()),t;for(var n=[],i=0;i<e.children.length;i++){var r=e.children[i];n.push(r.textContent)}return(t=new q).setContent(n.join("\n")||""),t}};function g(e,t,n,i){if(e.transform){for(var r=(i.getAttribute(n)||"").split(/\)\s*/g),o=new S,a=0,s=r.length;a<s;a++){var l=r[a];if(!l)break;for(var u=l.split(/\(\s*/),c=u[0],d=u[1].split(/[\s,]+/g),h=0,f=d.length;h<f;h++)d[h]=parseFloat(d[h]);switch(c){case"matrix":o.append(new S(d[0],d[1],d[2],d[3],d[4],d[5]));break;case"rotate":o.rotate(d[0],d[1],d[2]);break;case"translate":o.translate(d[0],d[1]);break;case"scale":o.scale(d);break;case"skewX":o.skew(d[0],0);break;case"skewY":o.skew(0,d[0])}}e.transform(o)}}function v(e,t,n){var i="fill-opacity"===n?"getFillColor":"getStrokeColor",r=e[i]&&e[i]();r&&r.setAlpha(parseFloat(t))}var _=d.set(d.each(ce,function(e){this[e.attribute]=function(t,n){if(t[e.set]&&(t[e.set](o(n,e.type,e.fromSVG)),"color"===e.type)){var i=t[e.get]();if(i&&i._scaleToBounds){var r=t.getBounds();i.transform((new S).translate(r.getPoint()).scale(r.getSize()))}}}},{}),{id:function(e,n){t[n]=e,e.setName&&e.setName(n)},"clip-path":function(e,t){var n=k(t);if(n){if((n=n.clone()).setClipMask(!0),!(e instanceof O))return new O(n,e);e.insertChild(0,n)}},gradientTransform:g,transform:g,"fill-opacity":v,"stroke-opacity":v,visibility:function(e,t){e.setVisible&&e.setVisible("visible"===t)},display:function(e,t){e.setVisible&&e.setVisible(null!==t)},"stop-color":function(e,t){e.setColor&&e.setColor(t)},"stop-opacity":function(e,t){e._color&&e._color.setAlpha(parseFloat(t))},offset:function(e,t){if(e.setOffset){var n=t.match(/(.*)%$/);e.setOffset(n?n[1]/100:parseFloat(t))}},viewBox:function(e,t,n,i,a){var s,l=new C(o(t,"array")),u=r(i,null,null,!0);if(e instanceof O){var c=u?u.divide(l.getSize()):1,d=(new S).scale(c).translate(l.getPoint().negate());s=e}else e instanceof A&&(u&&l.setSize(u),s=e._item);if(s){if("visible"!==w(i,"overflow",a)){var h=new I.Rectangle(l);h.setClipMask(!0),s.addChild(h)}d&&s.transform(d)}}});function w(e,t,n){var i=e.attributes[t],r=i&&i.value;if(!r){var o=d.camelize(t);(r=e.style[o])||n.node[o]===n.parent[o]||(r=n.node[o])}return r?"none"===r?null:r:l}function x(e,t,n){if(t.style){var i=t.parentNode,r={node:Y.getStyles(t)||{},parent:!n&&!/^defs$/i.test(i.tagName)&&Y.getStyles(i)||{}};d.each(_,function(n,i){var o=w(t,i,r);e=o!==l&&n(e,o,i,t,r)||e})}return e}function k(e){var n=e&&e.match(/\((?:["'#]*)([^"')]+)/),i=n&&n[1],r=i&&t[u?i.replace(u.location.href.split("#")[0]+"#",""):i];return r&&r._scaleToBounds&&((r=r.clone())._scaleToBounds=!0),r}function T(n,i,o){var s,l,u,h=n.nodeName.toLowerCase(),f="#document"!==h,p=c.body;o&&f&&(e=a.getView().getSize(),e=r(n,null,null,!0)||e,s=ue.create("svg",{style:"stroke-width: 1px; stroke-miterlimit: 10"}),l=n.parentNode,u=n.nextSibling,s.appendChild(n),p.appendChild(s));var g=a.settings,v=g.applyMatrix,y=g.insertItems;g.applyMatrix=!1,g.insertItems=!1;var _=m[h],b=_&&_(n,h,i,o)||null;if(g.insertItems=y,g.applyMatrix=v,b){!f||b instanceof O||(b=x(b,n,o));var w=i.onImport,C=f&&n.getAttribute("data-paper-data");w&&(b=w(n,b,i)||b),i.expandShapes&&b instanceof I&&(b.remove(),b=b.toPath()),C&&(b._data=JSON.parse(C))}return s&&(p.removeChild(s),l&&(u?l.insertBefore(n,u):l.appendChild(n))),o&&(t={},b&&d.pick(i.applyMatrix,v)&&b.matrix.apply(!0,!0)),b}function L(e,t,n){if(!e)return null;t="function"==typeof t?{onLoad:t}:t||{};var i=a,r=null;function o(o){try{var c="object"==typeof o?o:(new s.DOMParser).parseFromString(o,"image/svg+xml");if(!c.nodeName)throw c=null,new Error("Unsupported SVG source: "+e);a=i,r=T(c,t,!0),t&&!1===t.insert||n._insertItem(l,r);var d=t.onLoad;d&&d(r,o)}catch(e){u(e)}}function u(e,n){var i=t.onError;if(!i)throw new Error(e);i(e,n)}if("string"!=typeof e||/^.*</.test(e)){if("undefined"!=typeof File&&e instanceof File){var d=new FileReader;return d.onload=function(){o(d.result)},d.onerror=function(){u(d.error)},d.readAsText(e)}o(e)}else{var h=c.getElementById(e);h?o(h):ae.request({url:e,async:!0,onLoad:o,onError:u})}return r}M.inject({importSVG:function(e,t){return L(e,t,this)}}),E.inject({importSVG:function(e,t){return this.activate(),L(e,t,this)}})},d.exports.PaperScript=function(){var e,t,h,p=this,m=p.acorn;if(!m)try{m=n(270)}catch(e){}m||(m=e=t={},h=function(e){"use strict";var t,n,i,r;e.version="0.5.0",e.parse=function(e,r){return n=String(e),i=n.length,a(r),Ge(),function(e){v=y=s,t.locations&&(_=new qe);b=C=null,w=[],Je();var n=e||ct(),i=!0;e||(n.body=[]);for(;h!==I;){var r=Ct();n.body.push(r),i&&ft(r)&&st(!0),i=!1}return ht(n,"Program")}(t.program)};var o=e.defaultOptions={ecmaVersion:5,strictSemicolons:!1,allowTrailingCommas:!0,forbidReserved:!1,allowReturnOutsideFunction:!1,locations:!1,onComment:null,ranges:!1,program:null,sourceFile:null,directSourceFile:null};function a(e){for(var n in t=e||{},o)Object.prototype.hasOwnProperty.call(t,n)||(t[n]=o[n]);r=t.sourceFile||null}var s,l,u,c,d,h,f,p,m,g,v,y,_,b,w,C,x=e.getLineInfo=function(e,t){for(var n=1,i=0;;){Ue.lastIndex=i;var r=Ue.exec(e);if(!(r&&r.index<t))break;++n,i=r.index+r[0].length}return{line:n,column:t-i}};function S(e,t){var i=x(n,e);t+=" ("+i.line+":"+i.column+")";var r=new SyntaxError(t);throw r.pos=e,r.loc=i,r.raisedAt=s,r}e.tokenize=function(e,r){n=String(e),i=n.length,a(r),Ge();var o={};function v(e){return y=u,Je(e),o.start=l,o.end=u,o.startLoc=c,o.endLoc=d,o.type=h,o.value=f,o}return v.jumpTo=function(e,i){var r;if(s=e,t.locations)for(m=1,g=Ue.lastIndex=0;(r=Ue.exec(n))&&r.index<e;)++m,g=r.index+r[0].length;p=i,Ye()},v};var k=[],E={type:"num"},M={type:"regexp"},O={type:"string"},T={type:"name"},I={type:"eof"},P={keyword:"break"},L={keyword:"case",beforeExpr:!0},A={keyword:"catch"},R={keyword:"continue"},B={keyword:"debugger"},D={keyword:"default"},F={keyword:"do",isLoop:!0},z={keyword:"else",beforeExpr:!0},j={keyword:"finally"},N={keyword:"for",isLoop:!0},W={keyword:"function"},U={keyword:"if"},H={keyword:"return",beforeExpr:!0},V={keyword:"switch"},q={keyword:"throw",beforeExpr:!0},G={keyword:"try"},Z={keyword:"var"},K={keyword:"while",isLoop:!0},X={keyword:"with"},Y={keyword:"new",beforeExpr:!0},Q={keyword:"this"},J={keyword:"null",atomValue:null},$={keyword:"true",atomValue:!0},ee={keyword:"false",atomValue:!1},te={keyword:"in",binop:7,beforeExpr:!0},ne={break:P,case:L,catch:A,continue:R,debugger:B,default:D,do:F,else:z,finally:j,for:N,function:W,if:U,return:H,switch:V,throw:q,try:G,var:Z,while:K,with:X,null:J,true:$,false:ee,new:Y,in:te,instanceof:{keyword:"instanceof",binop:7,beforeExpr:!0},this:Q,typeof:{keyword:"typeof",prefix:!0,beforeExpr:!0},void:{keyword:"void",prefix:!0,beforeExpr:!0},delete:{keyword:"delete",prefix:!0,beforeExpr:!0}},ie={type:"[",beforeExpr:!0},re={type:"]"},oe={type:"{",beforeExpr:!0},ae={type:"}"},se={type:"(",beforeExpr:!0},le={type:")"},ue={type:",",beforeExpr:!0},ce={type:";",beforeExpr:!0},de={type:":",beforeExpr:!0},he={type:"."},fe={type:"?",beforeExpr:!0},pe={binop:10,beforeExpr:!0},me={isAssign:!0,beforeExpr:!0},ge={isAssign:!0,beforeExpr:!0},ve={postfix:!0,prefix:!0,isUpdate:!0},ye={prefix:!0,beforeExpr:!0},_e={binop:1,beforeExpr:!0},be={binop:2,beforeExpr:!0},we={binop:3,beforeExpr:!0},Ce={binop:4,beforeExpr:!0},xe={binop:5,beforeExpr:!0},Se={binop:6,beforeExpr:!0},ke={binop:7,beforeExpr:!0},Ee={binop:8,beforeExpr:!0},Me={binop:9,prefix:!0,beforeExpr:!0},Oe={binop:10,beforeExpr:!0};for(var Te in e.tokTypes={bracketL:ie,bracketR:re,braceL:oe,braceR:ae,parenL:se,parenR:le,comma:ue,semi:ce,colon:de,dot:he,question:fe,slash:pe,eq:me,name:T,eof:I,num:E,regexp:M,string:O},ne)e.tokTypes["_"+Te]=ne[Te];function Ie(e){e=e.split(" ");var t="",n=[];e:for(var i=0;i<e.length;++i){for(var r=0;r<n.length;++r)if(n[r][0].length==e[i].length){n[r].push(e[i]);continue e}n.push([e[i]])}function o(e){if(1==e.length)return t+="return str === "+JSON.stringify(e[0])+";";t+="switch(str){";for(var n=0;n<e.length;++n)t+="case "+JSON.stringify(e[n])+":";t+="return true}return false;"}if(n.length>3){n.sort(function(e,t){return t.length-e.length}),t+="switch(str.length){";for(i=0;i<n.length;++i){var a=n[i];t+="case "+a[0].length+":",o(a)}t+="}"}else o(e);return new Function("str",t)}var Pe,Le=Ie("abstract boolean byte char class double enum export extends final float goto implements import int interface long native package private protected public short static super synchronized throws transient volatile"),Ae=Ie("class enum extends super const export import"),Re=Ie("implements interface let package private protected public static yield"),Be=Ie("eval arguments"),De=Ie("break case catch continue debugger default do else finally for function if return switch throw try var while with null true false instanceof typeof void delete new in this"),Fe=/[\u1680\u180e\u2000-\u200a\u202f\u205f\u3000\ufeff]/,ze="------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------",je=new RegExp("["+ze+"]"),Ne=new RegExp("["+ze+"------------------------------------------------------------------------------------------------------------------------------------------]"),We=/[\n\r\u2028\u2029]/,Ue=/\r\n|[\n\r\u2028\u2029]/g,He=e.isIdentifierStart=function(e){return e<65?36===e:e<91||(e<97?95===e:e<123||e>=170&&je.test(String.fromCharCode(e)))},Ve=e.isIdentifierChar=function(e){return e<48?36===e:e<58||!(e<65)&&(e<91||(e<97?95===e:e<123||e>=170&&Ne.test(String.fromCharCode(e))))};function qe(){this.line=m,this.column=s-g}function Ge(){m=1,s=g=0,p=!0,Ye()}function Ze(e,n){u=s,t.locations&&(d=new qe),h=e,Ye(),f=n,p=e.beforeExpr}function Ke(){var e,i=t.onComment&&t.locations&&new qe,r=s,o=n.indexOf("*/",s+=2);if(-1===o&&S(s-2,"Unterminated comment"),s=o+2,t.locations)for(Ue.lastIndex=r;(e=Ue.exec(n))&&e.index<s;)++m,g=e.index+e[0].length;t.onComment&&t.onComment(!0,n.slice(r+2,o),r,s,i,t.locations&&new qe)}function Xe(){for(var e=s,r=t.onComment&&t.locations&&new qe,o=n.charCodeAt(s+=2);s<i&&10!==o&&13!==o&&8232!==o&&8233!==o;)++s,o=n.charCodeAt(s);t.onComment&&t.onComment(!1,n.slice(e+2,s),e,s,r,t.locations&&new qe)}function Ye(){for(;s<i;){var e=n.charCodeAt(s);if(32===e)++s;else if(13===e){++s,10===(r=n.charCodeAt(s))&&++s,t.locations&&(++m,g=s)}else if(10===e||8232===e||8233===e)++s,t.locations&&(++m,g=s);else if(e>8&&e<14)++s;else if(47===e){var r;if(42===(r=n.charCodeAt(s+1)))Ke();else{if(47!==r)break;Xe()}}else if(160===e)++s;else{if(!(e>=5760&&Fe.test(String.fromCharCode(e))))break;++s}}}function Qe(e){switch(e){case 46:return function(){var e=n.charCodeAt(s+1);return e>=48&&e<=57?nt(!0):(++s,Ze(he))}();case 40:return++s,Ze(se);case 41:return++s,Ze(le);case 59:return++s,Ze(ce);case 44:return++s,Ze(ue);case 91:return++s,Ze(ie);case 93:return++s,Ze(re);case 123:return++s,Ze(oe);case 125:return++s,Ze(ae);case 58:return++s,Ze(de);case 63:return++s,Ze(fe);case 48:var r=n.charCodeAt(s+1);if(120===r||88===r)return function(){s+=2;var e=tt(16);null==e&&S(l+2,"Expected hexadecimal number");He(n.charCodeAt(s))&&S(s,"Identifier directly after number");return Ze(E,e)}();case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return nt(!1);case 34:case 39:return function(e){s++;for(var r="";;){s>=i&&S(l,"Unterminated string constant");var o=n.charCodeAt(s);if(o===e)return++s,Ze(O,r);if(92===o){o=n.charCodeAt(++s);var a=/^[0-7]+/.exec(n.slice(s,s+3));for(a&&(a=a[0]);a&&parseInt(a,8)>255;)a=a.slice(0,-1);if("0"===a&&(a=null),++s,a)C&&S(s-2,"Octal literal in strict mode"),r+=String.fromCharCode(parseInt(a,8)),s+=a.length-1;else switch(o){case 110:r+="\n";break;case 114:r+="\r";break;case 120:r+=String.fromCharCode(it(2));break;case 117:r+=String.fromCharCode(it(4));break;case 85:r+=String.fromCharCode(it(8));break;case 116:r+="\t";break;case 98:r+="\b";break;case 118:r+="\v";break;case 102:r+="\f";break;case 48:r+="\0";break;case 13:10===n.charCodeAt(s)&&++s;case 10:t.locations&&(g=s,++m);break;default:r+=String.fromCharCode(o)}}else 13!==o&&10!==o&&8232!==o&&8233!==o||S(l,"Unterminated string constant"),r+=String.fromCharCode(o),++s}}(e);case 47:return function(){var e=n.charCodeAt(s+1);return p?(++s,et()):61===e?$e(ge,2):$e(pe,1)}();case 37:case 42:return 61===n.charCodeAt(s+1)?$e(ge,2):$e(Oe,1);case 124:case 38:return function(e){var t=n.charCodeAt(s+1);return t===e?$e(124===e?_e:be,2):61===t?$e(ge,2):$e(124===e?we:xe,1)}(e);case 94:return 61===n.charCodeAt(s+1)?$e(ge,2):$e(Ce,1);case 43:case 45:return function(e){var t=n.charCodeAt(s+1);return t===e?45==t&&62==n.charCodeAt(s+2)&&We.test(n.slice(y,s))?(s+=3,Xe(),Ye(),Je()):$e(ve,2):61===t?$e(ge,2):$e(Me,1)}(e);case 60:case 62:return function(e){var t=n.charCodeAt(s+1),i=1;return t===e?(i=62===e&&62===n.charCodeAt(s+2)?3:2,61===n.charCodeAt(s+i)?$e(ge,i+1):$e(Ee,i)):33==t&&60==e&&45==n.charCodeAt(s+2)&&45==n.charCodeAt(s+3)?(s+=4,Xe(),Ye(),Je()):(61===t&&(i=61===n.charCodeAt(s+2)?3:2),$e(ke,i))}(e);case 61:case 33:return function(e){return 61===n.charCodeAt(s+1)?$e(Se,61===n.charCodeAt(s+2)?3:2):$e(61===e?me:ye,1)}(e);case 126:return $e(ye,1)}return!1}function Je(e){if(e?s=l+1:l=s,t.locations&&(c=new qe),e)return et();if(s>=i)return Ze(I);var r=n.charCodeAt(s);if(He(r)||92===r)return ot();var o=Qe(r);if(!1===o){var a=String.fromCharCode(r);if("\\"===a||je.test(a))return ot();S(s,"Unexpected character '"+a+"'")}return o}function $e(e,t){var i=n.slice(s,s+t);s+=t,Ze(e,i)}function et(){for(var e,t,r=s;;){s>=i&&S(r,"Unterminated regular expression");var o=n.charAt(s);if(We.test(o)&&S(r,"Unterminated regular expression"),e)e=!1;else{if("["===o)t=!0;else if("]"===o&&t)t=!1;else if("/"===o&&!t)break;e="\\"===o}++s}var a=n.slice(r,s);++s;var l=rt();l&&!/^[gmsiy]*$/.test(l)&&S(r,"Invalid regexp flag");try{var u=new RegExp(a,l)}catch(e){e instanceof SyntaxError&&S(r,e.message),S(e)}return Ze(M,u)}function tt(e,t){for(var i=s,r=0,o=0,a=null==t?1/0:t;o<a;++o){var l,u=n.charCodeAt(s);if((l=u>=97?u-97+10:u>=65?u-65+10:u>=48&&u<=57?u-48:1/0)>=e)break;++s,r=r*e+l}return s===i||null!=t&&s-i!==t?null:r}function nt(e){var t=s,i=!1,r=48===n.charCodeAt(s);e||null!==tt(10)||S(t,"Invalid number"),46===n.charCodeAt(s)&&(++s,tt(10),i=!0);var o=n.charCodeAt(s);69!==o&&101!==o||(43!==(o=n.charCodeAt(++s))&&45!==o||++s,null===tt(10)&&S(t,"Invalid number"),i=!0),He(n.charCodeAt(s))&&S(s,"Identifier directly after number");var a,l=n.slice(t,s);return i?a=parseFloat(l):r&&1!==l.length?/[89]/.test(l)||C?S(t,"Invalid number"):a=parseInt(l,8):a=parseInt(l,10),Ze(E,a)}function it(e){var t=tt(16,e);return null===t&&S(l,"Bad character escape sequence"),t}function rt(){Pe=!1;for(var e,t=!0,i=s;;){var r=n.charCodeAt(s);if(Ve(r))Pe&&(e+=n.charAt(s)),++s;else{if(92!==r)break;Pe||(e=n.slice(i,s)),Pe=!0,117!=n.charCodeAt(++s)&&S(s,"Expecting Unicode escape sequence \\uXXXX"),++s;var o=it(4),a=String.fromCharCode(o);a||S(s-1,"Invalid Unicode escape"),(t?He(o):Ve(o))||S(s-4,"Invalid Unicode escape"),e+=a}t=!1}return Pe?e:n.slice(i,s)}function ot(){var e=rt(),t=T;return!Pe&&De(e)&&(t=ne[e]),Ze(t,e)}function at(){v=l,y=u,_=d,Je()}function st(e){if(C=e,s=l,t.locations)for(;s<g;)g=n.lastIndexOf("\n",g-2)+1,--m;Ye(),Je()}function lt(){this.type=null,this.start=l,this.end=null}function ut(){this.start=c,this.end=null,null!==r&&(this.source=r)}function ct(){var e=new lt;return t.locations&&(e.loc=new ut),t.directSourceFile&&(e.sourceFile=t.directSourceFile),t.ranges&&(e.range=[l,0]),e}function dt(e){var n=new lt;return n.start=e.start,t.locations&&(n.loc=new ut,n.loc.start=e.loc.start),t.ranges&&(n.range=[e.range[0],0]),n}function ht(e,n){return e.type=n,e.end=y,t.locations&&(e.loc.end=_),t.ranges&&(e.range[1]=y),e}function ft(e){return t.ecmaVersion>=5&&"ExpressionStatement"===e.type&&"Literal"===e.expression.type&&"use strict"===e.expression.value}function pt(e){if(h===e)return at(),!0}function mt(){return!t.strictSemicolons&&(h===I||h===ae||We.test(n.slice(y,l)))}function gt(){pt(ce)||mt()||yt()}function vt(e){h===e?at():yt()}function yt(){S(l,"Unexpected token")}function _t(e){"Identifier"!==e.type&&"MemberExpression"!==e.type&&S(e.start,"Assigning to rvalue"),C&&"Identifier"===e.type&&Be(e.name)&&S(e.start,"Assigning to "+e.name+" in strict mode")}var bt={kind:"loop"},wt={kind:"switch"};function Ct(){(h===pe||h===ge&&"/="==f)&&Je(!0);var e=h,i=ct();switch(e){case P:case R:at();var r=e===P;pt(ce)||mt()?i.label=null:h!==T?yt():(i.label=Dt(),gt());for(var o=0;o<w.length;++o){var a=w[o];if(null==i.label||a.name===i.label.name){if(null!=a.kind&&(r||"loop"===a.kind))break;if(i.label&&r)break}}return o===w.length&&S(i.start,"Unsyntactic "+e.keyword),ht(i,r?"BreakStatement":"ContinueStatement");case B:return at(),gt(),ht(i,"DebuggerStatement");case F:return at(),w.push(bt),i.body=Ct(),w.pop(),vt(K),i.test=xt(),gt(),ht(i,"DoWhileStatement");case N:if(at(),w.push(bt),vt(se),h===ce)return kt(i,null);if(h===Z){var s=ct();return at(),Mt(s,!0),ht(s,"VariableDeclaration"),1===s.declarations.length&&pt(te)?Et(i,s):kt(i,s)}s=Ot(!1,!0);return pt(te)?(_t(s),Et(i,s)):kt(i,s);case W:return at(),Rt(i,!0);case U:return at(),i.test=xt(),i.consequent=Ct(),i.alternate=pt(z)?Ct():null,ht(i,"IfStatement");case H:return b||t.allowReturnOutsideFunction||S(l,"'return' outside of function"),at(),pt(ce)||mt()?i.argument=null:(i.argument=Ot(),gt()),ht(i,"ReturnStatement");case V:at(),i.discriminant=xt(),i.cases=[],vt(oe),w.push(wt);for(var u,c;h!=ae;)if(h===L||h===D){var d=h===L;u&&ht(u,"SwitchCase"),i.cases.push(u=ct()),u.consequent=[],at(),d?u.test=Ot():(c&&S(v,"Multiple default clauses"),c=!0,u.test=null),vt(de)}else u||yt(),u.consequent.push(Ct());return u&&ht(u,"SwitchCase"),at(),w.pop(),ht(i,"SwitchStatement");case q:return at(),We.test(n.slice(y,l))&&S(y,"Illegal newline after throw"),i.argument=Ot(),gt(),ht(i,"ThrowStatement");case G:if(at(),i.block=St(),i.handler=null,h===A){var p=ct();at(),vt(se),p.param=Dt(),C&&Be(p.param.name)&&S(p.param.start,"Binding "+p.param.name+" in strict mode"),vt(le),p.guard=null,p.body=St(),i.handler=ht(p,"CatchClause")}return i.guardedHandlers=k,i.finalizer=pt(j)?St():null,i.handler||i.finalizer||S(i.start,"Missing catch or finally clause"),ht(i,"TryStatement");case Z:return at(),Mt(i),gt(),ht(i,"VariableDeclaration");case K:return at(),i.test=xt(),w.push(bt),i.body=Ct(),w.pop(),ht(i,"WhileStatement");case X:return C&&S(l,"'with' in strict mode"),at(),i.object=xt(),i.body=Ct(),ht(i,"WithStatement");case oe:return St();case ce:return at(),ht(i,"EmptyStatement");default:var m=f,g=Ot();if(e===T&&"Identifier"===g.type&&pt(de)){for(o=0;o<w.length;++o)w[o].name===m&&S(g.start,"Label '"+m+"' is already declared");var _=h.isLoop?"loop":h===V?"switch":null;return w.push({name:m,kind:_}),i.body=Ct(),w.pop(),i.label=g,ht(i,"LabeledStatement")}return i.expression=g,gt(),ht(i,"ExpressionStatement")}}function xt(){vt(se);var e=Ot();return vt(le),e}function St(e){var t,n=ct(),i=!0,r=!1;for(n.body=[],vt(oe);!pt(ae);){var o=Ct();n.body.push(o),i&&e&&ft(o)&&(t=r,st(r=!0)),i=!1}return r&&!t&&st(!1),ht(n,"BlockStatement")}function kt(e,t){return e.init=t,vt(ce),e.test=h===ce?null:Ot(),vt(ce),e.update=h===le?null:Ot(),vt(le),e.body=Ct(),w.pop(),ht(e,"ForStatement")}function Et(e,t){return e.left=t,e.right=Ot(),vt(le),e.body=Ct(),w.pop(),ht(e,"ForInStatement")}function Mt(e,t){for(e.declarations=[],e.kind="var";;){var n=ct();if(n.id=Dt(),C&&Be(n.id.name)&&S(n.id.start,"Binding "+n.id.name+" in strict mode"),n.init=pt(me)?Ot(!0,t):null,e.declarations.push(ht(n,"VariableDeclarator")),!pt(ue))break}return e}function Ot(e,t){var n=Tt(t);if(!e&&h===ue){var i=dt(n);for(i.expressions=[n];pt(ue);)i.expressions.push(Tt(t));return ht(i,"SequenceExpression")}return n}function Tt(e){var t=function(e){var t=function(e){return function e(t,n,i){var r=h.binop;if(null!=r&&(!i||h!==te)&&r>n){var o=dt(t);o.left=t,o.operator=f;var a=h;at(),o.right=e(It(),r,i);var s=ht(o,a===_e||a===be?"LogicalExpression":"BinaryExpression");return e(s,n,i)}return t}(It(),-1,e)}(e);if(pt(fe)){var n=dt(t);return n.test=t,n.consequent=Ot(!0),vt(de),n.alternate=Ot(!0,e),ht(n,"ConditionalExpression")}return t}(e);if(h.isAssign){var n=dt(t);return n.operator=f,n.left=t,at(),n.right=Tt(e),_t(t),ht(n,"AssignmentExpression")}return t}function It(){if(h.prefix){var e=ct(),t=h.isUpdate;return e.operator=f,e.prefix=!0,p=!0,at(),e.argument=It(),t?_t(e.argument):C&&"delete"===e.operator&&"Identifier"===e.argument.type&&S(e.start,"Deleting local variable in strict mode"),ht(e,t?"UpdateExpression":"UnaryExpression")}for(var n=Pt(Lt());h.postfix&&!mt();){(e=dt(n)).operator=f,e.prefix=!1,e.argument=n,_t(n),at(),n=ht(e,"UpdateExpression")}return n}function Pt(e,t){var n;return pt(he)?((n=dt(e)).object=e,n.property=Dt(!0),n.computed=!1,Pt(ht(n,"MemberExpression"),t)):pt(ie)?((n=dt(e)).object=e,n.property=Ot(),n.computed=!0,vt(re),Pt(ht(n,"MemberExpression"),t)):!t&&pt(se)?((n=dt(e)).callee=e,n.arguments=Bt(le,!1),Pt(ht(n,"CallExpression"),t)):e}function Lt(){switch(h){case Q:var e=ct();return at(),ht(e,"ThisExpression");case T:return Dt();case E:case O:case M:return(e=ct()).value=f,e.raw=n.slice(l,u),at(),ht(e,"Literal");case J:case $:case ee:return(e=ct()).value=h.atomValue,e.raw=h.keyword,at(),ht(e,"Literal");case se:var i=c,r=l;at();var o=Ot();return o.start=r,o.end=u,t.locations&&(o.loc.start=i,o.loc.end=d),t.ranges&&(o.range=[r,u]),vt(le),o;case ie:e=ct();return at(),e.elements=Bt(re,!0,!0),ht(e,"ArrayExpression");case oe:return function(){var e=ct(),n=!0,i=!1;e.properties=[],at();for(;!pt(ae);){if(n)n=!1;else if(vt(ue),t.allowTrailingCommas&&pt(ae))break;var r,o={key:At()},a=!1;if(pt(de)?(o.value=Ot(!0),r=o.kind="init"):t.ecmaVersion>=5&&"Identifier"===o.key.type&&("get"===o.key.name||"set"===o.key.name)?(a=i=!0,r=o.kind=o.key.name,o.key=At(),h!==se&&yt(),o.value=Rt(ct(),!1)):yt(),"Identifier"===o.key.type&&(C||i))for(var s=0;s<e.properties.length;++s){var l=e.properties[s];if(l.key.name===o.key.name){var u=r==l.kind||a&&"init"===l.kind||"init"===r&&("get"===l.kind||"set"===l.kind);u&&!C&&"init"===r&&"init"===l.kind&&(u=!1),u&&S(o.key.start,"Redefinition of property")}}e.properties.push(o)}return ht(e,"ObjectExpression")}();case W:e=ct();return at(),Rt(e,!1);case Y:return function(){var e=ct();at(),e.callee=Pt(Lt(),!0),pt(se)?e.arguments=Bt(le,!1):e.arguments=k;return ht(e,"NewExpression")}();default:yt()}}function At(){return h===E||h===O?Lt():Dt(!0)}function Rt(e,t){h===T?e.id=Dt():t?yt():e.id=null,e.params=[];var n=!0;for(vt(se);!pt(le);)n?n=!1:vt(ue),e.params.push(Dt());var i=b,r=w;if(b=!0,w=[],e.body=St(!0),b=i,w=r,C||e.body.body.length&&ft(e.body.body[0]))for(var o=e.id?-1:0;o<e.params.length;++o){var a=o<0?e.id:e.params[o];if((Re(a.name)||Be(a.name))&&S(a.start,"Defining '"+a.name+"' in strict mode"),o>=0)for(var s=0;s<o;++s)a.name===e.params[s].name&&S(a.start,"Argument name clash in strict mode")}return ht(e,t?"FunctionDeclaration":"FunctionExpression")}function Bt(e,n,i){for(var r=[],o=!0;!pt(e);){if(o)o=!1;else if(vt(ue),n&&t.allowTrailingCommas&&pt(e))break;i&&h===ue?r.push(null):r.push(Ot(!0))}return r}function Dt(e){var i=ct();return e&&"everywhere"==t.forbidReserved&&(e=!1),h===T?(!e&&(t.forbidReserved&&(3===t.ecmaVersion?Le:Ae)(f)||C&&Re(f))&&-1==n.slice(l,u).indexOf("\\")&&S(l,"The keyword '"+f+"' is reserved"),i.name=f):e&&h.keyword?i.name=h.keyword:yt(),p=!1,at(),ht(i,"Identifier")}},"object"==typeof e&&"object"==typeof t?h(e):(i=[e],(o="function"==typeof(r=h)?r.apply(e,i):r)===l||(t.exports=o)),m.version||(m=null));function g(e,t){return(p.acorn||m).parse(e,t)}var v={"+":"__add","-":"__subtract","*":"__multiply","/":"__divide","%":"__modulo","==":"__equals","!=":"__equals"},_={"-":"__negate","+":"__self"},w=d.each(["add","subtract","multiply","divide","modulo","equals","negate"],function(e){this["__"+e]="#"+e},{__self:function(){return this}});function C(e,t,n){var i=v[t];if(e&&e[i]){var r=e[i](n);return"!="===t?!r:r}switch(t){case"+":return e+n;case"-":return e-n;case"*":return e*n;case"/":return e/n;case"%":return e%n;case"==":return e==n;case"!=":return e!=n}}function x(e,t){var n=_[e];if(t&&t[n])return t[n]();switch(e){case"+":return+t;case"-":return-t}}function S(e,t){if(!e)return"";var n=[];function i(e){for(var t=0,i=n.length;t<i;t++){var r=n[t];if(r[0]>=e)break;e+=r[1]}return e}function r(t){return e.substring(i(t.range[0]),i(t.range[1]))}function o(t,r){for(var o=i(t.range[0]),a=i(t.range[1]),s=0,l=n.length-1;l>=0;l--)if(o>n[l][0]){s=l+1;break}n.splice(s,0,[o,r.length-a+o]),e=e.substring(0,o)+r+e.substring(a)}var l,d=(t=t||{}).url||"",h=a.agent,f=h.versionNumber,p=!1,m=t.sourceMaps,y=t.source||e,b=/\r\n|\n|\r/gm,w=t.offset||0;if(m&&(h.chrome&&f>=30||h.webkit&&f>=537.76||h.firefox&&f>=23||h.node)){if(h.node)w-=2;else if(u&&d&&!u.location.href.indexOf(d)){var C=c.getElementsByTagName("html")[0].innerHTML;w=C.substr(0,C.indexOf(e)+1).match(b).length+1}var x=["AA"+function(e){var t="";for(e=(Math.abs(e)<<1)+(e<0?1:0);e||!t;){var n=31&e;(e>>=5)&&(n|=32),t+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[n]}return t}((p=w>0&&!(h.chrome&&f>=36||h.safari&&f>=600||h.firefox&&f>=40||h.node))?0:w)+"A"];x.length=(e.match(b)||[]).length+1+(p?w:0),l={version:3,file:d,names:[],mappings:x.join(";AACA"),sourceRoot:"",sources:[d],sourcesContent:[y]}}return function t(n,a){if(n){for(var s in n)if("range"!==s&&"loc"!==s){var l=n[s];if(Array.isArray(l))for(var u=0,c=l.length;u<c;u++)t(l[u],n);else l&&"object"==typeof l&&t(l,n)}switch(n.type){case"UnaryExpression":if(n.operator in _&&"Literal"!==n.argument.type){var d=r(n.argument);o(n,'$__("'+n.operator+'", '+d+")")}break;case"BinaryExpression":if(n.operator in v&&"Literal"!==n.left.type){var h=r(n.left),f=r(n.right),p=function(t,n){return e.substring(i(t.range[1]),i(n.range[0]))}(n.left,n.right),m=n.operator;o(n,"__$__("+h+","+p.replace(new RegExp("\\"+m),'"'+m+'"')+", "+f+")")}break;case"UpdateExpression":case"AssignmentExpression":var g=a&&a.type;if(!("ForStatement"===g||"BinaryExpression"===g&&/^[=!<>]/.test(a.operator)||"MemberExpression"===g&&a.computed))if("UpdateExpression"===n.type){var y=(d=r(n.argument))+" = "+(b="__$__("+d+', "'+n.operator[0]+'", 1)');n.prefix||"AssignmentExpression"!==g&&"VariableDeclarator"!==g||(r(a.left||a.id)===d&&(y=b),y=d+"; "+y),o(n,y)}else if(/^.=$/.test(n.operator)&&"Literal"!==n.left.type){h=r(n.left),f=r(n.right);var b=h+" = __$__("+h+', "'+n.operator[0]+'", '+f+")";o(n,/^\(.*\)$/.test(r(n))?"("+b+")":b)}}}}(g(e,{ranges:!0,preserveParens:!0})),l&&(p&&(e=new Array(w+1).join("\n")+e),/^(inline|both)$/.test(m)&&(e+="\n//# sourceMappingURL=data:application/json;base64,"+s.btoa(unescape(encodeURIComponent(JSON.stringify(l))))),e+="\n//# sourceURL="+(d||"paperscript")),{url:d,source:y,code:e,map:l}}function k(e,t,n){a=t;var i,r=t.getView(),o=/\btool\.\w+|\s+on(?:Key|Mouse)(?:Up|Down|Move|Drag)\b/.test(e)&&!/\bnew\s+Tool\b/.test(e)?new oe:null,s=o?o._events:[],l=["onFrame","onResize"].concat(s),u=[],h=[],f="object"==typeof e?e:S(e,n);function p(t,n){for(var i in t)!n&&/^_/.test(i)||!new RegExp("([\\b\\s\\W]|^)"+i.replace(/\$/g,"\\$")+"\\b").test(e)||(u.push(i),h.push(t[i]))}e=f.code,p({__$__:C,$__:x,paper:t,view:r,tool:o},!0),p(t),(l=d.each(l,function(t){new RegExp("\\s+"+t+"\\b").test(e)&&(u.push(t),this.push(t+": "+t))},[]).join(", "))&&(e+="\nreturn { "+l+" };");var m=a.agent;if(c&&(m.chrome||m.firefox&&m.versionNumber<40)){var g=c.createElement("script"),v=c.head||c.getElementsByTagName("head")[0];m.firefox&&(e="\n"+e),g.appendChild(c.createTextNode("paper._execute = function("+u+") {"+e+"\n}")),v.appendChild(g),i=a._execute,delete a._execute,v.removeChild(g)}else i=Function(u,e);var _=i.apply(t,h)||{};return d.each(s,function(e){var t=_[e];t&&(o[e]=t)}),r&&(_.onResize&&r.setOnResize(_.onResize),r.emit("resize",{size:r.size,delta:new y}),_.onFrame&&r.setOnFrame(_.onFrame),r.requestUpdate()),f}function E(e){if(/^text\/(?:x-|)paperscript$/.test(e.type)&&"true"!==f.getAttribute(e,"ignore")){var t=f.getAttribute(e,"canvas"),n=c.getElementById(t),i=e.src||e.getAttribute("data-src"),r=f.hasAttribute(e,"async");if(!n)throw new Error('Unable to find canvas with id "'+t+'"');var o=f.get(n.getAttribute("data-paper-scope"))||(new f).setup(n);return n.setAttribute("data-paper-scope",o._id),i?ae.request({url:i,async:r,mimeType:"text/plain",onLoad:function(e){k(e,o,i)}}):k(e.innerHTML,o,e.baseURI),e.setAttribute("data-paper-ignore","true"),o}}function M(){d.each(c&&c.getElementsByTagName("script"),E)}return y.inject(w),b.inject(w),G.inject(w),u&&("complete"===c.readyState?setTimeout(M):Q.add(u,{load:M})),{compile:S,execute:k,load:function(e){return e?E(e):M()},parse:g}}.call(this),(a=new(f.inject(d.exports,{Base:d,Numerical:g,Key:ne,DomEvent:Q,DomElement:Y,document:c,window:u,Symbol:A,PlacedSymbol:L}))).agent.node&&n(269)(a),(o="function"==typeof(r=a)?r.call(t,n,t,e):r)===l||(e.exports=o),a}.call(this,"object"==typeof self?self:null)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.shouldShowSelectAll=t.selectRootItem=t.processRectangularSelection=t.getSelectedSegments=t.getSelectedRootItems=t.getSelectedLeafItems=t.setItemSelection=t.cloneSelection=t.deleteSelection=t.clearSelection=t.selectAllSegments=t.selectAllItems=t.getAllRootItems=t.getItems=void 0;var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},r=c(n(2)),o=c(n(4)),a=n(19),s=n(24),l=n(243),u=n(15);function c(e){return e&&e.__esModule?e:{default:e}}var d=function(e){e=e||!1;var t=[],n=!0,i=!1,o=void 0;try{for(var a,s=r.default.project.layers[Symbol.iterator]();!(n=(a=s.next()).done);n=!0){var l=a.value,u=!0,c=!1,d=void 0;try{for(var h,f=l.children[Symbol.iterator]();!(u=(h=f.next()).done);u=!0){var p=h.value;!e&&p.guide||t.push(p)}}catch(e){c=!0,d=e}finally{try{!u&&f.return&&f.return()}finally{if(c)throw d}}}}catch(e){i=!0,o=e}finally{try{!n&&s.return&&s.return()}finally{if(i)throw o}}return t},h=function(){for(var e=d(),t=[],n=0;n<e.length;n++)e[n].data&&!e[n].data.isHelperItem&&t.push(e[n]);return t},f=function e(t,n){if(t.children)for(var i=0;i<t.children.length;i++){var r=t.children[i];r.children&&r.children.length>0?e(r,n):r.fullySelected=n}else for(var o=0;o<t.segments.length;o++)t.segments[o].selected=n},p=function e(t,n,i){if(t.fullySelected=i,t.selected=n,(0,l.isCompoundPath)(t)||(0,a.isGroup)(t)){var r=t.children;if(r){var o=!0,s=!1,u=void 0;try{for(var c,d=r[Symbol.iterator]();!(o=(c=d.next()).done);o=!0){var h=c.value;(0,a.isGroup)(h)?e(h,n,i):(h.fullySelected=i,h.selected=n)}}catch(e){s=!0,u=e}finally{try{!o&&d.return&&d.return()}finally{if(s)throw u}}}}},m=function e(t,n,i){var r=(0,a.getItemsGroup)(t),o=(0,l.getItemsCompoundPath)(t);if(r)e(r,n,i);else if(o)p(o,n,i);else{if(t.data&&t.data.noSelect)return;p(t,n,i)}},g=function(){var e=h(),t=[],n=!0,i=!1,r=void 0;try{for(var o,a=e[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var s=o.value;s.selected&&t.push(s)}}catch(e){i=!0,r=e}finally{try{!n&&a.return&&a.return()}finally{if(i)throw r}}return t.sort(function(e,t){return parseFloat(e.index)-parseFloat(t.index)}),t},v=function(){for(var e=r.default.project.selectedItems,t=[],n=0;n<e.length;n++){var i=e[n];i instanceof r.default.Layer||(0,a.isGroup)(i)||!i.data||i.data.isSelectionBound||t.push(i)}return t.sort(u.sortItemsByZIndex),t},y=function(e,t){if(0===e.length)return!1;for(var n=0;n<e.length;n++)e[n].remove();return t(),!0},_=function(e,t,n,i,a){if((0,s.isPathItem)(e)){for(var l=!1,u=0;u<e.segments.length;u++){var c=e.segments[u];if(n.contains(c.point)){if(i!==o.default.RESHAPE)return t.modifiers.shift&&e.selected?m(a,!1):m(a,!0,!0),!1;t.modifiers.shift&&c.selected?c.selected=!1:c.selected=!0,l=!0}}var d=e.getIntersections(n);if(d.length>0&&!l){if(i!==o.default.RESHAPE)return t.modifiers.shift&&e.selected?m(e,!1):m(e,!0),!1;for(var h=0;h<d.length;h++){var f=d[h].curve;h%2!=1&&(t.modifiers.shift?f.selected=!f.selected:f.selected=!0)}}}else if((0,s.isBoundsItem)(e)&&function(e,t,n){var i=new r.default.Path([t.localToGlobal(t.internalBounds.topLeft),t.localToGlobal(t.internalBounds.topRight),t.localToGlobal(t.internalBounds.bottomRight),t.localToGlobal(t.internalBounds.bottomLeft)]);i.closed=!0,i.guide=!0;for(var o=0;o<i.segments.length;o++){var a=i.segments[o];if(e.contains(a.point)||0===o&&e.getIntersections(i).length>0)return n.modifiers.shift&&t.selected?m(t,!1):m(t,!0),i.remove(),!0}i.remove()}(n,e,t))return!1;return!0},b=function e(t,n,i,r,o){for(var l=0;l<t.children.length;l++){var u=t.children[l];(0,a.isGroup)(u)||(0,s.isCompoundPathItem)(u)?e(u,n,i,r,o):_(u,r,n,o,i)}return!0};t.getItems=function(e){var t=i({},e,{match:function(t){return!(t instanceof r.default.Layer)&&!t.locked&&!(t.data&&t.data.isHelperItem)&&(!e.match||e.match(t))}});return r.default.project.getItems(t)},t.getAllRootItems=d,t.selectAllItems=function(){for(var e=h(),t=0;t<e.length;t++)m(e[t],!0)},t.selectAllSegments=function(){for(var e=h(),t=0;t<e.length;t++)f(e[t],!0)},t.clearSelection=function(e){r.default.project.deselectAll(),e()},t.deleteSelection=function(e,t){if(e===o.default.RESHAPE){var n=v();return!!function(e,t){for(var n=[],i=0;i<e.length;i++)if(e[i].segments)for(var r=e[i].segments,o=0;o<r.length;o++){var a=r[o];a.selected&&n.push(a)}for(var s=!1,l=0;l<n.length;l++)n[l].remove(),s=!0;return s&&t(),s}(n,t)||y(n,t)}var i=g();return y(i,t)},t.cloneSelection=function(e,t){for(var n=e?v():g(),i=0;i<n.length;i++){var r=n[i];r.clone(),r.selected=!1}t()},t.setItemSelection=m,t.getSelectedLeafItems=v,t.getSelectedRootItems=g,t.getSelectedSegments=function(){var e=v(),t=[],n=!0,i=!1,r=void 0;try{for(var o,a=e[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var s=o.value;if(s.segments){var l=!0,u=!1,c=void 0;try{for(var d,h=s.segments[Symbol.iterator]();!(l=(d=h.next()).done);l=!0){var f=d.value;f.selected&&t.push(f)}}catch(e){u=!0,c=e}finally{try{!l&&h.return&&h.return()}finally{if(u)throw c}}}}}catch(e){i=!0,r=e}finally{try{!n&&a.return&&a.return()}finally{if(i)throw r}}return t},t.processRectangularSelection=function(e,t,n){for(var i=h(),r=0;r<i.length;r++){var l=i[r];n===o.default.RESHAPE&&(0,s.isPGTextItem)((0,s.getRootItem)(l))||((0,a.isGroup)(l)||(0,s.isCompoundPathItem)(l)?b(l,t,l,e,n):_(l,e,t,n,l))}},t.selectRootItem=function(){var e=v(),t=!0,n=!1,i=void 0;try{for(var r,o=e[Symbol.iterator]();!(t=(r=o.next()).done);t=!0){var a=r.value;if((0,l.isCompoundPathChild)(a)){var u=(0,l.getItemsCompoundPath)(a);m(u,!0,!0)}var c=(0,s.getRootItem)(a);a!==c&&m(c,!0,!0)}}catch(e){n=!0,i=e}finally{try{!t&&o.return&&o.return()}finally{if(n)throw i}}},t.shouldShowSelectAll=function(){return r.default.project.getItems({class:r.default.PathItem}).length>0}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,r=n(36);var o=(0,((i=r)&&i.__esModule?i:{default:i}).default)({BIT_BRUSH:null,BRUSH:null,ERASER:null,LINE:null,FILL:null,SELECT:null,RESHAPE:null,OVAL:null,RECT:null,ROUNDED_RECT:null,TEXT:null});t.default=o},function(e,t,n){(function(t){var n="Expected a function",i="__lodash_placeholder__",r=1,o=2,a=4,s=8,l=16,u=32,c=64,d=128,h=512,f=1/0,p=9007199254740991,m=1.7976931348623157e308,g=NaN,v=[["ary",d],["bind",r],["bindKey",o],["curry",s],["curryRight",l],["flip",h],["partial",u],["partialRight",c],["rearg",256]],y="[object Arguments]",_="[object Function]",b="[object GeneratorFunction]",w="[object Symbol]",C=/^\s+|\s+$/g,x=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,S=/\{\n\/\* \[wrapped with (.+)\] \*/,k=/,? & /,E=/^[-+]0x[0-9a-f]+$/i,M=/^0b[01]+$/i,O=/^\[object .+?Constructor\]$/,T=/^0o[0-7]+$/i,I=/^(?:0|[1-9]\d*)$/,P=parseInt,L="object"==typeof t&&t&&t.Object===Object&&t,A="object"==typeof self&&self&&self.Object===Object&&self,R=L||A||Function("return this")();function B(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}function D(e,t){for(var n=-1,i=e?e.length:0;++n<i&&!1!==t(e[n],n,e););return e}function F(e,t){return!!(e?e.length:0)&&function(e,t,n){if(t!=t)return function(e,t,n,i){var r=e.length,o=n+(i?1:-1);for(;i?o--:++o<r;)if(t(e[o],o,e))return o;return-1}(e,j,n);var i=n-1,r=e.length;for(;++i<r;)if(e[i]===t)return i;return-1}(e,t,0)>-1}function z(e,t){for(var n=-1,i=t.length,r=e.length;++n<i;)e[r+n]=t[n];return e}function j(e){return e!=e}function N(e,t){for(var n=-1,r=e.length,o=0,a=[];++n<r;){var s=e[n];s!==t&&s!==i||(e[n]=i,a[o++]=n)}return a}var W,U,H,V=Function.prototype,q=Object.prototype,G=R["__core-js_shared__"],Z=(W=/[^.]+$/.exec(G&&G.keys&&G.keys.IE_PROTO||""))?"Symbol(src)_1."+W:"",K=V.toString,X=q.hasOwnProperty,Y=q.toString,Q=RegExp("^"+K.call(X).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),J=R.Symbol,$=Object.create,ee=q.propertyIsEnumerable,te=J?J.isConcatSpreadable:void 0,ne=Math.max,ie=Math.min,re=(U=he(Object,"defineProperty"),(H=he.name)&&H.length>2?U:void 0);function oe(e){return!(!_e(e)||Z&&Z in e)&&(ye(e)||function(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(e){}return t}(e)?Q:O).test(function(e){if(null!=e){try{return K.call(e)}catch(e){}try{return e+""}catch(e){}}return""}(e))}function ae(e,t){return t=ne(void 0===t?e.length-1:t,0),function(){for(var n=arguments,i=-1,r=ne(n.length-t,0),o=Array(r);++i<r;)o[i]=n[t+i];i=-1;for(var a=Array(t+1);++i<t;)a[i]=n[i];return a[t]=o,B(e,this,a)}}function se(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var n,i=_e(n=e.prototype)?$(n):{},r=e.apply(i,t);return _e(r)?r:i}}function le(e,t,n,i,a,u,c,f,p,m){var g=t&d,v=t&r,y=t&o,_=t&(s|l),b=t&h,w=y?void 0:se(e);return function r(){for(var o=arguments.length,s=Array(o),l=o;l--;)s[l]=arguments[l];if(_)var d=de(r),h=function(e,t){for(var n=e.length,i=0;n--;)e[n]===t&&i++;return i}(s,d);if(i&&(s=function(e,t,n,i){for(var r=-1,o=e.length,a=n.length,s=-1,l=t.length,u=ne(o-a,0),c=Array(l+u),d=!i;++s<l;)c[s]=t[s];for(;++r<a;)(d||r<o)&&(c[n[r]]=e[r]);for(;u--;)c[s++]=e[r++];return c}(s,i,a,_)),u&&(s=function(e,t,n,i){for(var r=-1,o=e.length,a=-1,s=n.length,l=-1,u=t.length,c=ne(o-s,0),d=Array(c+u),h=!i;++r<c;)d[r]=e[r];for(var f=r;++l<u;)d[f+l]=t[l];for(;++a<s;)(h||r<o)&&(d[f+n[a]]=e[r++]);return d}(s,u,c,_)),o-=h,_&&o<m){var C=N(s,d);return ue(e,t,le,r.placeholder,n,s,C,f,p,m-o)}var x=v?n:this,S=y?x[e]:e;return o=s.length,f?s=function(e,t){for(var n=e.length,i=ie(t.length,n),r=function(e,t){var n=-1,i=e.length;for(t||(t=Array(i));++n<i;)t[n]=e[n];return t}(e);i--;){var o=t[i];e[i]=pe(o,n)?r[o]:void 0}return e}(s,f):b&&o>1&&s.reverse(),g&&p<o&&(s.length=p),this&&this!==R&&this instanceof r&&(S=w||se(S)),S.apply(x,s)}}function ue(e,t,n,i,l,d,h,f,p,m){var g=t&s;t|=g?u:c,(t&=~(g?c:u))&a||(t&=~(r|o));var v=n(e,t,l,g?d:void 0,g?h:void 0,g?void 0:d,g?void 0:h,f,p,m);return v.placeholder=i,me(v,e,t)}function ce(e,t,i,a,d,h,f,p){var m=t&o;if(!m&&"function"!=typeof e)throw new TypeError(n);var g=a?a.length:0;if(g||(t&=~(u|c),a=d=void 0),f=void 0===f?f:ne(xe(f),0),p=void 0===p?p:xe(p),g-=d?d.length:0,t&c){var v=a,y=d;a=d=void 0}var _=[e,t,i,a,d,v,y,h,f,p];if(e=_[0],t=_[1],i=_[2],a=_[3],d=_[4],!(p=_[9]=null==_[9]?m?0:e.length:ne(_[9]-g,0))&&t&(s|l)&&(t&=~(s|l)),t&&t!=r)b=t==s||t==l?function(e,t,n){var i=se(e);return function r(){for(var o=arguments.length,a=Array(o),s=o,l=de(r);s--;)a[s]=arguments[s];var u=o<3&&a[0]!==l&&a[o-1]!==l?[]:N(a,l);return(o-=u.length)<n?ue(e,t,le,r.placeholder,void 0,a,u,void 0,void 0,n-o):B(this&&this!==R&&this instanceof r?i:e,this,a)}}(e,t,p):t!=u&&t!=(r|u)||d.length?le.apply(void 0,_):function(e,t,n,i){var o=t&r,a=se(e);return function t(){for(var r=-1,s=arguments.length,l=-1,u=i.length,c=Array(u+s),d=this&&this!==R&&this instanceof t?a:e;++l<u;)c[l]=i[l];for(;s--;)c[l++]=arguments[++r];return B(d,o?n:this,c)}}(e,t,i,a);else var b=function(e,t,n){var i=t&r,o=se(e);return function t(){return(this&&this!==R&&this instanceof t?o:e).apply(i?n:this,arguments)}}(e,t,i);return me(b,e,t)}function de(e){return e.placeholder}function he(e,t){var n=function(e,t){return null==e?void 0:e[t]}(e,t);return oe(n)?n:void 0}function fe(e){return ve(e)||function(e){return function(e){return be(e)&&function(e){return null!=e&&function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=p}(e.length)&&!ye(e)}(e)}(e)&&X.call(e,"callee")&&(!ee.call(e,"callee")||Y.call(e)==y)}(e)||!!(te&&e&&e[te])}function pe(e,t){return!!(t=null==t?p:t)&&("number"==typeof e||I.test(e))&&e>-1&&e%1==0&&e<t}var me=re?function(e,t,n){var i,r=t+"";return re(e,"toString",{configurable:!0,enumerable:!1,value:(i=function(e,t){var n=t.length,i=n-1;return t[i]=(n>1?"& ":"")+t[i],t=t.join(n>2?", ":" "),e.replace(x,"{\n/* [wrapped with "+t+"] */\n")}(r,function(e,t){return D(v,function(n){var i="_."+n[0];t&n[1]&&!F(e,i)&&e.push(i)}),e.sort()}(function(e){var t=e.match(S);return t?t[1].split(k):[]}(r),n)),function(){return i})})}:function(e){return e};var ge=ae(function(e,t,n){var i=r;if(n.length){var o=N(n,de(ge));i|=u}return ce(e,i,t,n,o)});var ve=Array.isArray;function ye(e){var t=_e(e)?Y.call(e):"";return t==_||t==b}function _e(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function be(e){return!!e&&"object"==typeof e}function we(e){return"symbol"==typeof e||be(e)&&Y.call(e)==w}function Ce(e){return e?(e=function(e){if("number"==typeof e)return e;if(we(e))return g;if(_e(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=_e(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(C,"");var n=M.test(e);return n||T.test(e)?P(e.slice(2),n?2:8):E.test(e)?g:+e}(e))===f||e===-f?(e<0?-1:1)*m:e==e?e:0:0===e?e:0}function xe(e){var t=Ce(e),n=t%1;return t==t?n?t-n:t:0}var Se=ae(function(e,t){return D(function e(t,n,i,r,o){var a=-1,s=t.length;for(i||(i=fe),o||(o=[]);++a<s;){var l=t[a];n>0&&i(l)?n>1?e(l,n-1,i,r,o):z(o,l):r||(o[o.length]=l)}return o}(t,1),function(t){t=function(e){if("string"==typeof e||we(e))return e;var t=e+"";return"0"==t&&1/e==-f?"-0":t}(t),e[t]=ge(e[t],e)}),e});ge.placeholder={},e.exports=Se}).call(this,n(55))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.styleCursorPreview=t.stylePath=t.styleShape=t.styleBlob=t.MIXED=t.getColorsFromSelection=t.applyStrokeWidthToSelection=t.applyStrokeColorToSelection=t.applyFillColorToSelection=void 0;var i,r=n(2),o=(i=r)&&i.__esModule?i:{default:i},a=n(3),s=n(24),l=n(19);var u="scratch-paint/style-path/mixed",c=function(e,t){return(!e||"gradient"!==e.type)&&(!e&&!t||e&&t&&e.toCSS()===new o.default.Color(t).toCSS())},d=function(e){var t=(0,a.getSelectedLeafItems)();if(e){var n=(0,a.getItems)({match:function(t){return t.id===e}});n.length&&t.push(n[0])}return t};t.applyFillColorToSelection=function(e,t){var n=d(t),i=!1,r=!0,a=!1,l=void 0;try{for(var u,h=n[Symbol.iterator]();!(r=(u=h.next()).done);r=!0){var f=u.value;(0,s.isPointTextItem)(f)&&!e?e="rgba(0,0,0,0)":f.parent instanceof o.default.CompoundPath&&(f=f.parent),c(f.fillColor,e)||(i=!0,f.fillColor=e)}}catch(e){a=!0,l=e}finally{try{!r&&h.return&&h.return()}finally{if(a)throw l}}return i},t.applyStrokeColorToSelection=function(e,t){var n=d(t),i=!1,r=!0,a=!1,l=void 0;try{for(var u,h=n[Symbol.iterator]();!(r=(u=h.next()).done);r=!0){var f=u.value;if(f.parent instanceof o.default.CompoundPath&&(f=f.parent),(0,s.isPGTextItem)(f))if(f.children){var p=!0,m=!1,g=void 0;try{for(var v,y=f.children[Symbol.iterator]();!(p=(v=y.next()).done);p=!0){var _=v.value;if(_.children){var b=!0,w=!1,C=void 0;try{for(var x,S=_.children[Symbol.iterator]();!(b=(x=S.next()).done);b=!0){var k=x.value;k.data.isPGGlyphRect||c(k.strokeColor,e)||(i=!0,k.strokeColor=e)}}catch(e){w=!0,C=e}finally{try{!b&&S.return&&S.return()}finally{if(w)throw C}}}else _.data.isPGGlyphRect||_.strokeColor!==e&&(i=!0,_.strokeColor=e)}}catch(e){m=!0,g=e}finally{try{!p&&y.return&&y.return()}finally{if(m)throw g}}}else f.data.isPGGlyphRect||c(f.strokeColor,e)||(i=!0,f.strokeColor=e);else c(f.strokeColor,e)||(i=!0,f.strokeColor=e)}}catch(e){a=!0,l=e}finally{try{!r&&h.return&&h.return()}finally{if(a)throw l}}return i},t.applyStrokeWidthToSelection=function(e,t){var n=!1,i=d(t),r=!0,a=!1,s=void 0;try{for(var u,c=i[Symbol.iterator]();!(r=(u=c.next()).done);r=!0){var h=u.value;h.parent instanceof o.default.CompoundPath&&(h=h.parent),(0,l.isGroup)(h)||h.strokeWidth!==e&&(h.strokeWidth=e,n=!0)}}catch(e){a=!0,s=e}finally{try{!r&&c.return&&c.return()}finally{if(a)throw s}}return n},t.getColorsFromSelection=function(e){var t=void 0,n=void 0,i=void 0,r=!0,a=!0,c=!1,d=void 0;try{for(var h,f=e[Symbol.iterator]();!(a=(h=f.next()).done);a=!0){var p=h.value;p.parent instanceof o.default.CompoundPath&&(p=p.parent);var m=void 0,g=void 0;if((0,s.isPGTextItem)(p)){var v=!0,y=!1,_=void 0;try{for(var b,w=p.children[Symbol.iterator]();!(v=(b=w.next()).done);v=!0){var C=b.value,x=!0,S=!1,k=void 0;try{for(var E,M=C.children[Symbol.iterator]();!(x=(E=M.next()).done);x=!0){var O=E.value;O.data.isPGGlyphRect||(O.fillColor&&(m=O.fillColor.toCSS()),O.strokeColor&&(g=O.strokeColor.toCSS()),r&&(r=!1,t=m,n=g,i=O.strokeWidth),m!==t&&(t=u),g!==n&&(n=u),i!==O.strokeWidth&&(i=null))}}catch(e){S=!0,k=e}finally{try{!x&&M.return&&M.return()}finally{if(S)throw k}}}}catch(e){y=!0,_=e}finally{try{!v&&w.return&&w.return()}finally{if(y)throw _}}}else(0,l.isGroup)(p)||(p.fillColor&&(m=(0,s.isPointTextItem)(p)&&"rgba(0,0,0,0)"===p.fillColor.toCSS()?null:"gradient"===p.fillColor.type?u:p.fillColor.toCSS()),p.strokeColor&&(g="gradient"===p.strokeColor.type?u:p.strokeColor.toCSS()),r&&(r=!1,t=m,n=g,i=p.strokeWidth),m!==t&&(t=u),g!==n&&(n=u),i!==p.strokeWidth&&(i=null))}}catch(e){c=!0,d=e}finally{try{!a&&f.return&&f.return()}finally{if(c)throw d}}return{fillColor:t||null,strokeColor:n||null,strokeWidth:i||null===i?i:0}},t.MIXED=u,t.styleBlob=function(e,t){t.isEraser?e.fillColor="white":t.fillColor?e.fillColor=t.fillColor:e.fillColor="black"},t.styleShape=function(e,t){e.fillColor=t.fillColor,e.strokeColor=t.strokeColor,e.strokeWidth=t.strokeWidth},t.stylePath=function(e,t,n){e.setStrokeColor(t===u||null===t?"black":t),e.setStrokeWidth(null===n||0===n?1:n)},t.styleCursorPreview=function(e,t){t.isEraser?(e.fillColor="white",e.strokeColor="cornflowerblue",e.strokeWidth=1):t.fillColor?e.fillColor=t.fillColor:e.fillColor="black"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,r=n(244),o=(i=r)&&i.__esModule?i:{default:i};o.default.enable(),t.default=(0,o.default)("scratch-paint")},function(e,t,n){"use strict";n.r(t);var i=n(0),r=n(1),o=n.n(r),a=o.a.shape({trySubscribe:o.a.func.isRequired,tryUnsubscribe:o.a.func.isRequired,notifyNestedSubs:o.a.func.isRequired,isSubscribed:o.a.func.isRequired}),s=o.a.shape({subscribe:o.a.func.isRequired,dispatch:o.a.func.isRequired,getState:o.a.func.isRequired});function l(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"store",n=arguments[1]||t+"Subscription",r=function(e){function r(n,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r);var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n,i));return o[t]=n.store,o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(r,e),r.prototype.getChildContext=function(){var e;return(e={})[t]=this[t],e[n]=null,e},r.prototype.render=function(){return i.Children.only(this.props.children)},r}(i.Component);return r.propTypes={store:s.isRequired,children:o.a.element.isRequired},r.childContextTypes=((e={})[t]=s.isRequired,e[n]=a,e),r}var u=l(),c=n(81),d=n.n(c),h=n(16),f=n.n(h);var p=null,m={notify:function(){}};var g=function(){function e(t,n,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.store=t,this.parentSub=n,this.onStateChange=i,this.unsubscribe=null,this.listeners=m}return e.prototype.addNestedSub=function(e){return this.trySubscribe(),this.listeners.subscribe(e)},e.prototype.notifyNestedSubs=function(){this.listeners.notify()},e.prototype.isSubscribed=function(){return Boolean(this.unsubscribe)},e.prototype.trySubscribe=function(){var e,t;this.unsubscribe||(this.unsubscribe=this.parentSub?this.parentSub.addNestedSub(this.onStateChange):this.store.subscribe(this.onStateChange),this.listeners=(e=[],t=[],{clear:function(){t=p,e=p},notify:function(){for(var n=e=t,i=0;i<n.length;i++)n[i]()},get:function(){return t},subscribe:function(n){var i=!0;return t===e&&(t=e.slice()),t.push(n),function(){i&&e!==p&&(i=!1,t===e&&(t=e.slice()),t.splice(t.indexOf(n),1))}}}))},e.prototype.tryUnsubscribe=function(){this.unsubscribe&&(this.unsubscribe(),this.unsubscribe=null,this.listeners.clear(),this.listeners=m)},e}(),v=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e};var y=0,_={};function b(){}function w(e){var t,n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=r.getDisplayName,l=void 0===o?function(e){return"ConnectAdvanced("+e+")"}:o,u=r.methodName,c=void 0===u?"connectAdvanced":u,h=r.renderCountProp,p=void 0===h?void 0:h,m=r.shouldHandleStateChanges,w=void 0===m||m,C=r.storeKey,x=void 0===C?"store":C,S=r.withRef,k=void 0!==S&&S,E=function(e,t){var n={};for(var i in e)t.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i]);return n}(r,["getDisplayName","methodName","renderCountProp","shouldHandleStateChanges","storeKey","withRef"]),M=x+"Subscription",O=y++,T=((t={})[x]=s,t[M]=a,t),I=((n={})[M]=a,n);return function(t){f()("function"==typeof t,"You must pass a component to the function returned by "+c+". Instead received "+JSON.stringify(t));var n=t.displayName||t.name||"Component",r=l(n),o=v({},E,{getDisplayName:l,methodName:c,renderCountProp:p,shouldHandleStateChanges:w,storeKey:x,withRef:k,displayName:r,wrappedComponentName:n,WrappedComponent:t}),a=function(n){function a(e,t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a);var i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,n.call(this,e,t));return i.version=O,i.state={},i.renderCount=0,i.store=e[x]||t[x],i.propsMode=Boolean(e[x]),i.setWrappedInstance=i.setWrappedInstance.bind(i),f()(i.store,'Could not find "'+x+'" in either the context or props of "'+r+'". Either wrap the root component in a <Provider>, or explicitly pass "'+x+'" as a prop to "'+r+'".'),i.initSelector(),i.initSubscription(),i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(a,n),a.prototype.getChildContext=function(){var e,t=this.propsMode?null:this.subscription;return(e={})[M]=t||this.context[M],e},a.prototype.componentDidMount=function(){w&&(this.subscription.trySubscribe(),this.selector.run(this.props),this.selector.shouldComponentUpdate&&this.forceUpdate())},a.prototype.componentWillReceiveProps=function(e){this.selector.run(e)},a.prototype.shouldComponentUpdate=function(){return this.selector.shouldComponentUpdate},a.prototype.componentWillUnmount=function(){this.subscription&&this.subscription.tryUnsubscribe(),this.subscription=null,this.notifyNestedSubs=b,this.store=null,this.selector.run=b,this.selector.shouldComponentUpdate=!1},a.prototype.getWrappedInstance=function(){return f()(k,"To access the wrapped instance, you need to specify { withRef: true } in the options argument of the "+c+"() call."),this.wrappedInstance},a.prototype.setWrappedInstance=function(e){this.wrappedInstance=e},a.prototype.initSelector=function(){var t=e(this.store.dispatch,o);this.selector=function(e,t){var n={run:function(i){try{var r=e(t.getState(),i);(r!==n.props||n.error)&&(n.shouldComponentUpdate=!0,n.props=r,n.error=null)}catch(e){n.shouldComponentUpdate=!0,n.error=e}}};return n}(t,this.store),this.selector.run(this.props)},a.prototype.initSubscription=function(){if(w){var e=(this.propsMode?this.props:this.context)[M];this.subscription=new g(this.store,e,this.onStateChange.bind(this)),this.notifyNestedSubs=this.subscription.notifyNestedSubs.bind(this.subscription)}},a.prototype.onStateChange=function(){this.selector.run(this.props),this.selector.shouldComponentUpdate?(this.componentDidUpdate=this.notifyNestedSubsOnComponentDidUpdate,this.setState(_)):this.notifyNestedSubs()},a.prototype.notifyNestedSubsOnComponentDidUpdate=function(){this.componentDidUpdate=void 0,this.notifyNestedSubs()},a.prototype.isSubscribed=function(){return Boolean(this.subscription)&&this.subscription.isSubscribed()},a.prototype.addExtraProps=function(e){if(!(k||p||this.propsMode&&this.subscription))return e;var t=v({},e);return k&&(t.ref=this.setWrappedInstance),p&&(t[p]=this.renderCount++),this.propsMode&&this.subscription&&(t[M]=this.subscription),t},a.prototype.render=function(){var e=this.selector;if(e.shouldComponentUpdate=!1,e.error)throw e.error;return Object(i.createElement)(t,this.addExtraProps(e.props))},a}(i.Component);return a.WrappedComponent=t,a.displayName=r,a.childContextTypes=I,a.contextTypes=T,a.propTypes=T,d()(a,t)}}var C=Object.prototype.hasOwnProperty;function x(e,t){return e===t?0!==e||0!==t||1/e==1/t:e!=e&&t!=t}function S(e,t){if(x(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),i=Object.keys(t);if(n.length!==i.length)return!1;for(var r=0;r<n.length;r++)if(!C.call(t,n[r])||!x(e[n[r]],t[n[r]]))return!1;return!0}var k=n(37);n(57);function E(e){return function(t,n){var i=e(t,n);function r(){return i}return r.dependsOnOwnProps=!1,r}}function M(e){return null!==e.dependsOnOwnProps&&void 0!==e.dependsOnOwnProps?Boolean(e.dependsOnOwnProps):1!==e.length}function O(e,t){return function(t,n){n.displayName;var i=function(e,t){return i.dependsOnOwnProps?i.mapToProps(e,t):i.mapToProps(e)};return i.dependsOnOwnProps=!0,i.mapToProps=function(t,n){i.mapToProps=e,i.dependsOnOwnProps=M(e);var r=i(t,n);return"function"==typeof r&&(i.mapToProps=r,i.dependsOnOwnProps=M(r),r=i(t,n)),r},i}}var T=[function(e){return"function"==typeof e?O(e):void 0},function(e){return e?void 0:E(function(e){return{dispatch:e}})},function(e){return e&&"object"==typeof e?E(function(t){return Object(k.bindActionCreators)(e,t)}):void 0}];var I=[function(e){return"function"==typeof e?O(e):void 0},function(e){return e?void 0:E(function(){return{}})}],P=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e};function L(e,t,n){return P({},n,e,t)}var A=[function(e){return"function"==typeof e?function(e){return function(t,n){n.displayName;var i=n.pure,r=n.areMergedPropsEqual,o=!1,a=void 0;return function(t,n,s){var l=e(t,n,s);return o?i&&r(l,a)||(a=l):(o=!0,a=l),a}}}(e):void 0},function(e){return e?void 0:function(){return L}}];function R(e,t,n,i){return function(r,o){return n(e(r,o),t(i,o),o)}}function B(e,t,n,i,r){var o=r.areStatesEqual,a=r.areOwnPropsEqual,s=r.areStatePropsEqual,l=!1,u=void 0,c=void 0,d=void 0,h=void 0,f=void 0;function p(r,l){var p,m,g=!a(l,c),v=!o(r,u);return u=r,c=l,g&&v?(d=e(u,c),t.dependsOnOwnProps&&(h=t(i,c)),f=n(d,h,c)):g?(e.dependsOnOwnProps&&(d=e(u,c)),t.dependsOnOwnProps&&(h=t(i,c)),f=n(d,h,c)):v?(p=e(u,c),m=!s(p,d),d=p,m&&(f=n(d,h,c)),f):f}return function(r,o){return l?p(r,o):(d=e(u=r,c=o),h=t(i,c),f=n(d,h,c),l=!0,f)}}function D(e,t){var n=t.initMapStateToProps,i=t.initMapDispatchToProps,r=t.initMergeProps,o=function(e,t){var n={};for(var i in e)t.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i]);return n}(t,["initMapStateToProps","initMapDispatchToProps","initMergeProps"]),a=n(e,o),s=i(e,o),l=r(e,o);return(o.pure?B:R)(a,s,l,e,o)}var F=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e};function z(e,t,n){for(var i=t.length-1;i>=0;i--){var r=t[i](e);if(r)return r}return function(t,i){throw new Error("Invalid value of type "+typeof e+" for "+n+" argument when connecting component "+i.wrappedComponentName+".")}}function j(e,t){return e===t}var N=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.connectHOC,n=void 0===t?w:t,i=e.mapStateToPropsFactories,r=void 0===i?I:i,o=e.mapDispatchToPropsFactories,a=void 0===o?T:o,s=e.mergePropsFactories,l=void 0===s?A:s,u=e.selectorFactory,c=void 0===u?D:u;return function(e,t,i){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},s=o.pure,u=void 0===s||s,d=o.areStatesEqual,h=void 0===d?j:d,f=o.areOwnPropsEqual,p=void 0===f?S:f,m=o.areStatePropsEqual,g=void 0===m?S:m,v=o.areMergedPropsEqual,y=void 0===v?S:v,_=function(e,t){var n={};for(var i in e)t.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i]);return n}(o,["pure","areStatesEqual","areOwnPropsEqual","areStatePropsEqual","areMergedPropsEqual"]),b=z(e,r,"mapStateToProps"),w=z(t,a,"mapDispatchToProps"),C=z(i,l,"mergeProps");return n(c,F({methodName:"connect",getDisplayName:function(e){return"Connect("+e+")"},shouldHandleStateChanges:Boolean(e),initMapStateToProps:b,initMapDispatchToProps:w,initMergeProps:C,pure:u,areStatesEqual:h,areOwnPropsEqual:p,areStatePropsEqual:g,areMergedPropsEqual:y},_))}}();n.d(t,"Provider",function(){return u}),n.d(t,"createProvider",function(){return l}),n.d(t,"connectAdvanced",function(){return w}),n.d(t,"connect",function(){return N})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CHANGE_SELECTED_ITEMS=t.clearSelectedItems=t.setSelectedItems=t.default=void 0;var i,r=n(7),o=(i=r)&&i.__esModule?i:{default:i};var a="scratch-paint/select/CHANGE_SELECTED_ITEMS",s=[];t.default=function(e,t){switch(void 0===e&&(e=s),t.type){case a:return t.selectedItems&&t.selectedItems instanceof Array?0===t.selectedItems.length&&0===e.length?e:t.selectedItems:(o.default.warn("No selected items or wrong format provided: "+t.selectedItems),e);default:return e}},t.setSelectedItems=function(e){return{type:a,selectedItems:e}},t.clearSelectedItems=function(){return{type:a,selectedItems:[]}},t.CHANGE_SELECTED_ITEMS=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=u(n(13)),r=u(n(0)),o=u(n(1)),a=n(21),s=u(n(49)),l=u(n(235));function u(e){return e&&e.__esModule?e:{default:e}}var c=function(e){return r.default.createElement(s.default,{className:(0,i.default)(e.className,l.default.modToolSelect,(t={},n=l.default.isSelected,o=e.isSelected,n in t?Object.defineProperty(t,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[n]=o,t)),disabled:e.disabled,onClick:e.onMouseDown},r.default.createElement("img",{alt:e.intl.formatMessage({defaultMessage:e.imgDescriptor.defaultMessage,description:e.imgDescriptor.description,id:e.imgDescriptor.id}),className:l.default.toolSelectIcon,draggable:!1,src:e.imgSrc}));var t,n,o};c.propTypes={className:o.default.string,disabled:o.default.bool,imgDescriptor:o.default.shape({defaultMessage:o.default.string,description:o.default.string,id:o.default.string}).isRequired,imgSrc:o.default.string.isRequired,intl:a.intlShape.isRequired,isSelected:o.default.bool.isRequired,onMouseDown:o.default.func.isRequired},t.default=(0,a.injectIntl)(c)},function(e,t,n){var i,r,o={},a=(i=function(){return window&&document&&document.all&&!window.atob},function(){return void 0===r&&(r=i.apply(this,arguments)),r}),s=function(e){var t={};return function(e){if("function"==typeof e)return e();if(void 0===t[e]){var n=function(e){return document.querySelector(e)}.call(this,e);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}t[e]=n}return t[e]}}(),l=null,u=0,c=[],d=n(240);function h(e,t){for(var n=0;n<e.length;n++){var i=e[n],r=o[i.id];if(r){r.refs++;for(var a=0;a<r.parts.length;a++)r.parts[a](i.parts[a]);for(;a<i.parts.length;a++)r.parts.push(y(i.parts[a],t))}else{var s=[];for(a=0;a<i.parts.length;a++)s.push(y(i.parts[a],t));o[i.id]={id:i.id,refs:1,parts:s}}}}function f(e,t){for(var n=[],i={},r=0;r<e.length;r++){var o=e[r],a=t.base?o[0]+t.base:o[0],s={css:o[1],media:o[2],sourceMap:o[3]};i[a]?i[a].parts.push(s):n.push(i[a]={id:a,parts:[s]})}return n}function p(e,t){var n=s(e.insertInto);if(!n)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var i=c[c.length-1];if("top"===e.insertAt)i?i.nextSibling?n.insertBefore(t,i.nextSibling):n.appendChild(t):n.insertBefore(t,n.firstChild),c.push(t);else if("bottom"===e.insertAt)n.appendChild(t);else{if("object"!=typeof e.insertAt||!e.insertAt.before)throw new Error("[Style Loader]\n\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\n Must be 'top', 'bottom', or Object.\n (https://github.com/webpack-contrib/style-loader#insertat)\n");var r=s(e.insertInto+" "+e.insertAt.before);n.insertBefore(t,r)}}function m(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e);var t=c.indexOf(e);t>=0&&c.splice(t,1)}function g(e){var t=document.createElement("style");return void 0===e.attrs.type&&(e.attrs.type="text/css"),v(t,e.attrs),p(e,t),t}function v(e,t){Object.keys(t).forEach(function(n){e.setAttribute(n,t[n])})}function y(e,t){var n,i,r,o;if(t.transform&&e.css){if(!(o=t.transform(e.css)))return function(){};e.css=o}if(t.singleton){var a=u++;n=l||(l=g(t)),i=w.bind(null,n,a,!1),r=w.bind(null,n,a,!0)}else e.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(n=function(e){var t=document.createElement("link");return void 0===e.attrs.type&&(e.attrs.type="text/css"),e.attrs.rel="stylesheet",v(t,e.attrs),p(e,t),t}(t),i=function(e,t,n){var i=n.css,r=n.sourceMap,o=void 0===t.convertToAbsoluteUrls&&r;(t.convertToAbsoluteUrls||o)&&(i=d(i));r&&(i+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(r))))+" */");var a=new Blob([i],{type:"text/css"}),s=e.href;e.href=URL.createObjectURL(a),s&&URL.revokeObjectURL(s)}.bind(null,n,t),r=function(){m(n),n.href&&URL.revokeObjectURL(n.href)}):(n=g(t),i=function(e,t){var n=t.css,i=t.media;i&&e.setAttribute("media",i);if(e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}.bind(null,n),r=function(){m(n)});return i(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;i(e=t)}else r()}}e.exports=function(e,t){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");(t=t||{}).attrs="object"==typeof t.attrs?t.attrs:{},t.singleton||"boolean"==typeof t.singleton||(t.singleton=a()),t.insertInto||(t.insertInto="head"),t.insertAt||(t.insertAt="bottom");var n=f(e,t);return h(n,t),function(e){for(var i=[],r=0;r<n.length;r++){var a=n[r];(s=o[a.id]).refs--,i.push(s)}e&&h(f(e,t),t);for(r=0;r<i.length;r++){var s;if(0===(s=i[r]).refs){for(var l=0;l<s.parts.length;l++)s.parts[l]();delete o[s.id]}}}};var _,b=(_=[],function(e,t){return _[e]=t,_.filter(Boolean).join("\n")});function w(e,t,n,i){var r=n?"":i.css;if(e.styleSheet)e.styleSheet.cssText=b(t,r);else{var o=document.createTextNode(r),a=e.childNodes;a[t]&&e.removeChild(a[t]),a.length?e.insertBefore(o,a[t]):e.appendChild(o)}}},function(e,t){e.exports=function(e){var t=[];return t.toString=function(){return this.map(function(t){var n=function(e,t){var n=e[1]||"",i=e[3];if(!i)return n;if(t&&"function"==typeof btoa){var r=(a=i,"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(a))))+" */"),o=i.sources.map(function(e){return"/*# sourceURL="+i.sourceRoot+e+" */"});return[n].concat(o).concat([r]).join("\n")}var a;return[n].join("\n")}(t,e);return t[2]?"@media "+t[2]+"{"+n+"}":n}).join("")},t.i=function(e,n){"string"==typeof e&&(e=[[null,e,""]]);for(var i={},r=0;r<this.length;r++){var o=this[r][0];"number"==typeof o&&(i[o]=!0)}for(r=0;r<e.length;r++){var a=e[r];"number"==typeof a[0]&&i[a[0]]||(n&&!a[2]?a[2]=n:n&&(a[2]="("+a[2]+") and ("+n+")"),t.push(a))}},t}},function(e,t,n){var i;
/*!
  Copyright (c) 2016 Jed Watson.
  Licensed under the MIT License (MIT), see
  http://jedwatson.github.io/classnames
*/
/*!
  Copyright (c) 2016 Jed Watson.
  Licensed under the MIT License (MIT), see
  http://jedwatson.github.io/classnames
*/
!function(){"use strict";var n={}.hasOwnProperty;function r(){for(var e=[],t=0;t<arguments.length;t++){var i=arguments[t];if(i){var o=typeof i;if("string"===o||"number"===o)e.push(i);else if(Array.isArray(i))e.push(r.apply(null,i));else if("object"===o)for(var a in i)n.call(i,a)&&i[a]&&e.push(a)}}return e.join(" ")}void 0!==e&&e.exports?e.exports=r:void 0===(i=function(){return r}.apply(t,[]))||(e.exports=i)}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.changeMode=t.default=void 0;var i=o(n(4)),r=o(n(7));function o(e){return e&&e.__esModule?e:{default:e}}var a=i.default.SELECT;t.default=function(e,t){switch(void 0===e&&(e=a),t.type){case"scratch-paint/modes/CHANGE_MODE":if(t.mode in i.default)return t.mode;r.default.warn("Mode does not exist: "+t.mode);default:return e}},t.changeMode=function(e){return{type:"scratch-paint/modes/CHANGE_MODE",mode:e}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.sortItemsByZIndex=t.snapDeltaToAngle=t.scaleWithStrokes=t.getRandomBoolean=t.getRandomInt=t.expandBy=t.ensureClockwise=t.checkPointsClose=t.HANDLE_RATIO=void 0;var i,r=n(2),o=(i=r)&&i.__esModule?i:{default:i};var a=function(e,t){return Math.floor(Math.random()*(t-e))+e},s=function(e){for(var t=e,n=0;!(t instanceof o.default.Layer);){if(n++,null===t.parent)return null;t=t.parent}return n},l=function e(t,n){if(t instanceof o.default.Group){var i=!0,r=!1,a=void 0;try{for(var s,l=t.children[Symbol.iterator]();!(i=(s=l.next()).done);i=!0){e(s.value,n)}}catch(e){r=!0,a=e}finally{try{!i&&l.return&&l.return()}finally{if(r)throw a}}}else n(t)};t.HANDLE_RATIO=.3902628565,t.checkPointsClose=function(e,t,n){var i=Math.abs(e.x-t.x),r=Math.abs(e.y-t.y);return i<n&&r<n},t.ensureClockwise=function(e){l(e,function(e){e instanceof o.default.PathItem&&(e.clockwise=!0)})},t.expandBy=function(e,t){var n=e.position,i=e.area,r=!0,o=!1,a=void 0;try{for(var s,l=e.segments[Symbol.iterator]();!(r=(s=l.next()).done);r=!0){var u=s.value,c=u.point.subtract(n).normalize().multiply(t);u.point=u.point.add(c),e.area<i&&(u.point=u.point.subtract(c.multiply(2))),i=e.area}}catch(e){o=!0,a=e}finally{try{!r&&l.return&&l.return()}finally{if(o)throw a}}},t.getRandomInt=a,t.getRandomBoolean=function(){return 1===a(0,2)},t.scaleWithStrokes=function(e,t,n){l(e,function(e){e.strokeWidth&&(e.strokeWidth=e.strokeWidth*t)}),e.scale(t,n)},t.snapDeltaToAngle=function(e,t){var n=Math.atan2(e.y,e.x);n=Math.round(n/t)*t;var i=Math.cos(n),r=Math.sin(n),a=i*e.x+r*e.y;return new o.default.Point(i*a,r*a)},t.sortItemsByZIndex=function(e,t){if(null===e||null===t)return null;for(var n=e,i=t,r=s(e),a=s(t);a>r;)i=i.parent,a--;for(;r>a;)n=n.parent,r--;for(;n&&i;){if(i===n)return 0;if(i.parent===n.parent)return i.parent instanceof o.default.CompoundPath?Math.abs(i.area)-Math.abs(n.area):parseFloat(n.index)-parseFloat(i.index);i=i.parent,n=n.parent}return null}},function(e,t,n){"use strict";e.exports=function(e,t,n,i,r,o,a,s){if(!e){var l;if(void 0===t)l=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var u=[n,i,r,o,a,s],c=0;(l=new Error(t.replace(/%s/g,function(){return u[c++]}))).name="Invariant Violation"}throw l.framesToPop=1,l}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DEFAULT_COLOR=t.changeFillColor=t.default=void 0;var i,r=n(7),o=(i=r)&&i.__esModule?i:{default:i},a=n(9),s=n(6);var l=/^#([0-9a-f]{3}){1,2}$/i;t.default=function(e,t){switch(void 0===e&&(e="#9966FF"),t.type){case"scratch-paint/fill-color/CHANGE_FILL_COLOR":return l.test(t.fillColor)||null===t.fillColor?t.fillColor:(o.default.warn("Invalid hex color code: "+t.fillColor),e);case a.CHANGE_SELECTED_ITEMS:return t.selectedItems&&t.selectedItems.length?(0,s.getColorsFromSelection)(t.selectedItems).fillColor:e;default:return e}},t.changeFillColor=function(e){return{type:"scratch-paint/fill-color/CHANGE_FILL_COLOR",fillColor:e}},t.DEFAULT_COLOR="#9966FF"},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ComingSoonTooltip=t.ComingSoonComponent=void 0;var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=p(n(5)),a=p(n(13)),s=n(21),l=p(n(1)),u=p(n(0)),c=p(n(231)),d=p(n(219)),h=p(n(217)),f=p(n(216));function p(e){return e&&e.__esModule?e:{default:e}}function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var g=(0,s.defineMessages)({message1:{id:"gui.comingSoon.message1",defaultMessage:"Don't worry, we're on it {emoji}"},message2:{id:"gui.comingSoon.message2",defaultMessage:"Coming Soon..."},message3:{id:"gui.comingSoon.message3",defaultMessage:"We're working on it {emoji}"}}),v=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return(0,o.default)(n,["setHide","setShow","getRandomMessage"]),n.state={isShowing:!1},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,u.default.Component),r(t,[{key:"setShow",value:function(){this.setState({isShowing:!0})}},{key:"setHide",value:function(){this.setState({isShowing:!1})}},{key:"getRandomMessage",value:function(){var e=[h.default,f.default],t=Math.floor(Math.random()*Object.keys(g).length)+1,n=Math.floor(Math.random()*Object.keys(e).length);return u.default.createElement(s.FormattedMessage,i({},g["message"+t],{values:{emoji:u.default.createElement("img",{className:d.default.comingSoonImage,src:e[n]})}}))}},{key:"render",value:function(){var e;return u.default.createElement(c.default,{afterHide:this.setHide,afterShow:this.setShow,className:(0,a.default)(d.default.comingSoon,this.props.className,(e={},m(e,d.default.show,this.state.isShowing),m(e,d.default.left,"left"===this.props.place),m(e,d.default.right,"right"===this.props.place),m(e,d.default.top,"top"===this.props.place),m(e,d.default.bottom,"bottom"===this.props.place),e)),getContent:this.getRandomMessage,id:this.props.tooltipId})}}]),t}();v.propTypes={className:l.default.string,intl:s.intlShape,place:l.default.oneOf(["top","right","bottom","left"]),tooltipId:l.default.string.isRequired},v.defaultProps={place:"bottom"};var y=(0,s.injectIntl)(v),_=function(e){return u.default.createElement("div",{className:e.className},u.default.createElement("div",{"data-delay-hide":e.delayHide,"data-delay-show":e.delayShow,"data-effect":"solid","data-for":e.tooltipId,"data-place":e.place,"data-tip":"tooltip"},e.children),u.default.createElement(y,{className:e.tooltipClassName,place:e.place,tooltipId:e.tooltipId}))};_.propTypes={children:l.default.node.isRequired,className:l.default.string,delayHide:l.default.number,delayShow:l.default.number,place:l.default.oneOf(["top","right","bottom","left"]),tooltipClassName:l.default.string,tooltipId:l.default.string.isRequired},_.defaultProps={delayHide:0,delayShow:0},t.ComingSoonComponent=y,t.ComingSoonTooltip=_},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.shouldShowUngroup=t.shouldShowGroup=t.isGroupChild=t.isGroup=t.getItemsGroup=t.ungroupItems=t.groupItems=t.ungroupSelection=t.groupSelection=void 0;var i,r=n(2),o=(i=r)&&i.__esModule?i:{default:i},a=n(24),s=n(3);var l=function(e){return(0,a.isGroupItem)(e)},u=function(e,t,n,i){if(e.length>0){var r=new o.default.Group(e);(0,s.clearSelection)(t),(0,s.setItemSelection)(r,!0);for(var a=0;a<r.children.length;a++)r.children[a].selected=!0;return n(),i(),r}return!1},c=function e(t,n,i){if(t&&t.children&&l(t)){t.applyMatrix=!0;for(var r=0;r<t.children.length;r++){var a=t.children[r];if(a instanceof o.default.Group&&a.hasChildren()){if(n){e(a,n,i);continue}1===a.children.length&&(a=a.reduce())}a.applyMatrix=!0,a.insertBelow(t),i&&(a.selected=!0),r--}}},d=function(e,t,n){if(0!==e.length){for(var i=[],r=0;r<e.length;r++){var o=e[r];l(o)&&!o.data.isPGTextItem&&(c(o,!1,t),o.hasChildren()||i.push(o))}t&&t();for(var a=0;a<i.length;a++)i[a].remove();n&&n()}};t.groupSelection=function(e,t,n){var i=(0,s.getSelectedRootItems)();return u(i,e,t,n)},t.ungroupSelection=function(e,t,n){var i=(0,s.getSelectedRootItems)();(0,s.clearSelection)(e),d(i,t,n)},t.groupItems=u,t.ungroupItems=d,t.getItemsGroup=function(e){var t=e.parent;return l(t)?t:null},t.isGroup=l,t.isGroupChild=function(e){var t=(0,a.getRootItem)(e);return l(t)},t.shouldShowGroup=function(){return(0,s.getSelectedRootItems)().length>1},t.shouldShowUngroup=function(){for(var e=(0,s.getSelectedRootItems)(),t=0;t<e.length;t++){var n=e[t];if(l(n)&&!n.data.isPGTextItem&&n.children&&n.children.length>0)return!0}return!1}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setupLayers=t.getRaster=t.clearRaster=t.getGuideLayer=t.showGuideLayers=t.hideGuideLayers=void 0;var i=a(n(2)),r=a(n(7)),o=n(53);function a(e){return e&&e.__esModule?e:{default:e}}var s=function(e){var t=!0,n=!1,r=void 0;try{for(var o,a=i.default.project.layers[Symbol.iterator]();!(t=(o=a.next()).done);t=!0){var s=o.value;if(s.data&&s.data[e])return s}}catch(e){n=!0,r=e}finally{try{!t&&a.return&&a.return()}finally{if(n)throw r}}},l=function(){return s("isPaintingLayer")},u=function(){var e=s("isRasterLayer");e.removeChildren();var t=document.createElement("canvas");t.width=o.ART_BOARD_WIDTH,t.height=o.ART_BOARD_HEIGHT;var n=new i.default.Raster(t);n.parent=e,n.guide=!0,n.locked=!0,n.position=i.default.view.center},c=function(){var e=new i.default.Layer;return e.data.isGuideLayer=!0,e},d=function(){var e=s("isGuideLayer");return e||(e=c(),l().activate()),e},h=function(){var e=new i.default.Layer;e.locked=!0;var t=function(e,t,n){for(var r=0,o=0,a=[];r<e;)a.push(new i.default.Point(r,o)),r++,a.push(new i.default.Point(r,o)),o=0===o?t:0;for(o=t-1,r=e;o>0;)a.push(new i.default.Point(r,o)),r=0===r?e:0,a.push(new i.default.Point(r,o)),o--;var s=new i.default.Shape.Rectangle(new i.default.Point(0,0),new i.default.Point(120,90));s.fillColor="#fff",s.guide=!0,s.locked=!0;var l=new i.default.Path(a);return l.fillRule="evenodd",l.fillColor=n,l.guide=!0,l.locked=!0,new i.default.Group([s,l])}(120,90,"#E5E5E5");t.position=i.default.view.center,t.scaling=new i.default.Point(8,8),t.guide=!0,t.locked=!0;var n=new i.default.Path.Line(new i.default.Point(0,-7),new i.default.Point(0,7));n.strokeWidth=2,n.strokeColor="#ccc",n.position=i.default.view.center,n.guide=!0,n.locked=!0;var r=new i.default.Path.Line(new i.default.Point(-7,0),new i.default.Point(7,0));r.strokeWidth=2,r.strokeColor="#ccc",r.position=i.default.view.center,r.guide=!0,r.locked=!0;var o=new i.default.Shape.Circle(new i.default.Point(0,0),5);return o.strokeWidth=2,o.strokeColor="#ccc",o.position=i.default.view.center,o.guide=!0,o.locked=!0,e.data.isBackgroundGuideLayer=!0,e};t.hideGuideLayers=function(e){var t=s("isBackgroundGuideLayer"),n=d();n.remove(),t.remove();var i=void 0;return e&&(i=s("isRasterLayer")).remove(),{guideLayer:n,backgroundGuideLayer:t,rasterLayer:i}},t.showGuideLayers=function(e){var t=e.backgroundGuideLayer,n=e.guideLayer,o=e.rasterLayer;o&&!o.index&&(i.default.project.addLayer(o),o.sendToBack()),t.index||(i.default.project.addLayer(t),t.sendToBack()),n.index||(i.default.project.addLayer(n),n.bringToFront()),i.default.project.activeLayer!==l()&&(r.default.error("Wrong active layer"),r.default.error(i.default.project.activeLayer.data))},t.getGuideLayer=d,t.clearRaster=u,t.getRaster=function(){var e=s("isRasterLayer");if(0===e.children.length){var t=document.createElement("canvas");t.width=o.ART_BOARD_WIDTH,t.height=o.ART_BOARD_HEIGHT;var n=new i.default.Raster(t);n.parent=e,n.guide=!0,n.locked=!0,n.position=i.default.view.center}return s("isRasterLayer").children[0]},t.setupLayers=function(){var e=h();(new i.default.Layer).data.isRasterLayer=!0,u();var t,n=((t=new i.default.Layer).data.isPaintingLayer=!0,t),r=c();e.sendToBack(),r.bringToFront(),n.activate()}},function(e,t,n){"use strict";n.r(t),n.d(t,"addLocaleData",function(){return y}),n.d(t,"intlShape",function(){return H}),n.d(t,"injectIntl",function(){return te}),n.d(t,"defineMessages",function(){return ne}),n.d(t,"IntlProvider",function(){return ge}),n.d(t,"FormattedDate",function(){return ve}),n.d(t,"FormattedTime",function(){return ye}),n.d(t,"FormattedRelative",function(){return Se}),n.d(t,"FormattedNumber",function(){return ke}),n.d(t,"FormattedPlural",function(){return Ee}),n.d(t,"FormattedMessage",function(){return Me}),n.d(t,"FormattedHTMLMessage",function(){return Oe});var i=n(82),r=n.n(i),o=n(22),a=n.n(o),s=n(27),l=n.n(s),u=n(1),c=n.n(u),d=n(0),h=n.n(d),f=n(16),p=n.n(f),m=n(26),g=n.n(m),v={locale:"en",pluralRuleFunction:function(e,t){var n=String(e).split("."),i=!n[1],r=Number(n[0])==e,o=r&&n[0].slice(-1),a=r&&n[0].slice(-2);return t?1==o&&11!=a?"one":2==o&&12!=a?"two":3==o&&13!=a?"few":"other":1==e&&i?"one":"other"},fields:{year:{displayName:"year",relative:{0:"this year",1:"next year","-1":"last year"},relativeTime:{future:{one:"in {0} year",other:"in {0} years"},past:{one:"{0} year ago",other:"{0} years ago"}}},month:{displayName:"month",relative:{0:"this month",1:"next month","-1":"last month"},relativeTime:{future:{one:"in {0} month",other:"in {0} months"},past:{one:"{0} month ago",other:"{0} months ago"}}},day:{displayName:"day",relative:{0:"today",1:"tomorrow","-1":"yesterday"},relativeTime:{future:{one:"in {0} day",other:"in {0} days"},past:{one:"{0} day ago",other:"{0} days ago"}}},hour:{displayName:"hour",relative:{0:"this hour"},relativeTime:{future:{one:"in {0} hour",other:"in {0} hours"},past:{one:"{0} hour ago",other:"{0} hours ago"}}},minute:{displayName:"minute",relative:{0:"this minute"},relativeTime:{future:{one:"in {0} minute",other:"in {0} minutes"},past:{one:"{0} minute ago",other:"{0} minutes ago"}}},second:{displayName:"second",relative:{0:"now"},relativeTime:{future:{one:"in {0} second",other:"in {0} seconds"},past:{one:"{0} second ago",other:"{0} seconds ago"}}}}};function y(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];(Array.isArray(e)?e:[e]).forEach(function(e){e&&e.locale&&(a.a.__addLocaleData(e),l.a.__addLocaleData(e))})}function _(e){var t=e&&e.toLowerCase();return!(!a.a.__localeData__[t]||!l.a.__localeData__[t])}var b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},w=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},C=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),x=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e},S=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},k=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)},E=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t},M=function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)},O=c.a.bool,T=c.a.number,I=c.a.string,P=c.a.func,L=c.a.object,A=c.a.oneOf,R=c.a.shape,B=c.a.any,D=c.a.oneOfType,F=A(["best fit","lookup"]),z=A(["narrow","short","long"]),j=A(["numeric","2-digit"]),N=P.isRequired,W={locale:I,formats:L,messages:L,textComponent:B,defaultLocale:I,defaultFormats:L},U={formatDate:N,formatTime:N,formatRelative:N,formatNumber:N,formatPlural:N,formatMessage:N,formatHTMLMessage:N},H=R(S({},W,U,{formatters:L,now:N})),V=(I.isRequired,D([I,L]),{localeMatcher:F,formatMatcher:A(["basic","best fit"]),timeZone:I,hour12:O,weekday:z,era:z,year:j,month:A(["numeric","2-digit","narrow","short","long"]),day:j,hour:j,minute:j,second:j,timeZoneName:A(["short","long"])}),q={localeMatcher:F,style:A(["decimal","currency","percent"]),currency:I,currencyDisplay:A(["symbol","code","name"]),useGrouping:O,minimumIntegerDigits:T,minimumFractionDigits:T,maximumFractionDigits:T,minimumSignificantDigits:T,maximumSignificantDigits:T},G={style:A(["best fit","numeric"]),units:A(["second","minute","hour","day","month","year"])},Z={style:A(["cardinal","ordinal"])},K=Object.keys(W),X={"&":"&amp;",">":"&gt;","<":"&lt;",'"':"&quot;","'":"&#x27;"},Y=/[&><"']/g;function Q(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return t.reduce(function(t,i){return e.hasOwnProperty(i)?t[i]=e[i]:n.hasOwnProperty(i)&&(t[i]=n[i]),t},{})}function J(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).intl;p()(e,"[React Intl] Could not find required `intl` object. <IntlProvider> needs to exist in the component ancestry.")}function $(e,t){if(e===t)return!0;if("object"!==(void 0===e?"undefined":b(e))||null===e||"object"!==(void 0===t?"undefined":b(t))||null===t)return!1;var n=Object.keys(e),i=Object.keys(t);if(n.length!==i.length)return!1;for(var r=Object.prototype.hasOwnProperty.bind(t),o=0;o<n.length;o++)if(!r(n[o])||e[n[o]]!==t[n[o]])return!1;return!0}function ee(e,t,n){var i=e.props,r=e.state,o=e.context,a=void 0===o?{}:o,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},l=a.intl,u=void 0===l?{}:l,c=s.intl,d=void 0===c?{}:c;return!$(t,i)||!$(n,r)||!(d===u||$(Q(d,K),Q(u,K)))}function te(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=n.intlPropName,r=void 0===i?"intl":i,o=n.withRef,a=void 0!==o&&o,s=function(t){function n(e,t){w(this,n);var i=E(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,e,t));return J(t),i}return k(n,t),C(n,[{key:"getWrappedInstance",value:function(){return p()(a,"[React Intl] To access the wrapped instance, the `{withRef: true}` option must be set when calling: `injectIntl()`"),this.refs.wrappedInstance}},{key:"render",value:function(){return h.a.createElement(e,S({},this.props,x({},r,this.context.intl),{ref:a?"wrappedInstance":null}))}}]),n}(d.Component);return s.displayName="InjectIntl("+((t=e).displayName||t.name||"Component")+")",s.contextTypes={intl:H},s.WrappedComponent=e,s}function ne(e){return e}var ie=function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};w(this,e);var i,r="ordinal"===n.style,o=(i=function(e){return a.a.prototype._resolveLocale(e)}(t),a.a.prototype._findPluralRuleFunction(i));this.format=function(e){return o(e,r)}},re=Object.keys(V),oe=Object.keys(q),ae=Object.keys(G),se=Object.keys(Z),le={second:60,minute:60,hour:24,day:30,month:12};function ue(e){var t=l.a.thresholds;t.second=e.second,t.minute=e.minute,t.hour=e.hour,t.day=e.day,t.month=e.month}function ce(e,t,n){var i=e&&e[t]&&e[t][n];if(i)return i}function de(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},r=e.locale,o=e.formats,a=e.messages,s=e.defaultLocale,l=e.defaultFormats,u=n.id,c=n.defaultMessage;p()(u,"[React Intl] An `id` must be provided to format a message.");var d=a&&a[u];if(!(Object.keys(i).length>0))return d||c||u;var h=void 0;if(d)try{h=t.getMessageFormat(d,r,o).format(i)}catch(e){0}else 0;if(!h&&c)try{h=t.getMessageFormat(c,s,l).format(i)}catch(e){0}return h||d||c||u}var he=Object.freeze({formatDate:function(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},r=e.locale,o=e.formats,a=i.format,s=new Date(n),l=a&&ce(o,"date",a),u=Q(i,re,l);try{return t.getDateTimeFormat(r,u).format(s)}catch(e){}return String(s)},formatTime:function(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},r=e.locale,o=e.formats,a=i.format,s=new Date(n),l=a&&ce(o,"time",a),u=Q(i,re,l);u.hour||u.minute||u.second||(u=S({},u,{hour:"numeric",minute:"numeric"}));try{return t.getDateTimeFormat(r,u).format(s)}catch(e){}return String(s)},formatRelative:function(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},r=e.locale,o=e.formats,a=i.format,s=new Date(n),u=new Date(i.now),c=a&&ce(o,"relative",a),d=Q(i,ae,c),h=S({},l.a.thresholds);ue(le);try{return t.getRelativeFormat(r,d).format(s,{now:isFinite(u)?u:t.now()})}catch(e){}finally{ue(h)}return String(s)},formatNumber:function(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},r=e.locale,o=e.formats,a=i.format,s=a&&ce(o,"number",a),l=Q(i,oe,s);try{return t.getNumberFormat(r,l).format(n)}catch(e){}return String(n)},formatPlural:function(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},r=e.locale,o=Q(i,se);try{return t.getPluralFormat(r,o).format(n)}catch(e){}return"other"},formatMessage:de,formatHTMLMessage:function(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return de(e,t,n,Object.keys(i).reduce(function(e,t){var n=i[t];return e[t]="string"==typeof n?(""+n).replace(Y,function(e){return X[e]}):n,e},{}))}}),fe=Object.keys(W),pe=Object.keys(U),me={formats:{},messages:{},textComponent:"span",defaultLocale:"en",defaultFormats:{}},ge=function(e){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};w(this,t);var i=E(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));p()("undefined"!=typeof Intl,"[React Intl] The `Intl` APIs must be available in the runtime, and do not appear to be built-in. An `Intl` polyfill should be loaded.\nSee: http://formatjs.io/guides/runtime-environments/");var r=n.intl,o=void 0;o=isFinite(e.initialNow)?Number(e.initialNow):r?r.now():Date.now();var s=(r||{}).formatters,u=void 0===s?{getDateTimeFormat:g()(Intl.DateTimeFormat),getNumberFormat:g()(Intl.NumberFormat),getMessageFormat:g()(a.a),getRelativeFormat:g()(l.a),getPluralFormat:g()(ie)}:s;return i.state=S({},u,{now:function(){return i._didDisplay?Date.now():o}}),i}return k(t,e),C(t,[{key:"getConfig",value:function(){var e=this.context.intl,t=Q(this.props,fe,e);for(var n in me)void 0===t[n]&&(t[n]=me[n]);if(!function(e){for(var t=(e||"").split("-");t.length>0;){if(_(t.join("-")))return!0;t.pop()}return!1}(t.locale)){var i=t,r=(i.locale,i.defaultLocale),o=i.defaultFormats;0,t=S({},t,{locale:r,formats:o,messages:me.messages})}return t}},{key:"getBoundFormatFns",value:function(e,t){return pe.reduce(function(n,i){return n[i]=he[i].bind(null,e,t),n},{})}},{key:"getChildContext",value:function(){var e=this.getConfig(),t=this.getBoundFormatFns(e,this.state),n=this.state,i=n.now,r=function(e,t){var n={};for(var i in e)t.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i]);return n}(n,["now"]);return{intl:S({},e,t,{formatters:r,now:i})}}},{key:"shouldComponentUpdate",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return ee.apply(void 0,[this].concat(t))}},{key:"componentDidMount",value:function(){this._didDisplay=!0}},{key:"render",value:function(){return d.Children.only(this.props.children)}}]),t}(d.Component);ge.displayName="IntlProvider",ge.contextTypes={intl:H},ge.childContextTypes={intl:H.isRequired};var ve=function(e){function t(e,n){w(this,t);var i=E(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return J(n),i}return k(t,e),C(t,[{key:"shouldComponentUpdate",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return ee.apply(void 0,[this].concat(t))}},{key:"render",value:function(){var e=this.context.intl,t=e.formatDate,n=e.textComponent,i=this.props,r=i.value,o=i.children,a=t(r,this.props);return"function"==typeof o?o(a):h.a.createElement(n,null,a)}}]),t}(d.Component);ve.displayName="FormattedDate",ve.contextTypes={intl:H};var ye=function(e){function t(e,n){w(this,t);var i=E(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return J(n),i}return k(t,e),C(t,[{key:"shouldComponentUpdate",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return ee.apply(void 0,[this].concat(t))}},{key:"render",value:function(){var e=this.context.intl,t=e.formatTime,n=e.textComponent,i=this.props,r=i.value,o=i.children,a=t(r,this.props);return"function"==typeof o?o(a):h.a.createElement(n,null,a)}}]),t}(d.Component);ye.displayName="FormattedTime",ye.contextTypes={intl:H};var _e=1e3,be=6e4,we=36e5,Ce=864e5,xe=2147483647;var Se=function(e){function t(e,n){w(this,t);var i=E(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));J(n);var r=isFinite(e.initialNow)?Number(e.initialNow):n.intl.now();return i.state={now:r},i}return k(t,e),C(t,[{key:"scheduleNextUpdate",value:function(e,t){var n=this;clearTimeout(this._timer);var i=e.value,r=e.units,o=e.updateInterval,a=new Date(i).getTime();if(o&&isFinite(a)){var s=a-t.now,l=function(e){switch(e){case"second":return _e;case"minute":return be;case"hour":return we;case"day":return Ce;default:return xe}}(r||function(e){var t=Math.abs(e);return t<be?"second":t<we?"minute":t<Ce?"hour":"day"}(s)),u=Math.abs(s%l),c=s<0?Math.max(o,l-u):Math.max(o,u);this._timer=setTimeout(function(){n.setState({now:n.context.intl.now()})},c)}}},{key:"componentDidMount",value:function(){this.scheduleNextUpdate(this.props,this.state)}},{key:"componentWillReceiveProps",value:function(e){(function(e,t){if(e===t)return!0;var n=new Date(e).getTime(),i=new Date(t).getTime();return isFinite(n)&&isFinite(i)&&n===i})(e.value,this.props.value)||this.setState({now:this.context.intl.now()})}},{key:"shouldComponentUpdate",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return ee.apply(void 0,[this].concat(t))}},{key:"componentWillUpdate",value:function(e,t){this.scheduleNextUpdate(e,t)}},{key:"componentWillUnmount",value:function(){clearTimeout(this._timer)}},{key:"render",value:function(){var e=this.context.intl,t=e.formatRelative,n=e.textComponent,i=this.props,r=i.value,o=i.children,a=t(r,S({},this.props,this.state));return"function"==typeof o?o(a):h.a.createElement(n,null,a)}}]),t}(d.Component);Se.displayName="FormattedRelative",Se.contextTypes={intl:H},Se.defaultProps={updateInterval:1e4};var ke=function(e){function t(e,n){w(this,t);var i=E(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return J(n),i}return k(t,e),C(t,[{key:"shouldComponentUpdate",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return ee.apply(void 0,[this].concat(t))}},{key:"render",value:function(){var e=this.context.intl,t=e.formatNumber,n=e.textComponent,i=this.props,r=i.value,o=i.children,a=t(r,this.props);return"function"==typeof o?o(a):h.a.createElement(n,null,a)}}]),t}(d.Component);ke.displayName="FormattedNumber",ke.contextTypes={intl:H};var Ee=function(e){function t(e,n){w(this,t);var i=E(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return J(n),i}return k(t,e),C(t,[{key:"shouldComponentUpdate",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return ee.apply(void 0,[this].concat(t))}},{key:"render",value:function(){var e=this.context.intl,t=e.formatPlural,n=e.textComponent,i=this.props,r=i.value,o=i.other,a=i.children,s=t(r,this.props),l=this.props[s]||o;return"function"==typeof a?a(l):h.a.createElement(n,null,l)}}]),t}(d.Component);Ee.displayName="FormattedPlural",Ee.contextTypes={intl:H},Ee.defaultProps={style:"cardinal"};var Me=function(e){function t(e,n){w(this,t);var i=E(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return J(n),i}return k(t,e),C(t,[{key:"shouldComponentUpdate",value:function(e){var t=this.props.values;if(!$(e.values,t))return!0;for(var n=S({},e,{values:t}),i=arguments.length,r=Array(i>1?i-1:0),o=1;o<i;o++)r[o-1]=arguments[o];return ee.apply(void 0,[this,n].concat(r))}},{key:"render",value:function(){var e,t=this.context.intl,n=t.formatMessage,i=t.textComponent,r=this.props,o=r.id,a=r.description,s=r.defaultMessage,l=r.values,u=r.tagName,c=void 0===u?i:u,h=r.children,f=void 0,p=void 0,m=void 0;if(l&&Object.keys(l).length>0){var g=Math.floor(1099511627776*Math.random()).toString(16),v=(e=0,function(){return"ELEMENT-"+g+"-"+(e+=1)});f="@__"+g+"__@",p={},m={},Object.keys(l).forEach(function(e){var t=l[e];if(Object(d.isValidElement)(t)){var n=v();p[e]=f+n+f,m[n]=t}else p[e]=t})}var y=n({id:o,description:a,defaultMessage:s},p||l),_=void 0;return _=m&&Object.keys(m).length>0?y.split(f).filter(function(e){return!!e}).map(function(e){return m[e]||e}):[y],"function"==typeof h?h.apply(void 0,M(_)):d.createElement.apply(void 0,[c,null].concat(M(_)))}}]),t}(d.Component);Me.displayName="FormattedMessage",Me.contextTypes={intl:H},Me.defaultProps={values:{}};var Oe=function(e){function t(e,n){w(this,t);var i=E(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return J(n),i}return k(t,e),C(t,[{key:"shouldComponentUpdate",value:function(e){var t=this.props.values;if(!$(e.values,t))return!0;for(var n=S({},e,{values:t}),i=arguments.length,r=Array(i>1?i-1:0),o=1;o<i;o++)r[o-1]=arguments[o];return ee.apply(void 0,[this,n].concat(r))}},{key:"render",value:function(){var e=this.context.intl,t=e.formatHTMLMessage,n=e.textComponent,i=this.props,r=i.id,o=i.description,a=i.defaultMessage,s=i.values,l=i.tagName,u=void 0===l?n:l,c=i.children,d=t({id:r,description:o,defaultMessage:a},s);if("function"==typeof c)return c(d);var f={__html:d};return h.a.createElement(u,{dangerouslySetInnerHTML:f})}}]),t}(d.Component);Oe.displayName="FormattedHTMLMessage",Oe.contextTypes={intl:H},Oe.defaultProps={values:{}},y(v),y(r.a)},function(e,t,n){"use strict";var i=n(263).default;n(256),(t=e.exports=i).default=t},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.changeStrokeColor=t.default=void 0;var i,r=n(7),o=(i=r)&&i.__esModule?i:{default:i},a=n(9),s=n(6);var l=/^#([0-9a-f]{3}){1,2}$/i;t.default=function(e,t){switch(void 0===e&&(e="#000"),t.type){case"scratch-paint/stroke-color/CHANGE_STROKE_COLOR":return l.test(t.strokeColor)||null===t.strokeColor?t.strokeColor:(o.default.warn("Invalid hex color code: "+t.fillColor),e);case a.CHANGE_SELECTED_ITEMS:return t.selectedItems&&t.selectedItems.length?(0,s.getColorsFromSelection)(t.selectedItems).strokeColor:e;default:return e}},t.changeStrokeColor=function(e){return{type:"scratch-paint/stroke-color/CHANGE_STROKE_COLOR",strokeColor:e}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getRootItem=t.setPositionInView=t.getPositionInView=t.setPivot=t.isPGTextItem=t.isPointTextItem=t.isGroupItem=t.isCompoundPathItem=t.isPathItem=t.isBoundsItem=void 0;var i,r=n(2),o=(i=r)&&i.__esModule?i:{default:i};var a=function e(t){return"Layer"===t.parent.className?t:e(t.parent)},s=function(e){return"PointText"===e.className||"Shape"===e.className||"PlacedSymbol"===e.className||"Raster"===e.className};t.isBoundsItem=s,t.isPathItem=function(e){return"Path"===e.className},t.isCompoundPathItem=function(e){return"CompoundPath"===e.className},t.isGroupItem=function(e){return e&&e.className&&"Group"===e.className},t.isPointTextItem=function(e){return"PointText"===e.className},t.isPGTextItem=function(e){return a(e).data.isPGTextItem},t.setPivot=function(e,t){s(e)?e.pivot=e.globalToLocal(t):e.pivot=t},t.getPositionInView=function(e){var t=new o.default.Point;return t.x=e.position.x-o.default.view.bounds.x,t.y=e.position.y-o.default.view.bounds.y,t},t.setPositionInView=function(e,t){e.position.x=o.default.view.bounds.x+t.x,e.position.y=o.default.view.bounds.y+t.y},t.getRootItem=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isBitmap=t.isVector=t.default=void 0;var i,r=n(36);var o=(0,((i=r)&&i.__esModule?i:{default:i}).default)({BITMAP:null,VECTOR:null,BITMAP_SKIP_CONVERT:null,VECTOR_SKIP_CONVERT:null});t.default=o,t.isVector=function(e){return e===o.VECTOR||e===o.VECTOR_SKIP_CONVERT},t.isBitmap=function(e){return e===o.BITMAP||e===o.BITMAP_SKIP_CONVERT}},function(e,t,n){"use strict";(t=e.exports=n(249).default).default=t},function(e,t,n){"use strict";var i=n(255).default;n(250),(t=e.exports=i).default=t},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MAX_STROKE_WIDTH=t.changeStrokeWidth=t.default=void 0;var i,r=n(7),o=(i=r)&&i.__esModule?i:{default:i},a=n(9),s=n(6);t.default=function(e,t){switch(void 0===e&&(e=4),t.type){case"scratch-paint/stroke-width/CHANGE_STROKE_WIDTH":return isNaN(t.strokeWidth)?(o.default.warn("Invalid brush size: "+t.strokeWidth),e):Math.min(800,Math.max(0,t.strokeWidth));case a.CHANGE_SELECTED_ITEMS:return t.selectedItems&&t.selectedItems.length?(0,s.getColorsFromSelection)(t.selectedItems).strokeWidth:e;default:return e}},t.changeStrokeWidth=function(e){return{type:"scratch-paint/stroke-width/CHANGE_STROKE_WIDTH",strokeWidth:e}},t.MAX_STROKE_WIDTH=800},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setDefaultGuideStyle=t.getGuideColor=t.removeHitPoint=t.drawHitPoint=t.removeBoundsPath=t.removeBoundsHandles=t.removeAllGuides=t.rectSelect=t.hoverBounds=t.hoverItem=void 0;var i,r=n(2),o=(i=r)&&i.__esModule?i:{default:i},a=n(20),s=n(3);var l=function(e){e.strokeWidth=1/o.default.view.zoom,e.opacity=1,e.blendMode="normal",e.guide=!0},u=function(e){var t=(0,s.getAllRootItems)(!0),n=!0,i=!1,r=void 0;try{for(var o,a=t[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var l=o.value,u=!0,c=!1,d=void 0;try{for(var h,f=e[Symbol.iterator]();!(u=(h=f.next()).done);u=!0){var p=h.value;l.data&&l.data[p]&&l.remove()}}catch(e){c=!0,d=e}finally{try{!u&&f.return&&f.return()}finally{if(c)throw d}}}}catch(e){i=!0,r=e}finally{try{!n&&a.return&&a.return()}finally{if(i)throw r}}},c=function(){u(["isHitPoint"])};t.hoverItem=function(e){var t=e.segments,n=new o.default.Path(t);return l(n),e.closed&&(n.closed=!0),n.parent=(0,a.getGuideLayer)(),n.position=e.position,n.strokeColor="#009dec",n.fillColor=null,n.data.isHelperItem=!0,n.data.origItem=e,n.bringToFront(),n},t.hoverBounds=function(e,t){var n=e.internalBounds;t&&(n=n.expand(t));var i=new o.default.Path.Rectangle(n);return i.matrix=e.matrix,l(i),i.parent=(0,a.getGuideLayer)(),i.strokeColor="#009dec",i.fillColor=null,i.data.isHelperItem=!0,i.data.origItem=e,i.bringToFront(),i},t.rectSelect=function(e,t){var n=new o.default.Point(.5/o.default.view.zoom,.5/o.default.view.zoom),i=e.downPoint.add(n),r=e.point.add(n),s=new o.default.Path.Rectangle(i,r),u=1/o.default.view.zoom;return l(s),t||(t="#aaaaaa"),s.parent=(0,a.getGuideLayer)(),s.strokeColor=t,s.data.isRectSelect=!0,s.data.isHelperItem=!0,s.dashArray=[3*u,3*u],s},t.removeAllGuides=function(){!function(e){var t=(0,s.getAllRootItems)(!0),n=!0,i=!1,r=void 0;try{for(var o,a=t[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var l=o.value,u=!0,c=!1,d=void 0;try{for(var h,f=e[Symbol.iterator]();!(u=(h=f.next()).done);u=!0)l[h.value]&&l.remove()}catch(e){c=!0,d=e}finally{try{!u&&f.return&&f.return()}finally{if(c)throw d}}}}catch(e){i=!0,r=e}finally{try{!n&&a.return&&a.return()}finally{if(i)throw r}}}(["guide"])},t.removeBoundsHandles=function(){u(["isRotHandle","isScaleHandle"])},t.removeBoundsPath=function(){u(["isSelectionBound","isRotHandle","isScaleHandle"])},t.drawHitPoint=function(e){if(c(),e){var t=o.default.Path.Circle(e,4/o.default.view.zoom);t.strokeWidth=1/o.default.view.zoom,t.strokeColor="#009dec",t.fillColor=new o.default.Color(1,1,1,.5),t.parent=(0,a.getGuideLayer)(),t.data.isHitPoint=!0,t.data.isHelperItem=!0}},t.removeHitPoint=c,t.getGuideColor=function(){return"#009dec"},t.setDefaultGuideStyle=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=s(n(13)),r=s(n(0)),o=s(n(1)),a=s(n(157));function s(e){return e&&e.__esModule?e:{default:e}}var l=function(e){return r.default.createElement("div",{className:(0,i.default)(e.className,a.default.inputGroup,(t={},n=a.default.disabled,o=e.disabled,n in t?Object.defineProperty(t,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[n]=o,t))},e.children);var t,n,o};l.propTypes={children:o.default.node.isRequired,className:o.default.string,disabled:o.default.bool},t.default=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.clearHoveredItem=t.setHoveredItem=t.default=void 0;var i,r=n(7),o=(i=r)&&i.__esModule?i:{default:i};var a="scratch-paint/hover/CHANGE_HOVERED";t.default=function(e,t){switch(void 0===e&&(e=null),t.type){case a:return void 0===t.hoveredItemId?(o.default.warn("Hovered item should not be set to undefined. Use null."),e):void 0===t.hoveredItemId||isNaN(t.hoveredItemId)?(o.default.warn("Hovered item should be an item ID number. Got: "+t.hoveredItemId),e):t.hoveredItemId;default:return e}},t.setHoveredItem=function(e){return{type:a,hoveredItemId:e}},t.clearHoveredItem=function(){return{type:a,hoveredItemId:null}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=n(3),a=n(2),s=(i=a)&&i.__esModule?i:{default:i};var l=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.boundingBoxTool=t,this.onUpdateSvg=n}return r(e,[{key:"onKeyDown",value:function(e){if(!(e.event.target instanceof HTMLInputElement)){var t=1/s.default.view.zoom,n=(0,o.getSelectedRootItems)();if(0!==n.length){var i=void 0;if("up"===e.key?i=new s.default.Point(0,-t):"down"===e.key?i=new s.default.Point(0,t):"left"===e.key?i=new s.default.Point(-t,0):"right"===e.key&&(i=new s.default.Point(t,0)),i){var r=!0,a=!1,l=void 0;try{for(var u,c=n[Symbol.iterator]();!(r=(u=c.next()).done);r=!0){u.value.translate(i)}}catch(e){a=!0,l=e}finally{try{!r&&c.return&&c.return()}finally{if(a)throw l}}this.boundingBoxTool.setSelectionBounds()}}}}},{key:"onKeyUp",value:function(e){0!==(0,o.getSelectedRootItems)().length&&("up"!==e.key&&"down"!==e.key&&"left"!==e.key&&"right"!==e.key||this.onUpdateSvg())}}]),e}();t.default=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=h(n(2)),o=h(n(36)),a=n(3),s=n(29),l=n(20),u=h(n(126)),c=h(n(125)),d=h(n(59));function h(e){return e&&e.__esModule?e:{default:e}}var f=(0,o.default)({SCALE:null,ROTATE:null,MOVE:null}),p=function(){function e(t,n,i,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.onUpdateSvg=r,this.mode=null,this.boundsPath=null,this.boundsScaleHandles=[],this.boundsRotHandles=[],this._modeMap={},this._modeMap[f.SCALE]=new u.default(r),this._modeMap[f.ROTATE]=new c.default(r),this._modeMap[f.MOVE]=new d.default(t,n,i,r)}return i(e,[{key:"onSelectionChanged",value:function(e){e&&e.length?this.setSelectionBounds():this.removeBoundsPath()}},{key:"onMouseDown",value:function(e,t,n,i){if(!(e.event.button>0)){var o=r.default.project.hitTestAll(e.point,i);if(!o||0===o.length)return n||this.removeBoundsPath(),!1;for(var s=o[0],l=0;l<o.length;l++){if(o[l].item.data&&o[l].item.data.isScaleHandle){s=o[l],this.mode=f.SCALE;break}o[l].item.data&&o[l].item.data.isRotHandle&&(s=o[l],this.mode=f.ROTATE)}this.mode||(this.mode=f.MOVE);var u={hitResult:s,clone:t,multiselect:n};return this.mode===f.MOVE?(this._modeMap[this.mode].onMouseDown(u),this.removeBoundsHandles()):this.mode===f.SCALE?(this._modeMap[this.mode].onMouseDown(s,this.boundsPath,(0,a.getSelectedRootItems)()),this.removeBoundsHandles()):this.mode===f.ROTATE&&(this._modeMap[this.mode].onMouseDown(s,this.boundsPath,(0,a.getSelectedRootItems)()),this.removeBoundsPath()),!0}}},{key:"onMouseDrag",value:function(e){e.event.button>0||!this.mode||this._modeMap[this.mode].onMouseDrag(e)}},{key:"onMouseUp",value:function(e){e.event.button>0||!this.mode||(this._modeMap[this.mode].onMouseUp(e),this.setSelectionBounds(),this.mode=null)}},{key:"setSelectionBounds",value:function(){this.removeBoundsPath();var e=(0,a.getSelectedRootItems)();if(!(e.length<=0)){var t=null,n=!0,i=!1,o=void 0;try{for(var u,c=e[Symbol.iterator]();!(n=(u=c.next()).done);n=!0){var d=u.value;t=t?t.unite(d.bounds):d.bounds}}catch(e){i=!0,o=e}finally{try{!n&&c.return&&c.return()}finally{if(i)throw o}}this.boundsPath||(this.boundsPath=new r.default.Path.Rectangle(t),this.boundsPath.curves[0].divideAtTime(.5),this.boundsPath.curves[2].divideAtTime(.5),this.boundsPath.curves[4].divideAtTime(.5),this.boundsPath.curves[6].divideAtTime(.5),this._modeMap[f.MOVE].setBoundsPath(this.boundsPath)),this.boundsPath.guide=!0,this.boundsPath.data.isSelectionBound=!0,this.boundsPath.data.isHelperItem=!0,this.boundsPath.fillColor=null,this.boundsPath.parent=(0,l.getGuideLayer)(),this.boundsPath.strokeWidth=1/r.default.view.zoom,this.boundsPath.strokeColor=(0,s.getGuideColor)();var h=new r.default.Path.Circle({center:new r.default.Point(0,0),radius:5.5/r.default.view.zoom,fillColor:"black",opacity:.12,data:{isHelperItem:!0,noSelect:!0,noHover:!0}}),p=new r.default.Path.Circle({center:new r.default.Point(0,0),radius:4/r.default.view.zoom,fillColor:(0,s.getGuideColor)(),data:{isScaleHandle:!0,isHelperItem:!0,noSelect:!0,noHover:!0}}),m=new r.default.Group([h,p]);m.parent=(0,l.getGuideLayer)();for(var g=0;g<this.boundsPath.segments.length;g++){var v=this.boundsPath.segments[g];if(7===g){var y=new r.default.Point(0,20),_=new r.default.Path("M19.28,1.09C19.28.28,19,0,18.2,0c-1.67,0-3.34,0-5,0-.34,0-.88.24-1,.47a1.4,1.4,0,0,0,.36,1.08,15.27,15.27,0,0,0,1.46,1.36A6.4,6.4,0,0,1,6.52,4,5.85,5.85,0,0,1,5.24,3,15.27,15.27,0,0,0,6.7,1.61,1.4,1.4,0,0,0,7.06.54C7,.3,6.44.07,6.1.06c-1.67,0-3.34,0-5,0C.28,0,0,.31,0,1.12c0,1.67,0,3.34,0,5a1.23,1.23,0,0,0,.49,1,1.22,1.22,0,0,0,1-.31A14.38,14.38,0,0,0,2.84,5.26l.73.62a9.45,9.45,0,0,0,7.34,2,9.45,9.45,0,0,0,4.82-2.05l.73-.62a14.38,14.38,0,0,0,1.29,1.51,1.22,1.22,0,0,0,1,.31,1.23,1.23,0,0,0,.49-1C19.31,4.43,19.29,2.76,19.28,1.09Z");_.translate(v.point.add(y).add(-10.5,-5));var b=new r.default.Path.Rectangle(v.point.add(y).subtract(1,0),v.point),w=_.unite(b);b.remove(),_.remove(),w.scale(1/r.default.view.zoom,v.point),w.data={offset:y,isRotHandle:!0,isHelperItem:!0,noSelect:!0,noHover:!0},w.fillColor=(0,s.getGuideColor)(),w.parent=(0,l.getGuideLayer)(),this.boundsRotHandles[g]=w}this.boundsScaleHandles[g]=m.clone(),this.boundsScaleHandles[g].position=v.point;var C=!0,x=!1,S=void 0;try{for(var k,E=this.boundsScaleHandles[g].children[Symbol.iterator]();!(C=(k=E.next()).done);C=!0){k.value.data.index=g}}catch(e){x=!0,S=e}finally{try{!C&&E.return&&E.return()}finally{if(x)throw S}}this.boundsScaleHandles[g].data={index:g,isScaleHandle:!0,isHelperItem:!0,noSelect:!0,noHover:!0}}m.remove()}}},{key:"removeBoundsPath",value:function(){(0,s.removeBoundsPath)(),this.boundsPath=null,this.boundsScaleHandles.length=0,this.boundsRotHandles.length=0}},{key:"removeBoundsHandles",value:function(){(0,s.removeBoundsHandles)(),this.boundsScaleHandles.length=0,this.boundsRotHandles.length=0}}]),e}();t.default=p},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i="undefined"==typeof window,r=!i,o=r?window:null,a=r?document:null;t.default={isServer:i,isClient:r,window:o,document:a},t.isServer=i,t.isClient=r,t.window=o,t.document=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.REDO=t.UNDO=t.MAX_STACK_SIZE=t.clearUndoState=t.undoSnapshot=t.redo=t.undo=t.default=void 0;var i,r=n(7),o=(i=r)&&i.__esModule?i:{default:i};var a="scratch-paint/undo/UNDO",s="scratch-paint/undo/REDO",l="scratch-paint/undo/SNAPSHOT",u="scratch-paint/undo/CLEAR",c={stack:[],pointer:-1};t.default=function(e,t){switch(void 0===e&&(e=c),t.type){case a:return e.pointer<=0?(o.default.warn("Can't undo, undo stack is empty"),e):{stack:e.stack,pointer:e.pointer-1};case s:return e.pointer<=-1||e.pointer===e.stack.length-1?(o.default.warn("Can't redo, redo stack is empty"),e):{stack:e.stack,pointer:e.pointer+1};case l:return t.snapshot?e.pointer>=99?{stack:e.stack.slice(e.pointer-100+2,e.pointer+1).concat(t.snapshot),pointer:99}:{stack:e.stack.slice(0,e.pointer+1).concat(t.snapshot),pointer:e.pointer+1}:(o.default.warn("Couldn't create undo snapshot, no data provided"),e);case u:return c;default:return e}},t.undo=function(e){return{type:a,format:e}},t.redo=function(e){return{type:s,format:e}},t.undoSnapshot=function(e){return{type:l,snapshot:e}},t.clearUndoState=function(){return{type:u}},t.MAX_STACK_SIZE=100,t.UNDO=a,t.REDO=s},function(e,t,n){"use strict";e.exports=function(e){var t,n={};if(!(e instanceof Object)||Array.isArray(e))throw new Error("keyMirror(...): Argument must be an object.");for(t in e)e.hasOwnProperty(t)&&(n[t]=t);return n}},function(e,t,n){"use strict";n.r(t);var i=n(57),r=n(56),o={INIT:"@@redux/INIT"};function a(e,t,n){var s;if("function"==typeof t&&void 0===n&&(n=t,t=void 0),void 0!==n){if("function"!=typeof n)throw new Error("Expected the enhancer to be a function.");return n(a)(e,t)}if("function"!=typeof e)throw new Error("Expected the reducer to be a function.");var l=e,u=t,c=[],d=c,h=!1;function f(){d===c&&(d=c.slice())}function p(){return u}function m(e){if("function"!=typeof e)throw new Error("Expected listener to be a function.");var t=!0;return f(),d.push(e),function(){if(t){t=!1,f();var n=d.indexOf(e);d.splice(n,1)}}}function g(e){if(!Object(i.a)(e))throw new Error("Actions must be plain objects. Use custom middleware for async actions.");if(void 0===e.type)throw new Error('Actions may not have an undefined "type" property. Have you misspelled a constant?');if(h)throw new Error("Reducers may not dispatch actions.");try{h=!0,u=l(u,e)}finally{h=!1}for(var t=c=d,n=0;n<t.length;n++){(0,t[n])()}return e}return g({type:o.INIT}),(s={dispatch:g,subscribe:m,getState:p,replaceReducer:function(e){if("function"!=typeof e)throw new Error("Expected the nextReducer to be a function.");l=e,g({type:o.INIT})}})[r.a]=function(){var e,t=m;return(e={subscribe:function(e){if("object"!=typeof e)throw new TypeError("Expected the observer to be an object.");function n(){e.next&&e.next(p())}return n(),{unsubscribe:t(n)}}})[r.a]=function(){return this},e},s}function s(e,t){var n=t&&t.type;return"Given action "+(n&&'"'+n.toString()+'"'||"an action")+', reducer "'+e+'" returned undefined. To ignore an action, you must explicitly return the previous state. If you want this reducer to hold no value, you can return null instead of undefined.'}function l(e){for(var t=Object.keys(e),n={},i=0;i<t.length;i++){var r=t[i];0,"function"==typeof e[r]&&(n[r]=e[r])}var a=Object.keys(n);var l=void 0;try{!function(e){Object.keys(e).forEach(function(t){var n=e[t];if(void 0===n(void 0,{type:o.INIT}))throw new Error('Reducer "'+t+"\" returned undefined during initialization. If the state passed to the reducer is undefined, you must explicitly return the initial state. The initial state may not be undefined. If you don't want to set a value for this reducer, you can use null instead of undefined.");if(void 0===n(void 0,{type:"@@redux/PROBE_UNKNOWN_ACTION_"+Math.random().toString(36).substring(7).split("").join(".")}))throw new Error('Reducer "'+t+"\" returned undefined when probed with a random type. Don't try to handle "+o.INIT+' or other actions in "redux/*" namespace. They are considered private. Instead, you must return the current state for any unknown actions, unless it is undefined, in which case you must return the initial state, regardless of the action type. The initial state may not be undefined, but can be null.')})}(n)}catch(e){l=e}return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1];if(l)throw l;for(var i=!1,r={},o=0;o<a.length;o++){var u=a[o],c=n[u],d=e[u],h=c(d,t);if(void 0===h){var f=s(u,t);throw new Error(f)}r[u]=h,i=i||h!==d}return i?r:e}}function u(e,t){return function(){return t(e.apply(void 0,arguments))}}function c(e,t){if("function"==typeof e)return u(e,t);if("object"!=typeof e||null===e)throw new Error("bindActionCreators expected an object or a function, instead received "+(null===e?"null":typeof e)+'. Did you write "import ActionCreators from" instead of "import * as ActionCreators from"?');for(var n=Object.keys(e),i={},r=0;r<n.length;r++){var o=n[r],a=e[o];"function"==typeof a&&(i[o]=u(a,t))}return i}function d(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return 0===t.length?function(e){return e}:1===t.length?t[0]:t.reduce(function(e,t){return function(){return e(t.apply(void 0,arguments))}})}var h=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e};function f(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return function(n,i,r){var o,a=e(n,i,r),s=a.dispatch,l={getState:a.getState,dispatch:function(e){return s(e)}};return o=t.map(function(e){return e(l)}),s=d.apply(void 0,o)(a.dispatch),h({},a,{dispatch:s})}}}n.d(t,"createStore",function(){return a}),n.d(t,"combineReducers",function(){return l}),n.d(t,"bindActionCreators",function(){return c}),n.d(t,"applyMiddleware",function(){return f}),n.d(t,"compose",function(){return d})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setTextEditTarget=t.default=void 0;var i,r=n(7),o=(i=r)&&i.__esModule?i:{default:i};t.default=function(e,t){switch(void 0===e&&(e=null),t.type){case"scratch-paint/text-tool/CHANGE_TEXT_EDIT_TARGET":return void 0===t.textEditTargetId?(o.default.warn("Text edit target should not be set to undefined. Use null."),e):void 0===t.textEditTargetId||isNaN(t.textEditTargetId)?(o.default.warn("Text edit target should be an item ID number. Got: "+t.textEditTargetId),e):t.textEditTargetId;default:return e}},t.setTextEditTarget=function(e){return{type:"scratch-paint/text-tool/CHANGE_TEXT_EDIT_TARGET",textEditTargetId:e||null}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},r=l(n(1)),o=l(n(0)),a=l(n(13)),s=l(n(149));function l(e){return e&&e.__esModule?e:{default:e}}function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var c=function(e){var t,n=e.small,r=e.range,l=function(e,t){var n={};for(var i in e)t.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i]);return n}(e,["small","range"]);return o.default.createElement("input",i({},l,{className:(0,a.default)(s.default.inputForm,e.className,(t={},u(t,s.default.inputSmall,n&&!r),u(t,s.default.inputSmallRange,n&&r),t))}))};c.propTypes={className:r.default.string,range:r.default.bool,small:r.default.bool},c.defaultProps={range:!1,small:!1},t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getHoveredItem=void 0;var i,r=n(2),o=(i=r)&&i.__esModule?i:{default:i},a=n(24),s=n(29),l=n(19),u=n(15);t.getHoveredItem=function(e,t,n){var i=o.default.project.hitTestAll(e.point,t);if(0===i.length)return null;var r=[],c=!0,d=!1,h=void 0;try{for(var f,p=i[Symbol.iterator]();!(c=(f=p.next()).done);c=!0){var m=f.value;m.item.data&&m.item.data.noHover||m.item.selected||r.push(m.item)}}catch(e){d=!0,h=e}finally{try{!c&&p.return&&p.return()}finally{if(d)throw h}}r.sort(u.sortItemsByZIndex);var g=r[r.length-1];return g?(0,a.isBoundsItem)(g)?(0,s.hoverBounds)(g):!n&&(0,l.isGroupChild)(g)?(0,s.hoverBounds)((0,a.getRootItem)(g)):(0,s.hoverItem)(g):null}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=a(n(1)),r=a(n(0)),o=a(n(155));function a(e){return e&&e.__esModule?e:{default:e}}var s=function(e){return r.default.createElement("label",{className:o.default.inputGroup},r.default.createElement("span",{className:e.secondary?o.default.inputLabelSecondary:o.default.inputLabel},e.text),e.children)};s.propTypes={children:i.default.node,secondary:i.default.bool,text:i.default.string.isRequired},s.defaultProps={secondary:!1},t.default=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i={active:!1,callback:function(){},previousTool:null};t.default=function(e,t){switch(void 0===e&&(e=i),t.type){case"scratch-paint/eye-dropper/ACTIVATE_COLOR_PICKER":return Object.assign({},e,{active:!0,callback:t.callback,previousTool:t.previousMode});case"scratch-paint/eye-dropper/DEACTIVATE_COLOR_PICKER":return Object.assign({},e,{active:!1,callback:function(){},previousTool:null});default:return e}},t.activateEyeDropper=function(e,t){return{type:"scratch-paint/eye-dropper/ACTIVATE_COLOR_PICKER",callback:t,previousMode:e}},t.deactivateEyeDropper=function(){return{type:"scratch-paint/eye-dropper/DEACTIVATE_COLOR_PICKER"}}},function(e,t,n){"use strict";var i;function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(t,"__esModule",{value:!0});var o="scratch-paint/modals/OPEN_MODAL",a=(r(i={},"fillColor",!1),r(i,"strokeColor",!1),i),s=function(e){return{type:o,modal:e}},l=function(e){return{type:"scratch-paint/modals/CLOSE_MODAL",modal:e}};t.default=function(e,t){switch(void 0===e&&(e=a),t.type){case o:return Object.assign({},a,r({},t.modal,!0));case"scratch-paint/modals/CLOSE_MODAL":return Object.assign({},a,r({},t.modal,!1));default:return e}},t.openFillColor=function(){return s("fillColor")},t.openStrokeColor=function(){return s("strokeColor")},t.closeFillColor=function(){return l("fillColor")},t.closeStrokeColor=function(){return l("strokeColor")}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.changeBrushSize=t.default=void 0;var i,r=n(7),o=(i=r)&&i.__esModule?i:{default:i};var a={brushSize:40};t.default=function(e,t){switch(void 0===e&&(e=a),t.type){case"scratch-paint/eraser-mode/CHANGE_ERASER_SIZE":return isNaN(t.brushSize)?(o.default.warn("Invalid brush size: "+t.brushSize),e):{brushSize:Math.max(1,t.brushSize)};default:return e}},t.changeBrushSize=function(e){return{type:"scratch-paint/eraser-mode/CHANGE_ERASER_SIZE",brushSize:e}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.clientOnly=t.noop=t.equalRecords=t.find=void 0;var i=n(34),r=function(e,t){return t.reduce(function(t,n){return t||(e(n)?n:null)},null)},o=function(e,t){for(var n in e)if(e[n]!==t[n])return!1;return!0},a=function(){},s=function(e){return i.isClient?e:a};t.default={find:r,equalRecords:o,noop:a,clientOnly:s},t.find=r,t.equalRecords=o,t.noop=a,t.clientOnly=s},function(e,t,n){"use strict";n.r(t),n.d(t,"isBrowser",function(){return r});var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r="object"===("undefined"==typeof window?"undefined":i(window))&&"object"===("undefined"==typeof document?"undefined":i(document))&&9===document.nodeType;t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,r=n(46);var o="",a="";if(((i=r)&&i.__esModule?i:{default:i}).default){var s={Moz:"-moz-",ms:"-ms-",O:"-o-",Webkit:"-webkit-"},l=document.createElement("p").style;for(var u in s)if(u+"Transform"in l){o=u,a=s[u];break}}t.default={js:o,css:a}},function(e,t,n){const i=n(191);e.exports=i.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},r=l(n(13)),o=l(n(1)),a=l(n(0)),s=l(n(237));function l(e){return e&&e.__esModule?e:{default:e}}var u=function(e){var t,n,o,l=e.className,u=e.onClick,c=e.children,d=function(e,t){var n={};for(var i in e)t.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i]);return n}(e,["className","onClick","children"]),h=d.disabled||!1;return!1===h&&(d.onClick=u),a.default.createElement("span",i({className:(0,r.default)(s.default.button,l,(t={},n=s.default.modDisabled,o=h,n in t?Object.defineProperty(t,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[n]=o,t)),role:"button"},d),c)};u.propTypes={children:o.default.node,className:o.default.string,disabled:o.default.oneOfType([o.default.string,o.default.bool]),onClick:o.default.func.isRequired},t.default=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.changeFormat=t.default=void 0;var i=a(n(25)),r=a(n(7)),o=n(35);function a(e){return e&&e.__esModule?e:{default:e}}var s=i.default.VECTOR;t.default=function(e,t){switch(void 0===e&&(e=s),t.type){case o.UNDO:case o.REDO:case"scratch-paint/formats/CHANGE_FORMAT":if(t.format in i.default)return t.format;r.default.warn("Format does not exist: "+t.format);default:return e}},t.changeFormat=function(e){return{type:"scratch-paint/formats/CHANGE_FORMAT",format:e}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.updateViewBounds=t.default=void 0;var i=o(n(2)),r=o(n(7));function o(e){return e&&e.__esModule?e:{default:e}}var a=new i.default.Matrix;t.default=function(e,t){switch(void 0===e&&(e=a),t.type){case"scratch-paint/view/UPDATE_VIEW_BOUNDS":return t.viewBounds instanceof i.default.Matrix?t.viewBounds:(r.default.warn("View bounds should be a paper.Matrix."),e);default:return e}},t.updateViewBounds=function(e){return{type:"scratch-paint/view/UPDATE_VIEW_BOUNDS",viewBounds:e.clone()}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.clearPasteOffset=t.incrementPasteOffset=t.setClipboardItems=t.default=void 0;var i,r=n(7),o=(i=r)&&i.__esModule?i:{default:i};var a="scratch-paint/clipboard/SET",s={items:[],pasteOffset:0};t.default=function(e,t){switch(void 0===e&&(e=s),t.type){case a:return t.clipboardItems&&t.clipboardItems instanceof Array&&0!==t.clipboardItems.length?{items:t.clipboardItems,pasteOffset:1}:(o.default.warn("Invalid clipboard item format"),e);case"scratch-paint/clipboard/INCREMENT_PASTE_OFFSET":return{items:e.items,pasteOffset:e.pasteOffset+1};case"scratch-paint/clipboard/CLEAR_PASTE_OFFSET":return{items:e.items,pasteOffset:0};default:return e}},t.setClipboardItems=function(e){return{type:a,clipboardItems:e}},t.incrementPasteOffset=function(){return{type:"scratch-paint/clipboard/INCREMENT_PASTE_OFFSET"}},t.clearPasteOffset=function(){return{type:"scratch-paint/clipboard/CLEAR_PASTE_OFFSET"}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.zoomOnFixedPoint=t.zoomOnSelection=t.resetZoom=t.pan=t.clampViewBounds=t.ART_BOARD_WIDTH=t.ART_BOARD_HEIGHT=void 0;var i,r=n(2),o=(i=r)&&i.__esModule?i:{default:i},a=n(3);var s=function(){var e=o.default.project.view.bounds,t=e.left,n=e.right,i=e.top,r=e.bottom;t<0&&o.default.project.view.scrollBy(new o.default.Point(-t,0)),i<0&&o.default.project.view.scrollBy(new o.default.Point(0,-i)),r>720&&o.default.project.view.scrollBy(new o.default.Point(0,720-r)),n>960&&o.default.project.view.scrollBy(new o.default.Point(960-n,0))},l=function(e,t){var n=o.default.project.view,i=n.center,r=Math.max(.5,n.zoom+e),a=n.zoom/r,l=t.subtract(i),u=t.subtract(l.multiply(a)).subtract(i);n.zoom=r,n.translate(u.multiply(-1)),s()};t.ART_BOARD_HEIGHT=720,t.ART_BOARD_WIDTH=960,t.clampViewBounds=s,t.pan=function(e,t){o.default.project.view.scrollBy(new o.default.Point(e,t)),s()},t.resetZoom=function(){o.default.project.view.zoom=.5,s()},t.zoomOnSelection=function(e){var t=void 0,n=(0,a.getSelectedRootItems)();if(n.length>0){var i=null,r=!0,s=!1,u=void 0;try{for(var c,d=n[Symbol.iterator]();!(r=(c=d.next()).done);r=!0){var h=c.value;i=i?i.unite(h.bounds):h.bounds}}catch(e){s=!0,u=e}finally{try{!r&&d.return&&d.return()}finally{if(s)throw u}}t=i.center}else t=o.default.project.view.center;l(e,t)},t.zoomOnFixedPoint=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.trim=t.forEachLinePoint=t.fillEllipse=void 0;var i,r=n(2),o=(i=r)&&i.__esModule?i:{default:i};var a=function(e,t,n){for(var i=0;i<t;++i)if(0!==e.data[(n*t<<2)+(i<<2)+3])return!1;return!0},s=function(e,t,n,i,r){for(var o=i;o<r;++o)if(0!==e.data[(o*t<<2)+(n<<2)+3])return!1;return!0};t.fillEllipse=function(e,t,n,i,r){e=~~e,t=~~t;for(var o=2*(n=~~n)*n,a=2*(i=~~i)*i,s=n,l=0,u=i*i*(1-(n<<1)),c=n*n,d=0,h=a*n,f=0;h>=f;)r.fillRect(e-s,t-l,s<<1,l<<1),l++,f+=o,d+=c,c+=o,(d<<1)+u>0&&(s--,h-=a,d+=u,u+=a);for(s=0,l=i,u=i*i,c=n*n*(1-(i<<1)),d=0,h=0,f=o*i;h<=f;)r.fillRect(e-s,t-l,2*s,2*l),s++,h+=a,d+=u,u+=a,(d<<1)+c>0&&(l--,f-=o,d+=c,c+=o)},t.forEachLinePoint=function(e,t,n){var i=~~e.x,r=~~t.x,o=~~e.y,a=~~t.y,s=Math.abs(r-i),l=Math.abs(a-o),u=i<r?1:-1,c=o<a?1:-1,d=s-l;for(n(i,o);i!==r||o!==a;){var h=2*d;h>-l&&(d-=l,i+=u),h<s&&(d+=s,o+=c),n(i,o)}},t.trim=function(e){for(var t=e.width,n=e.getImageData(e.bounds),i=0,r=n.height,l=0,u=n.width;i<r&&a(n,t,i);)++i;for(;r-1>i&&a(n,t,r-1);)--r;for(;l<u&&s(n,t,l,i,r);)++l;for(;u-1>l&&s(n,t,u-1,i,r);)--u;return e.getSubRaster(new o.default.Rectangle(l,i,u-l,r-i))}},function(e,t){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){"use strict";(function(e,i){var r,o=n(80);r="undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==e?e:i;var a=Object(o.a)(r);t.a=a}).call(this,n(55),n(245)(e))},function(e,t,n){"use strict";var i=n(274),r="object"==typeof self&&self&&self.Object===Object&&self,o=(i.a||r||Function("return this")()).Symbol,a=Object.prototype,s=a.hasOwnProperty,l=a.toString,u=o?o.toStringTag:void 0;var c=function(e){var t=s.call(e,u),n=e[u];try{e[u]=void 0;var i=!0}catch(e){}var r=l.call(e);return i&&(t?e[u]=n:delete e[u]),r},d=Object.prototype.toString;var h=function(e){return d.call(e)},f="[object Null]",p="[object Undefined]",m=o?o.toStringTag:void 0;var g=function(e){return null==e?void 0===e?p:f:m&&m in Object(e)?c(e):h(e)};var v=function(e,t){return function(n){return e(t(n))}}(Object.getPrototypeOf,Object);var y=function(e){return null!=e&&"object"==typeof e},_="[object Object]",b=Function.prototype,w=Object.prototype,C=b.toString,x=w.hasOwnProperty,S=C.call(Object);t.a=function(e){if(!y(e)||g(e)!=_)return!1;var t=v(e);if(null===t)return!0;var n=x.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&C.call(n)==S}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=n(29),o=n(3);var a=function(){function e(t,n,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.selectionRect=null,this.mode=t,this.setSelectedItems=n,this.clearSelectedItems=i}return i(e,[{key:"onMouseDown",value:function(e){e||((0,o.clearSelection)(this.clearSelectedItems),this.clearSelectedItems())}},{key:"onMouseDrag",value:function(e){e.event.button>0||(this.selectionRect=(0,r.rectSelect)(e),this.selectionRect.removeOnDrag())}},{key:"onMouseUp",value:function(e){e.event.button>0||this.selectionRect&&((0,o.processRectangularSelection)(e,this.selectionRect,this.mode),this.selectionRect.remove(),this.selectionRect=null,this.setSelectedItems())}}]),e}();t.default=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=n(4),a=(i=o)&&i.__esModule?i:{default:i},s=n(19),l=n(24),u=n(15),c=n(3);var d=function(){function e(t,n,i,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.mode=t,this.setSelectedItems=n,this.clearSelectedItems=i,this.selectedItems=null,this.onUpdateSvg=r,this.boundsPath=null}return r(e,[{key:"onMouseDown",value:function(e){var t=e.hitResult.item;if(!e.subselect){var n=(0,l.getRootItem)(e.hitResult.item);t=(0,l.isCompoundPathItem)(n)||(0,s.isGroup)(n)?n:e.hitResult.item}t.selected?e.doubleClicked?(e.multiselect||(0,c.clearSelection)(this.clearSelectedItems),this._select(t,!0,e.subselect,!0)):e.multiselect&&this._select(t,!1,e.subselect):(e.multiselect||(0,c.clearSelection)(this.clearSelectedItems),this._select(t,!0,e.subselect)),e.clone&&(0,c.cloneSelection)(e.subselect,this.onUpdateSvg),this.selectedItems=this.mode===a.default.RESHAPE?(0,c.getSelectedLeafItems)():(0,c.getSelectedRootItems)(),this.boundsPath&&this.selectedItems.push(this.boundsPath)}},{key:"setBoundsPath",value:function(e){this.boundsPath=e}},{key:"_select",value:function(e,t,n,i){n?(e.selected=!1,i?e.fullySelected=t:e.selected=t):(0,c.setItemSelection)(e,t),this.setSelectedItems()}},{key:"onMouseDrag",value:function(e){var t=e.point.subtract(e.downPoint),n=!0,i=!1,r=void 0;try{for(var o,a=this.selectedItems[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var s=o.value;s.data.origPos||(s.data.origPos=s.position),e.modifiers.shift?s.position=s.data.origPos.add((0,u.snapDeltaToAngle)(t,Math.PI/4)):s.position=s.data.origPos.add(t)}}catch(e){i=!0,r=e}finally{try{!n&&a.return&&a.return()}finally{if(i)throw r}}}},{key:"onMouseUp",value:function(){var e=!1,t=!0,n=!1,i=void 0;try{for(var r,o=this.selectedItems[Symbol.iterator]();!(t=(r=o.next()).done);t=!0){var a=r.value;a.data&&a.data.origPos&&!a.position.equals(a.data.origPos)&&(e=!0),a.data.origPos=null}}catch(e){n=!0,i=e}finally{try{!t&&o.return&&o.return()}finally{if(n)throw i}}this.selectedItems=null,e&&this.onUpdateSvg()}}]),e}();t.default=d},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();t.default=function(e){var t=function(t){function n(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n);var t=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,e));return(0,o.default)(t,["handleChange","handleKeyPress","handleFlush"]),t.state={value:null},t}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(n,s.default.Component),r(n,[{key:"handleKeyPress",value:function(e){"Enter"===e.key&&(this.handleChange(e),e.target.blur())}},{key:"handleFlush",value:function(){this.setState({value:null})}},{key:"handleChange",value:function(e){var t=!("number"==typeof this.props.value)||!isNaN(e.target.value);if(null!==e.target.value&&t){var n=Number(e.target.value);void 0!==this.props.max&&n>Number(this.props.max)&&(n=this.props.max),void 0!==this.props.min&&n<Number(this.props.min)&&(n=this.props.min),this.props.onSubmit(n)}this.setState({value:e.target.value})}},{key:"render",value:function(){var t=null===this.state.value?this.props.value:this.state.value;return s.default.createElement(e,i({},this.props,{value:t,onBlur:this.handleFlush,onChange:this.handleChange,onKeyPress:this.handleKeyPress}))}}]),n}();return t.propTypes={max:a.default.oneOfType([a.default.number,a.default.string]),min:a.default.oneOfType([a.default.number,a.default.string]),onSubmit:a.default.func.isRequired,value:a.default.oneOfType([a.default.string,a.default.number])},t};var o=l(n(5)),a=l(n(1)),s=l(n(0));function l(e){return e&&e.__esModule?e:{default:e}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.changeBitBrushSize=t.default=void 0;var i,r=n(7),o=(i=r)&&i.__esModule?i:{default:i};t.default=function(e,t){switch(void 0===e&&(e=10),t.type){case"scratch-paint/brush-mode/CHANGE_BIT_BRUSH_SIZE":return isNaN(t.brushSize)?(o.default.warn("Invalid brush size: "+t.brushSize),e):Math.max(1,t.brushSize);default:return e}},t.changeBitBrushSize=function(e){return{type:"scratch-paint/brush-mode/CHANGE_BIT_BRUSH_SIZE",brushSize:e}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.changeBrushSize=t.default=void 0;var i,r=n(7),o=(i=r)&&i.__esModule?i:{default:i};var a={brushSize:10};t.default=function(e,t){switch(void 0===e&&(e=a),t.type){case"scratch-paint/brush-mode/CHANGE_BRUSH_SIZE":return isNaN(t.brushSize)?(o.default.warn("Invalid brush size: "+t.brushSize),e):{brushSize:Math.max(1,t.brushSize)};default:return e}},t.changeBrushSize=function(e){return{type:"scratch-paint/brush-mode/CHANGE_BRUSH_SIZE",brushSize:e}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LOUPE_RADIUS=t.default=void 0;var i,r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=n(2),a=(i=o)&&i.__esModule?i:{default:i};var s=function(e){function t(e,n,i,r,o,a,s){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var l=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return l.onMouseDown=l.handleMouseDown,l.onMouseMove=l.handleMouseMove,l.canvas=e,l.pixelRatio=r,l.zoom=o,l.offsetX=a,l.offsetY=s,l.width=n*l.zoom*l.pixelRatio,l.height=i*l.zoom*l.pixelRatio,l.rect=e.getBoundingClientRect(),l.colorString="",l.pickX=-1,l.pickY=-1,l.hideLoupe=!0,l.bufferLoaded=!1,l.bufferCanvas=document.createElement("canvas"),l.bufferCanvas.width=e.width,l.bufferCanvas.height=e.height,l.bufferImage=new Image,l.bufferImage.onload=function(){l.bufferCanvas.getContext("2d").drawImage(l.bufferImage,0,0),l.bufferLoaded=!0},l.bufferImage.src=e.toDataURL(),l}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default.Tool),r(t,[{key:"handleMouseMove",value:function(e){this.pickX=(e.point.x-this.offsetX)*this.zoom*this.pixelRatio,this.pickY=(e.point.y-this.offsetY)*this.zoom*this.pixelRatio,this.hideLoupe=this.pickX>this.width||this.pickX<0||this.pickY>this.height||this.pickY<0}},{key:"handleMouseDown",value:function(){if(!this.hideLoupe){var e=this.getColorInfo(this.pickX,this.pickY,this.hideLoupe);if(!e)return;var t=e.color[0],n=e.color[1],i=e.color[2],r=function(e){var t=e.toString(16);return 1===t.length?"0"+t:t};this.colorString="#"+r(t)+r(n)+r(i)}}},{key:"getColorInfo",value:function(e,t,n){if(!this.bufferLoaded)return null;var i=this.bufferCanvas.getContext("2d");return{x:e,y:t,color:i.getImageData(e,t,1,1).data,data:i.getImageData(e-20,t-20,40,40).data,hideLoupe:n}}}]),t}();t.default=s,t.LOUPE_RADIUS=20},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},r=u(n(13)),o=u(n(0)),a=u(n(1)),s=u(n(49)),l=u(n(147));function u(e){return e&&e.__esModule?e:{default:e}}var c=function(e){var t=e.className,n=e.imgAlt,a=e.imgSrc,u=e.onClick,c=e.title,d=function(e,t){var n={};for(var i in e)t.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i]);return n}(e,["className","imgAlt","imgSrc","onClick","title"]);return o.default.createElement(s.default,i({className:(0,r.default)(t,l.default.modEditField),onClick:u},d),o.default.createElement("img",{alt:n,className:l.default.editFieldIcon,draggable:!1,src:a}),o.default.createElement("span",{className:l.default.editFieldTitle},c))};c.propTypes={className:a.default.string,imgAlt:a.default.string,imgSrc:a.default.string.isRequired,onClick:a.default.func.isRequired,title:a.default.string.isRequired},t.default=c},function(e,t,n){var i=n(167);e.exports=function(e){var t,n,r,o;if(t=/^((?:rgb|hs[lv]|cmyk|xyz|lab)a?)\s*\(([^\)]*)\)/.exec(e)){var a=t[1],s="cmyk"===(l=a.replace(/a$/,""))?4:3;n=i[l],r=t[2].replace(/^\s+|\s+$/g,"").split(/\s*,\s*/).map(function(e,t){return/%$/.test(e)&&t===s?parseFloat(e)/100:(/%$/.test(e),parseFloat(e))}),a===l&&r.push(1),o=void 0===r[s]?1:r[s],r=r.slice(0,s),n[l]=function(){return r}}else if(/^#[A-Fa-f0-9]+$/.test(e)){var l;s=(l=e.replace(/^#/,"")).length;n=i.rgb,r=(r=l.split(3===s?/(.)/:/(..)/)).filter(Boolean).map(function(e){return 3===s?parseInt(e+e,16):parseInt(e,16)}),o=1,n.rgb=function(){return r},r[0]||(r[0]=0),r[1]||(r[1]=0),r[2]||(r[2]=0)}else(n=i.keyword).keyword=function(){return e},r=e,o=1;var u={rgb:void 0,hsl:void 0,hsv:void 0,cmyk:void 0,keyword:void 0,hex:void 0};try{u.rgb=n.rgb(r)}catch(e){}try{u.hsl=n.hsl(r)}catch(e){}try{u.hsv=n.hsv(r)}catch(e){}try{u.cmyk=n.cmyk(r)}catch(e){}try{u.keyword=n.keyword(r)}catch(e){}return u.rgb&&(u.hex="#"+u.rgb.map(function(e){var t=e.toString(16);return 1===t.length?"0"+t:t}).join("")),u.rgb&&(u.rgba=u.rgb.concat(o)),u.hsl&&(u.hsla=u.hsl.concat(o)),u.hsv&&(u.hsva=u.hsv.concat(o)),u.cmyk&&(u.cmyka=u.cmyk.concat(o)),u}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=p(n(5)),o=n(8),a=p(n(2)),s=p(n(65)),l=p(n(1)),u=p(n(0)),c=n(9),d=n(42),h=p(n(165)),f=n(6);function p(e){return e&&e.__esModule?e:{default:e}}var m=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));(0,r.default)(n,["getHsv","handleHueChange","handleSaturationChange","handleBrightnessChange","handleTransparent","handleActivateEyeDropper"]);var i=n.getHsv(e.color);return n.state={hue:i[0],saturation:i[1],brightness:i[2]},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,u.default.Component),i(t,[{key:"componentWillReceiveProps",value:function(e){if(this.props.isEyeDropping&&this.props.color!==e.color){var t=this.getHsv(e.color);this.setState({hue:t[0],saturation:t[1],brightness:t[2]})}}},{key:"getHsv",value:function(e){var t,n,i=null===e,r=e===f.MIXED;return i||r?[50,100,100]:(t=e,(n=(0,s.default)(t).hsv)[0]=n[0]/3.6,0===n[1]&&0===n[2]&&(n[1]=100),n)}},{key:"handleHueChange",value:function(e){var t=this;this.setState({hue:e},function(){t.handleColorChange()})}},{key:"handleSaturationChange",value:function(e){var t=this;this.setState({saturation:e},function(){t.handleColorChange()})}},{key:"handleBrightnessChange",value:function(e){var t=this;this.setState({brightness:e},function(){t.handleColorChange()})}},{key:"handleColorChange",value:function(){var e,t,n;this.props.onChangeColor((e=this.state.hue,t=this.state.saturation,n=this.state.brightness,(0,s.default)("hsv("+3.6*e+", "+t+", "+n+")").hex))}},{key:"handleTransparent",value:function(){this.props.onChangeColor(null)}},{key:"handleActivateEyeDropper",value:function(){this.props.onActivateEyeDropper(a.default.tool,this.props.onChangeColor)}},{key:"render",value:function(){return u.default.createElement(h.default,{brightness:this.state.brightness,color:this.props.color,hue:this.state.hue,isEyeDropping:this.props.isEyeDropping,saturation:this.state.saturation,onActivateEyeDropper:this.handleActivateEyeDropper,onBrightnessChange:this.handleBrightnessChange,onChangeColor:this.props.onChangeColor,onHueChange:this.handleHueChange,onSaturationChange:this.handleSaturationChange,onTransparent:this.handleTransparent})}}]),t}();m.propTypes={color:l.default.string,isEyeDropping:l.default.bool.isRequired,onActivateEyeDropper:l.default.func.isRequired,onChangeColor:l.default.func.isRequired};t.default=(0,o.connect)(function(e){return{isEyeDropping:e.scratchPaint.color.eyeDropper.active}},function(e){return{clearSelectedItems:function(){e((0,c.clearSelectedItems)())},onActivateEyeDropper:function(t,n){e((0,d.activateEyeDropper)(t,n))}}})(m)},function(e,t){e.exports="data:image/svg+xml,%3C?xml version='1.0' encoding='UTF-8' standalone='no'?%3E %3Csvg width='20px' height='20px' viewBox='0 0 20 20' version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink'%3E %3C!-- Generator: Sketch 43.2 (39069) - http://www.bohemiancoding.com/sketch --%3E %3Ctitle%3Eno-fill%3C/title%3E %3Cdesc%3ECreated with Sketch.%3C/desc%3E %3Cdefs%3E%3C/defs%3E %3Cg id='Page-1' stroke='none' stroke-width='1' fill='none' fill-rule='evenodd' stroke-linecap='square'%3E %3Cg id='no-fill' stroke='%23FF661A' stroke-width='2'%3E %3Cpath d='M3,17 L17,3' id='Line'%3E%3C/path%3E %3C/g%3E %3C/g%3E %3C/svg%3E"},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=c(n(0)),r=c(n(1)),o=c(n(13)),a=n(6),s=c(n(67)),l=c(n(170)),u=c(n(169));function c(e){return e&&e.__esModule?e:{default:e}}var d=function(e){return i.default.createElement("div",{className:u.default.colorButton,onClick:e.onClick},i.default.createElement("div",{className:(0,o.default)(u.default.colorButtonSwatch,(n={},r=u.default.outlineSwatch,c=e.outline&&!(e.color===a.MIXED),r in n?Object.defineProperty(n,r,{value:c,enumerable:!0,configurable:!0,writable:!0}):n[r]=c,n)),style:{background:(t=e.color,t===a.MIXED||null===t?"white":t)}},null===e.color?i.default.createElement("img",{className:u.default.swatchIcon,draggable:!1,src:s.default}):e.color===a.MIXED?i.default.createElement("img",{className:u.default.swatchIcon,draggable:!1,src:l.default}):null),i.default.createElement("div",{className:u.default.colorButtonArrow},""));var t,n,r,c};d.propTypes={color:r.default.string,onClick:r.default.func.isRequired,outline:r.default.bool.isRequired},d.defaultProps={outline:!1},t.default=d},function(e,t){e.exports="data:image/svg+xml,%3C?xml version='1.0' encoding='UTF-8' standalone='no'?%3E %3Csvg width='20px' height='20px' viewBox='0 0 20 20' version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink'%3E %3C!-- Generator: Sketch 43.2 (39069) - http://www.bohemiancoding.com/sketch --%3E %3Ctitle%3Eeraser%3C/title%3E %3Cdesc%3ECreated with Sketch.%3C/desc%3E %3Cdefs%3E%3C/defs%3E %3Cg id='Page-1' stroke='none' stroke-width='1' fill='none' fill-rule='evenodd'%3E %3Cg id='eraser' fill='%23575E75'%3E %3Cpath d='M13.5370061,14.8291597 L10.9660545,14.8291597 L8.3016138,12.164719 L11.1686144,9.29771842 L15.1263216,13.2554257 L13.5370061,14.8291597 Z M16.7779633,12.6944908 L11.1686144,7.10072343 L8.3016138,4.23372287 C8.00556483,3.92209238 7.50695604,3.92209238 7.19532554,4.23372287 L3.22203673,8.20701169 C2.92598776,8.50306066 2.92598776,9.00166945 3.22203673,9.29771842 L6.10461881,12.164719 L10.0934891,16.1535893 C10.2337229,16.3094046 10.4362827,16.3873122 10.6388425,16.3873122 L13.8642181,16.3873122 C14.066778,16.3873122 14.2693378,16.3094046 14.4095715,16.1535893 L16.7779633,13.8007791 C17.0740122,13.5047301 17.0740122,13.0061213 16.7779633,12.6944908 L16.7779633,12.6944908 Z' id='eraser-icon'%3E%3C/path%3E %3C/g%3E %3C/g%3E %3C/svg%3E"},function(e,t){e.exports="data:image/svg+xml,%3C?xml version='1.0' encoding='UTF-8' standalone='no'?%3E %3Csvg width='20px' height='20px' viewBox='0 0 20 20' version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink'%3E %3C!-- Generator: Sketch 43.2 (39069) - http://www.bohemiancoding.com/sketch --%3E %3Ctitle%3Ebrush%3C/title%3E %3Cdesc%3ECreated with Sketch.%3C/desc%3E %3Cdefs%3E%3C/defs%3E %3Cg id='Page-1' stroke='none' stroke-width='1' fill='none' fill-rule='evenodd' stroke-linecap='round' stroke-linejoin='round'%3E %3Cg id='brush' stroke='%23575E75' stroke-width='0.5' fill='%23575E75'%3E %3Cpath d='M12.5787225,11.2102026 C11.6196284,12.1692967 10.9129274,12.6614634 10.3576624,12.8507583 C10.1936069,12.3459719 9.91597437,11.8790445 9.52476494,11.4878351 C9.12093585,11.0966257 8.65400846,10.8189932 8.14922209,10.6423179 C8.35113664,10.0870529 8.84330335,9.38035203 9.78977778,8.43387759 C12.0613164,6.14971929 16.0996074,3.36077461 16.8694066,4.13057382 C17.6392058,4.90037303 14.8502611,8.93866396 12.5787225,11.2102026 Z M8.39124334,15.4120104 C8.01569197,15.7748657 7.53110955,15.9621459 7.04652713,15.9855559 L7.04652713,15.9972609 L6.92538153,15.9972609 C3.67867934,16.114311 2.26127577,12.4389379 3.37581533,12.8252032 C4.84167714,13.3285186 5.43650205,12.602808 5.45951972,12.579398 C6.27119527,11.8068673 7.57956779,11.8068673 8.39124334,12.579398 C9.20291889,13.3636337 9.20291889,14.6394798 8.39124334,15.4120104 Z' id='bursh-icon'%3E%3C/path%3E %3C/g%3E %3C/g%3E %3C/svg%3E"},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=h(n(2)),a=h(n(7)),s=h(n(196)),l=h(n(195)),u=n(6),c=n(3),d=n(20);function h(e){return e&&e.__esModule?e:{default:e}}var f=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.broadBrushHelper=new s.default,this.segmentBrushHelper=new l.default,this.onUpdateSvg=t,this.clearSelectedItems=n,this.strokeColor=null,this.brushSize=null,this.fillColor=null}return r(e,null,[{key:"BROAD",get:function(){return"broadbrush"}},{key:"SEGMENT",get:function(){return"segmentbrush"}},{key:"THRESHOLD",get:function(){return 30/o.default.view.zoom}}]),r(e,[{key:"setOptions",value:function(e){var t=this.options?this.options.fillColor:"black",n=this.options?this.options.strokeColor:null,r=this.options?this.options.strokeWidth:null;this.options=i({},e,{fillColor:e.fillColor===u.MIXED?t:e.fillColor,strokeColor:e.strokeColor===u.MIXED?n:e.strokeColor,strokeWidth:null===e.strokeWidth?r:e.strokeWidth}),this.resizeCursorIfNeeded()}},{key:"activateTool",value:function(t){this.tool=new o.default.Tool,this.cursorPreviewLastPoint=new o.default.Point(-1e4,-1e4),this.setOptions(t),this.tool.active=!1,this.tool.fixedDistance=1;var n=this;this.tool.onMouseMove=function(e){n.resizeCursorIfNeeded(e.point),(0,u.styleCursorPreview)(n.cursorPreview,n.options),n.cursorPreview.bringToFront(),n.cursorPreview.position=e.point},this.tool.onMouseDown=function(t){n.resizeCursorIfNeeded(t.point),t.event.button>0||(this.active=!0,n.options.brushSize<e.THRESHOLD?(n.brush=e.BROAD,n.broadBrushHelper.onBroadMouseDown(t,n.tool,n.options)):(n.brush=e.SEGMENT,n.segmentBrushHelper.onSegmentMouseDown(t,n.tool,n.options)),n.cursorPreview.bringToFront(),n.cursorPreview.position=t.point)},this.tool.onMouseDrag=function(t){t.event.button>0||!this.active||(n.brush===e.BROAD?n.broadBrushHelper.onBroadMouseDrag(t,n.tool,n.options):n.brush===e.SEGMENT?n.segmentBrushHelper.onSegmentMouseDrag(t,n.tool,n.options):a.default.warn("Brush type does not exist: "+n.brush),n.cursorPreview.bringToFront(),n.cursorPreview.position=t.point)},this.tool.onMouseUp=function(t){if(!(t.event.button>0)&&this.active){var i=void 0;n.brush===e.BROAD?i=n.broadBrushHelper.onBroadMouseUp(t,n.tool,n.options):n.brush===e.SEGMENT?i=n.segmentBrushHelper.onSegmentMouseUp(t,n.tool,n.options):a.default.warn("Brush type does not exist: "+n.brush),n.options.isEraser?n.mergeEraser(i):n.mergeBrush(i),n.cursorPreview.remove(),n.onUpdateSvg(),n.cursorPreview.parent=(0,d.getGuideLayer)(),n.brush=null,this.fixedDistance=1,this.active=!1}},this.tool.activate()}},{key:"resizeCursorIfNeeded",value:function(e){this.options&&(this.cursorPreview&&!this.cursorPreview.parent&&(this.cursorPreview=null),this.cursorPreview&&this.brushSize===this.options.brushSize&&this.fillColor===this.options.fillColor&&this.strokeColor===this.options.strokeColor&&this.cursorPreviewLastPoint.equals(e)||(void 0!==e&&(this.cursorPreviewLastPoint=e),this.cursorPreview||(this.cursorPreview=new o.default.Shape.Ellipse({point:this.cursorPreviewLastPoint,size:this.options.brushSize/2}),this.cursorPreview.parent=(0,d.getGuideLayer)(),this.cursorPreview.data.isHelperItem=!0),this.cursorPreview.position=this.cursorPreviewLastPoint,this.cursorPreview.radius=this.options.brushSize/2,this.brushSize=this.options.brushSize,this.fillColor=this.options.fillColor,this.strokeColor=this.options.strokeColor,(0,u.styleCursorPreview)(this.cursorPreview,this.options)))}},{key:"mergeBrush",value:function(e){var t=this,n=(0,c.getItems)({match:function(n){return t.isMergeable(e,n)&&n.parent instanceof o.default.Layer}}),i=e,r=void 0;for(r=n.length-1;r>=0&&!this.touches(n[r],e);r--);for(var a=r;r>=0;r--)if(this.touches(n[r],e))if(n[r].getFillColor()){if(this.colorMatch(n[r],e)){for(var s=a;s>r;s--)this.touches(n[s],n[r]);var l=i.unite(n[r]);l.strokeColor=n[r].strokeColor,l.strokeWidth=n[r].strokeWidth,i===e?l.insertAbove(n[r]):(l.insertAbove(i),a--),i.remove(),i=l,n[r].remove(),n.splice(r,1)}}else;}},{key:"mergeEraser",value:function(e){var t=this,n=(0,c.getItems)({match:function(n){return n.selected&&t.isMergeable(e,n)&&t.touches(e,n)},class:o.default.PathItem});0===n.length&&((0,c.clearSelection)(this.clearSelectedItems),n=(0,c.getItems)({match:function(n){return t.isMergeable(e,n)&&t.touches(e,n)},class:o.default.PathItem}));for(var i=n.length-1;i>=0;i--)if(!(n[i]instanceof o.default.Path)||n[i].fillColor&&0!==n[i].fillColor._alpha){var r=n[i].subtract(e);r.insertBelow(n[i]);var a=[];if(n[i]instanceof o.default.Path&&!n[i].closed){for(var s=n[i].clone(),l=s.getIntersections(e),u=l.length-1;u>=0;u--){var d=s.splitAt(l[u]);d.insertAbove(s),a.push(d)}a.push(s)}for(var h=a.length-1;h>=0;h--){var f=a[h].getLocationAt(a[h].length/2).point;(e.contains(f)||r.contains(f))&&(a[h].remove(),a.splice(h,1))}r.children&&(this.separateCompoundPath(r),r.remove()),n[i].remove()}else{for(var p=[],m=n[i],g=m.getIntersections(e),v=g.length-1;v>=0;v--){var y=m.splitAt(g[v]);y&&(y.insertAbove(m),p.push(y))}p.push(m);for(var _=p.length-1;_>=0;_--){var b=p[_].getLocationAt(p[_].length/2).point;e.contains(b)&&(p[_].remove(),p.splice(_,1))}e.remove()}e.remove()}},{key:"separateCompoundPath",value:function(e){e.isClockwise()||e.reverse();for(var t=[],n=[],i=e.children.length-1;i>=0;i--){var r=e.children[i];r.isClockwise()?t.push(r):n.push(r)}t.sort(function(e,t){return e.area-t.area}),n.sort(function(e,t){return Math.abs(e.area)-Math.abs(t.area)});for(var o=0;o<t.length;o++){var a=t[o];a.copyAttributes(e),a.fillColor=e.fillColor,a.strokeColor=e.strokeColor,a.strokeWidth=e.strokeWidth,a.insertAbove(e);for(var s=a,l=n.length-1;l>=0;l--){var u=n[l];if(this.firstEnclosesSecond(a,u)){var c=s.subtract(u);c.insertAbove(e),s.remove(),s=c,u.remove(),n.splice(l,1)}}}}},{key:"colorMatch",value:function(e,t){return e.getFillColor().equals(t.getFillColor())&&(t.getStrokeColor()===e.getStrokeColor()||t.getStrokeColor()&&t.getStrokeColor().equals(e.getStrokeColor()))&&t.getStrokeWidth()===e.getStrokeWidth()&&this.touches(e,t)}},{key:"touches",value:function(e,t){return!!(e&&t&&e.intersects(t))||(this.firstEnclosesSecond(e,t)||this.firstEnclosesSecond(t,e))}},{key:"firstEnclosesSecond",value:function(e,t){return!!(e&&t&&t.firstSegment&&t.firstSegment.point&&e.hitTest(t.firstSegment.point))}},{key:"matchesAnyChild",value:function(e,t){var n=!0,i=!1,r=void 0;try{for(var o,a=e.children[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var s=o.value;if(s.children&&this.matchesAnyChild(t,s))return!0;if(t===s)return!0}}catch(e){i=!0,r=e}finally{try{!n&&a.return&&a.return()}finally{if(i)throw r}}return!1}},{key:"isMergeable",value:function(e,t){if(t instanceof o.default.PathItem)return(!e.children||!this.matchesAnyChild(e,t))&&t!==e}},{key:"deactivateTool",value:function(){this.cursorPreview&&(this.cursorPreview.remove(),this.cursorPreview=null),this.tool.remove(),this.tool=null}}]),e}();t.default=f},function(e,t){var n,i,r=e.exports={};function o(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function s(e){if(n===setTimeout)return setTimeout(e,0);if((n===o||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:o}catch(e){n=o}try{i="function"==typeof clearTimeout?clearTimeout:a}catch(e){i=a}}();var l,u=[],c=!1,d=-1;function h(){c&&l&&(c=!1,l.length?u=l.concat(u):d=-1,u.length&&f())}function f(){if(!c){var e=s(h);c=!0;for(var t=u.length;t;){for(l=u,u=[];++d<t;)l&&l[d].run();d=-1,t=u.length}l=null,c=!1,function(e){if(i===clearTimeout)return clearTimeout(e);if((i===a||!i)&&clearTimeout)return i=clearTimeout,clearTimeout(e);try{i(e)}catch(t){try{return i.call(null,e)}catch(t){return i.call(this,e)}}}(e)}}function p(e,t){this.fun=e,this.array=t}function m(){}r.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];u.push(new p(e,t)),1!==u.length||c||s(f)},p.prototype.run=function(){this.fun.apply(null,this.array)},r.title="browser",r.browser=!0,r.env={},r.argv=[],r.version="",r.versions={},r.on=m,r.addListener=m,r.once=m,r.off=m,r.removeListener=m,r.removeAllListeners=m,r.emit=m,r.prependListener=m,r.prependOnceListener=m,r.listeners=function(e){return[]},r.binding=function(e){throw new Error("process.binding is not supported")},r.cwd=function(){return"/"},r.chdir=function(e){throw new Error("process.chdir is not supported")},r.umask=function(){return 0}},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},r=s(n(1)),o=s(n(0)),a=s(n(202));function s(e){return e&&e.__esModule?e:{default:e}}var l,u,c,d,h=(l=601,u=987654321,c=4294967295,d=function(){var e=((u=36969*(65535&u)+(u>>16)&c)<<16)+(l=18e3*(65535&l)+(l>>16)&c)&c;return 1+(e/=4294967296)},function(){return"rgb("+Math.max(parseInt(100*d(),10)%256,1)+","+Math.max(parseInt(100*d(),10)%256,1)+","+Math.max(parseInt(100*d(),10)%256,1)+")"}),f=function(t){var n=t.alignContent,r=t.alignItems,a=t.alignSelf,s=t.basis,l=t.children,u=t.className,c=t.componentRef,d=t.direction,f=t.element,p=t.grow,m=t.height,g=t.justifyContent,v=t.width,y=t.wrap,_=t.shrink,b=t.style,w=function(e,t){var n={};for(var i in e)t.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i]);return n}(t,["alignContent","alignItems","alignSelf","basis","children","className","componentRef","direction","element","grow","height","justifyContent","width","wrap","shrink","style"]);return o.default.createElement(f,i({className:u,ref:c,style:Object.assign({alignContent:n,alignItems:r,alignSelf:a,flexBasis:s,flexDirection:d,flexGrow:p,flexShrink:_,flexWrap:y,justifyContent:g,width:v,height:m},e.env.DEBUG?{backgroundColor:h(),outline:"1px solid black"}:{},b)},w),l)};f.propTypes={alignContent:r.default.oneOf(["flex-start","flex-end","center","space-between","space-around","stretch"]),alignItems:r.default.oneOf(["flex-start","flex-end","center","baseline","stretch"]),alignSelf:r.default.oneOf(["auto","flex-start","flex-end","center","baseline","stretch"]),basis:r.default.oneOfType([r.default.number,r.default.oneOf(["auto"])]),children:r.default.node,className:r.default.string,componentRef:r.default.func,direction:r.default.oneOf(["row","row-reverse","column","column-reverse"]),element:r.default.string,grow:r.default.number,height:r.default.oneOfType([r.default.number,r.default.string]),justifyContent:r.default.oneOf(["flex-start","flex-end","center","space-between","space-around"]),shrink:r.default.number,style:a.default,width:r.default.oneOfType([r.default.number,r.default.string]),wrap:r.default.oneOf(["nowrap","wrap","wrap-reverse"])},f.defaultProps={element:"div",style:{}},t.default=f}).call(this,n(72))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={GLOBAL:{HIDE:"__react_tooltip_hide_event",REBUILD:"__react_tooltip_rebuild_event",SHOW:"__react_tooltip_show_event"}}},function(e,t){e.exports=require("react-dom")},function(e,t){e.exports="data:image/svg+xml,%3C?xml version='1.0' encoding='UTF-8'?%3E %3Csvg width='20px' height='20px' viewBox='0 0 20 20' version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink'%3E %3C!-- Generator: Sketch 49.3 (51167) - http://www.bohemiancoding.com/sketch --%3E %3Ctitle%3Ebrush%3C/title%3E %3Cdesc%3ECreated with Sketch.%3C/desc%3E %3Cdefs%3E%3C/defs%3E %3Cg id='brush' stroke='none' stroke-width='1' fill='none' fill-rule='evenodd'%3E %3Cpath d='M9.50062663,11.4981734 L10.4995734,11.4981734 L10.4995734,14.4990134 L9.49962669,14.4990134 L9.49962669,11.4991734 L6.49978668,11.4991734 L6.49978668,10.4992267 L9.50062663,10.4992267 L9.50062663,11.4981734 Z M13.4992134,3.5 L16.5000533,3.5 L16.5000533,4.49994667 L17.5,4.49994667 L17.5,7.49978668 L16.5000533,7.49978668 L16.5000533,8.4987334 L15.4991067,8.4987334 L15.4991067,9.49868007 L14.49916,9.49868007 L14.49916,10.4986267 L12.4992667,10.4986267 L12.4992667,11.4985734 L11.49932,11.4985734 L11.49932,10.4986267 L10.4993734,10.4986267 L10.4993734,9.49868007 L9.4994267,9.49868007 L9.4994267,7.49978668 L10.4993734,7.49978668 L10.4993734,6.49984001 L11.49932,6.49984001 L11.49932,5.49989334 L12.4992667,5.49989334 L12.4992667,4.49994667 L13.4992134,4.49994667 L13.4992134,3.5 Z M5.49954002,11.4987734 L6.49948669,11.4987734 L6.49948669,12.49972 L7.50043331,12.49972 L7.50043331,13.4996667 L8.50037998,13.4996667 L8.50037998,14.4996134 L9.50032665,14.4996134 L9.50032665,15.49956 L8.50037998,15.49956 L8.50037998,16.4985067 L4.49959336,16.4985067 L4.49959336,15.49956 L3.49964669,15.49956 L3.49964669,13.4996667 L5.49954002,13.4996667 L5.49954002,11.4987734 Z M2.5,13.4990667 L2.5,12.49912 L3.49994667,12.49912 L3.49994667,13.4990667 L2.5,13.4990667 Z' id='Combined-Shape' fill='%23575E75'%3E%3C/path%3E %3C/g%3E %3C/svg%3E"},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.shouldShowSendBackward=t.shouldShowBringForward=t.sendBackward=t.bringForward=t.sendToBack=t.bringToFront=void 0;var i=n(3);t.bringToFront=function(e){var t=(0,i.getSelectedRootItems)(),n=!0,r=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(n=(a=s.next()).done);n=!0)a.value.bringToFront()}catch(e){r=!0,o=e}finally{try{!n&&s.return&&s.return()}finally{if(r)throw o}}e()},t.sendToBack=function(e){for(var t=(0,i.getSelectedRootItems)(),n=t.length-1;n>=0;n--)t[n].sendToBack();e()},t.bringForward=function(e){var t=(0,i.getSelectedRootItems)();if(0!==t.length&&t[t.length-1].nextSibling){for(var n=t[t.length-1].nextSibling,r=t.length-1;r>=0;r--)t[r].insertAbove(n);e()}},t.sendBackward=function(e){var t=(0,i.getSelectedRootItems)();if(0!==t.length&&t[0].previousSibling){var n=t[0].previousSibling,r=!0,o=!1,a=void 0;try{for(var s,l=t[Symbol.iterator]();!(r=(s=l.next()).done);r=!0)s.value.insertBelow(n)}catch(e){o=!0,a=e}finally{try{!r&&l.return&&l.return()}finally{if(o)throw a}}e()}},t.shouldShowBringForward=function(){var e=(0,i.getSelectedRootItems)();return!(0===e.length||!e[e.length-1].nextSibling)},t.shouldShowSendBackward=function(){var e=(0,i.getSelectedRootItems)();return!(0===e.length||!e[0].previousSibling)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.shouldShowRedo=t.shouldShowUndo=t.performRedo=t.performUndo=t.performSnapshot=void 0;var i=l(n(2)),r=n(20),o=n(25),a=l(o),s=l(n(7));function l(e){return e&&e.__esModule?e:{default:e}}var u=function(e,t,n){for(var o=i.default.project.layers.length-1;o>=0;o--){var a=i.default.project.layers[o];a.data.isBackgroundGuideLayer||(a.removeChildren(),a.remove())}i.default.project.importJSON(e.json),t(),(0,r.getRaster)().onLoad=function(){n(!0)},(0,r.getRaster)().loaded&&(0,r.getRaster)().onLoad()};t.performSnapshot=function(e,t){var n=(0,r.hideGuideLayers)();e({json:i.default.project.exportJSON({asString:!1}),paintEditorFormat:t}),(0,r.showGuideLayers)(n)},t.performUndo=function(e,t,n,i){if(e.pointer>0){var r=e.stack[e.pointer-1];u(r,n,i);var l=(0,o.isVector)(r.paintEditorFormat)?a.default.VECTOR_SKIP_CONVERT:(0,o.isBitmap)(r.paintEditorFormat)?a.default.BITMAP_SKIP_CONVERT:null;l||s.default.error("Invalid format: "+r.paintEditorFormat),t(l)}},t.performRedo=function(e,t,n,i){if(e.pointer>=0&&e.pointer<e.stack.length-1){var r=e.stack[e.pointer+1];u(r,n,i);var l=(0,o.isVector)(r.paintEditorFormat)?a.default.VECTOR_SKIP_CONVERT:(0,o.isBitmap)(r.paintEditorFormat)?a.default.BITMAP_SKIP_CONVERT:null;l||s.default.error("Invalid format: "+r.paintEditorFormat),t(l)}},t.shouldShowUndo=function(e){return e.pointer>0},t.shouldShowRedo=function(e){return e.pointer>-1&&e.pointer!==e.stack.length-1}},function(e,t,n){"use strict";t.extend=function(e){var t,n,r,o,a=Array.prototype.slice.call(arguments,1);for(t=0,n=a.length;t<n;t+=1)if(r=a[t])for(o in r)i.call(r,o)&&(e[o]=r[o]);return e};var i=Object.prototype.hasOwnProperty;t.hop=i},function(e,t,n){"use strict";function i(e){var t,n=e.Symbol;return"function"==typeof n?n.observable?t=n.observable:(t=n("observable"),n.observable=t):t="@@observable",t}n.d(t,"a",function(){return i})},function(e,t,n){e.exports=function(){"use strict";var e={childContextTypes:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},t={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},n=Object.defineProperty,i=Object.getOwnPropertyNames,r=Object.getOwnPropertySymbols,o=Object.getOwnPropertyDescriptor,a=Object.getPrototypeOf,s=a&&a(Object);return function l(u,c,d){if("string"!=typeof c){if(s){var h=a(c);h&&h!==s&&l(u,h,d)}var f=i(c);r&&(f=f.concat(r(c)));for(var p=0;p<f.length;++p){var m=f[p];if(!(e[m]||t[m]||d&&d[m])){var g=o(c,m);try{n(u,m,g)}catch(e){}}}return u}return u}}()},function(e,t){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(37),r=l(n(42)),o=l(n(17)),a=l(n(23)),s=l(n(28));function l(e){return e&&e.__esModule?e:{default:e}}t.default=(0,i.combineReducers)({eyeDropper:r.default,fillColor:o.default,strokeColor:a.default,strokeWidth:s.default})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(37),r=v(n(14)),o=v(n(61)),a=v(n(62)),s=v(n(44)),l=v(n(83)),u=v(n(52)),c=v(n(50)),d=v(n(31)),h=v(n(43)),f=v(n(9)),p=v(n(38)),m=v(n(51)),g=v(n(35));function v(e){return e&&e.__esModule?e:{default:e}}t.default=(0,i.combineReducers)({mode:r.default,bitBrushSize:o.default,brushMode:a.default,color:l.default,clipboard:u.default,eraserMode:s.default,format:c.default,hoveredItemId:d.default,modals:h.default,selectedItems:f.default,textEditTarget:p.default,undo:g.default,viewBounds:m.default})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=u(n(2)),o=u(n(1)),a=u(n(0)),s=n(8),l=u(n(5));function u(e){return e&&e.__esModule?e:{default:e}}t.default=function(e){var t=function(t){function n(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n);var t=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,e));return(0,l.default)(t,["removeItemById"]),t}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(n,a.default.Component),i(n,[{key:"componentDidUpdate",value:function(e){(this.props.hoveredItemId&&this.props.hoveredItemId!==e.hoveredItemId||!this.props.hoveredItemId&&e.hoveredItemId)&&this.removeItemById(e.hoveredItemId)}},{key:"removeItemById",value:function(e){if(e){var t=r.default.project.getItem({match:function(t){return t.id===e}});t&&t.remove()}}},{key:"render",value:function(){var t=this.props,n=(t.hoveredItemId,function(e,t){var n={};for(var i in e)t.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i]);return n}(t,["hoveredItemId"]));return a.default.createElement(e,n)}}]),n}();t.propTypes={hoveredItemId:o.default.number};return(0,s.connect)(function(e){return{hoveredItemId:e.scratchPaint.hoveredItemId}})(t)}},function(e,t){e.exports="data:image/svg+xml,%3C?xml version='1.0'?%3E %3Csvg xmlns='http://www.w3.org/2000/svg' id='Layer_1' data-name='Layer 1' viewBox='6 6 24 24'%3E %3Cdefs%3E %3Cstyle%3E .cls-4%7Bfill:%23575e75;%7D %3C/style%3E %3C/defs%3E %3Ctitle%3Ezoom-reset%3C/title%3E %3Cg class='cls-3'%3E %3Crect class='cls-4' x='13' y='14' width='10' height='2' rx='1' ry='1'/%3E %3Crect class='cls-4' x='13' y='20' width='10' height='2' rx='1' ry='1'/%3E %3C/g%3E %3C/svg%3E"},function(e,t){e.exports="data:image/svg+xml,%3C?xml version='1.0'?%3E %3Csvg xmlns='http://www.w3.org/2000/svg' id='Layer_1' data-name='Layer 1' viewBox='6 6 24 24'%3E %3Cdefs%3E %3Cstyle%3E .cls-4%7Bfill:none;stroke:%23575e75;stroke-linecap:round;stroke-linejoin:round;stroke-width:1.5px;%7D %3C/style%3E %3C/defs%3E %3Ctitle%3Ezoom-out%3C/title%3E %3Cg class='cls-3'%3E %3Ccircle class='cls-4' cx='18' cy='18' r='7'/%3E %3Cline class='cls-4' x1='23' y1='23' x2='26' y2='26'/%3E %3Cline class='cls-4' x1='16' y1='18' x2='20' y2='18'/%3E %3C/g%3E %3C/svg%3E"},function(e,t){e.exports="data:image/svg+xml,%3C?xml version='1.0'?%3E %3Csvg xmlns='http://www.w3.org/2000/svg' id='Layer_1' data-name='Layer 1' viewBox='6 6 24 24'%3E %3Cdefs%3E %3Cstyle%3E .cls-4%7Bfill:none;stroke:%23575e75;stroke-linecap:round;stroke-linejoin:round;stroke-width:1.5px;%7D %3C/style%3E %3C/defs%3E %3Ctitle%3Ezoom-in%3C/title%3E %3Cg class='cls-3'%3E %3Ccircle class='cls-4' cx='18' cy='18' r='7'/%3E %3Cline class='cls-4' x1='23' y1='23' x2='26' y2='26'/%3E %3Cline class='cls-4' x1='16' y1='18' x2='20' y2='18'/%3E %3Cline class='cls-4' x1='18' y1='16' x2='18' y2='20'/%3E %3C/g%3E %3C/svg%3E"},function(e,t){e.exports="data:image/svg+xml,%3C?xml version='1.0' encoding='UTF-8' standalone='no'?%3E %3Csvg width='20px' height='20px' viewBox='0 0 20 20' version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink'%3E %3C!-- Generator: Sketch 43.2 (39069) - http://www.bohemiancoding.com/sketch --%3E %3Ctitle%3Eungroup%3C/title%3E %3Cdesc%3ECreated with Sketch.%3C/desc%3E %3Cdefs%3E%3C/defs%3E %3Cg id='Page-1' stroke='none' stroke-width='1' fill='none' fill-rule='evenodd'%3E %3Cg id='ungroup' stroke-width='0.75'%3E %3Cg id='ungroup-icon' transform='translate(10.000000, 10.000000) rotate(180.000000) translate(-10.000000, -10.000000) translate(2.000000, 2.000000)'%3E %3Crect id='Rectangle-3-Copy' stroke='%23575E75' fill='%23FFFFFF' x='6.5' y='6.5' width='8' height='8' rx='0.5'%3E%3C/rect%3E %3Crect id='Rectangle-3' stroke='%23575E75' fill='%23575E75' x='1.5' y='1.5' width='8' height='8' rx='0.5'%3E%3C/rect%3E %3Crect id='Rectangle-2' stroke='%234C97FF' fill='%23FFFFFF' stroke-linecap='round' stroke-linejoin='round' x='0' y='0' width='3' height='3'%3E%3C/rect%3E %3Crect id='Rectangle-2-Copy-2' stroke='%234C97FF' fill='%23FFFFFF' stroke-linecap='round' stroke-linejoin='round' x='8' y='0' width='3' height='3'%3E%3C/rect%3E %3Crect id='Rectangle-2-Copy' stroke='%234C97FF' fill='%23FFFFFF' stroke-linecap='round' stroke-linejoin='round' x='0' y='8' width='3' height='3'%3E%3C/rect%3E %3Crect id='Rectangle-2-Copy-3' stroke='%234C97FF' fill='%23FFFFFF' stroke-linecap='round' stroke-linejoin='round' x='8' y='8' width='3' height='3'%3E%3C/rect%3E %3Crect id='Rectangle-2-Copy-4' stroke='%234C97FF' fill='%23FFFFFF' stroke-linecap='round' stroke-linejoin='round' x='13' y='5' width='3' height='3'%3E%3C/rect%3E %3Crect id='Rectangle-2-Copy-5' stroke='%234C97FF' fill='%23FFFFFF' stroke-linecap='round' stroke-linejoin='round' x='13' y='13' width='3' height='3'%3E%3C/rect%3E %3Crect id='Rectangle-2-Copy-6' stroke='%234C97FF' fill='%23FFFFFF' stroke-linecap='round' stroke-linejoin='round' x='5' y='13' width='3' height='3'%3E%3C/rect%3E %3C/g%3E %3C/g%3E %3C/g%3E %3C/svg%3E"},function(e,t){e.exports="data:image/svg+xml,%3C?xml version='1.0' encoding='UTF-8' standalone='no'?%3E %3Csvg width='20px' height='20px' viewBox='0 0 20 20' version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink'%3E %3C!-- Generator: Sketch 43.2 (39069) - http://www.bohemiancoding.com/sketch --%3E %3Ctitle%3Eundo%3C/title%3E %3Cdesc%3ECreated with Sketch.%3C/desc%3E %3Cdefs%3E%3C/defs%3E %3Cg id='Page-1' stroke='none' stroke-width='1' fill='none' fill-rule='evenodd'%3E %3Cg id='undo' fill='%234C97FF'%3E %3Cpath d='M15.5581635,12.7700651 L11.8403972,16.4941315 C11.5610922,16.7671364 11.1830854,16.9211391 10.7903784,16.9211391 C10.3990715,16.9211391 10.0210647,16.7671364 9.74035971,16.4941315 L6.02399342,12.7700651 C5.5969858,12.3430574 5.47098355,11.7060461 5.70198767,11.1530362 C5.93299179,10.6000263 6.46500128,10.24302 7.06701202,10.24302 L8.40403587,10.24302 C8.36903525,9.92101423 8.27803362,9.55700774 8.12403088,9.17200087 C8.07573002,9.05999887 8.02602913,8.94799688 7.97002813,8.83599488 C7.89302676,8.70999263 7.90072689,8.67499201 7.79502501,8.52098926 C7.62702201,8.26898476 7.47301926,8.07998139 7.29031601,7.86297752 C6.9200094,7.4639704 6.47200141,7.12096429 5.99599292,6.86895979 C5.5129843,6.6169553 5.00897531,6.46295255 4.56096732,6.37895105 C4.11995945,6.30194968 3.71395221,6.29494955 3.47594796,6.29494955 C3.35694584,6.28794943 3.2029431,6.31594993 3.12594172,6.32295005 C3.04194022,6.32995018 2.99293935,6.3369503 2.99293935,6.3369503 C2.49593048,6.38595117 2.04792249,6.02194468 1.99892162,5.52493582 C1.95692087,5.10492832 2.20192524,4.72692158 2.57293186,4.58691908 C2.57293186,4.58691908 2.62193273,4.56591871 2.6989341,4.53791821 C2.78993573,4.50991771 2.87393723,4.46091684 3.06994072,4.40491584 C3.46194772,4.28591371 3.95895658,4.15991147 4.60996819,4.09691034 C5.25397968,4.04090934 6.03099354,4.05490959 6.85070816,4.22291259 C7.66902276,4.39791571 8.53003812,4.72692158 9.32805235,5.20293007 C9.7060591,5.44793444 10.1120663,5.73493956 10.427072,6.01494456 C10.5670745,6.11994643 10.8050787,6.35795068 10.9450812,6.5049533 C11.1060841,6.67295629 11.2530867,6.84095929 11.4007893,7.01596241 C11.9670994,7.7159749 12.3871069,8.47198839 12.6601118,9.15800062 C12.8211147,9.55000762 12.9331167,9.92101423 13.0171182,10.24302 L14.5151449,10.24302 C15.1171556,10.24302 15.6491651,10.6000263 15.8801692,11.1530362 C16.1111734,11.7060461 15.9851711,12.3430574 15.5581635,12.7700651' id='Fill-1' transform='translate(8.994247, 10.494247) scale(-1, 1) rotate(-45.000000) translate(-8.994247, -10.494247) '%3E%3C/path%3E %3C/g%3E %3C/g%3E %3C/svg%3E"},function(e,t){e.exports="data:image/svg+xml,%3C?xml version='1.0' encoding='UTF-8' standalone='no'?%3E %3Csvg width='20px' height='20px' viewBox='0 0 20 20' version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink'%3E %3C!-- Generator: Sketch 43.2 (39069) - http://www.bohemiancoding.com/sketch --%3E %3Ctitle%3Esend-front%3C/title%3E %3Cdesc%3ECreated with Sketch.%3C/desc%3E %3Cdefs%3E%3C/defs%3E %3Cg id='Page-1' stroke='none' stroke-width='1' fill='none' fill-rule='evenodd'%3E %3Cg id='send-front'%3E %3Cg transform='translate(2.000000, 3.000000)'%3E %3Cpath d='M12.3476736,5.92549723 L10.2407376,5.92549723 L9.33601611,12.7635981 C9.23807603,13.5476661 8.54025295,14.1003698 7.78121732,13.9846876 C7.16909181,13.8947126 6.69163391,13.3805697 6.6169546,12.7635981 L5.7122331,5.92549723 L3.65426714,5.92549723 C3.0678509,5.92549723 2.78504892,5.19284356 3.190276,4.76867564 L7.53514286,0.192803597 C7.79223558,-0.0642678658 8.20970517,-0.0642678658 8.45333113,0.192803597 L12.812889,4.76867564 C13.2168918,5.19284356 12.9230716,5.92549723 12.3476736,5.92549723' id='Fill-1' fill='%234C97FF'%3E%3C/path%3E %3Cpath d='M12,8 L16,8' id='Stroke-6' stroke='%23575E75' stroke-linecap='round' stroke-linejoin='round'%3E%3C/path%3E %3Cpath d='M12,10 L15,10' id='Stroke-6-Copy' stroke='%23575E75' opacity='0.75' stroke-linecap='round' stroke-linejoin='round'%3E%3C/path%3E %3Cpath d='M12,12 L14,12' id='Stroke-6-Copy-2' stroke='%23575E75' opacity='0.5' stroke-linecap='round' stroke-linejoin='round'%3E%3C/path%3E %3Cpath d='M0,8 L4,8' id='Stroke-10' stroke='%23575E75' stroke-linecap='round' stroke-linejoin='round'%3E%3C/path%3E %3Cpath d='M1,10 L4,10' id='Stroke-10-Copy' stroke='%23575E75' opacity='0.75' stroke-linecap='round' stroke-linejoin='round'%3E%3C/path%3E %3Cpath d='M2,12 L4,12' id='Stroke-10-Copy-2' stroke='%23575E75' opacity='0.5' stroke-linecap='round' stroke-linejoin='round'%3E%3C/path%3E %3C/g%3E %3C/g%3E %3C/g%3E %3C/svg%3E"},function(e,t){e.exports="data:image/svg+xml,%3C?xml version='1.0' encoding='UTF-8' standalone='no'?%3E %3Csvg width='20px' height='20px' viewBox='0 0 20 20' version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink'%3E %3C!-- Generator: Sketch 43.2 (39069) - http://www.bohemiancoding.com/sketch --%3E %3Ctitle%3Esend-forward%3C/title%3E %3Cdesc%3ECreated with Sketch.%3C/desc%3E %3Cdefs%3E%3C/defs%3E %3Cg id='Page-1' stroke='none' stroke-width='1' fill='none' fill-rule='evenodd'%3E %3Cg id='send-forward'%3E %3Cg transform='translate(2.000000, 3.000000)'%3E %3Cpath d='M12.3476736,5.92549723 L10.2407376,5.92549723 L9.33601611,12.7635981 C9.23807603,13.5476661 8.54025295,14.1003698 7.78121732,13.9846876 C7.16909181,13.8947126 6.69163391,13.3805697 6.6169546,12.7635981 L5.7122331,5.92549723 L3.65426714,5.92549723 C3.0678509,5.92549723 2.78504892,5.19284356 3.190276,4.76867564 L7.53514286,0.192803597 C7.79223558,-0.0642678658 8.20970517,-0.0642678658 8.45333113,0.192803597 L12.812889,4.76867564 C13.2168918,5.19284356 12.9230716,5.92549723 12.3476736,5.92549723' id='Fill-1' fill='%234C97FF'%3E%3C/path%3E %3Cpath d='M12,8 L16,8' id='Stroke-6' stroke='%23575E75' stroke-linecap='round' stroke-linejoin='round'%3E%3C/path%3E %3Cpath d='M0,8 L4,8' id='Stroke-10' stroke='%23575E75' stroke-linecap='round' stroke-linejoin='round'%3E%3C/path%3E %3C/g%3E %3C/g%3E %3C/g%3E %3C/svg%3E"},function(e,t){e.exports="data:image/svg+xml,%3C?xml version='1.0' encoding='UTF-8' standalone='no'?%3E %3Csvg width='20px' height='20px' viewBox='0 0 20 20' version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink'%3E %3C!-- Generator: Sketch 43.2 (39069) - http://www.bohemiancoding.com/sketch --%3E %3Ctitle%3Esend-backward%3C/title%3E %3Cdesc%3ECreated with Sketch.%3C/desc%3E %3Cdefs%3E%3C/defs%3E %3Cg id='Page-1' stroke='none' stroke-width='1' fill='none' fill-rule='evenodd'%3E %3Cg id='send-backward'%3E %3Cg id='send-forward' transform='translate(10.000000, 10.000000) rotate(180.000000) translate(-10.000000, -10.000000) translate(2.000000, 3.000000)'%3E %3Cpath d='M12.3476736,5.92549723 L10.2407376,5.92549723 L9.33601611,12.7635981 C9.23807603,13.5476661 8.54025295,14.1003698 7.78121732,13.9846876 C7.16909181,13.8947126 6.69163391,13.3805697 6.6169546,12.7635981 L5.7122331,5.92549723 L3.65426714,5.92549723 C3.0678509,5.92549723 2.78504892,5.19284356 3.190276,4.76867564 L7.53514286,0.192803597 C7.79223558,-0.0642678658 8.20970517,-0.0642678658 8.45333113,0.192803597 L12.812889,4.76867564 C13.2168918,5.19284356 12.9230716,5.92549723 12.3476736,5.92549723' id='Fill-1' fill='%234C97FF'%3E%3C/path%3E %3Cpath d='M12,8 L16,8' id='Stroke-6' stroke='%23575E75' stroke-linecap='round' stroke-linejoin='round'%3E%3C/path%3E %3Cpath d='M0,8 L4,8' id='Stroke-10' stroke='%23575E75' stroke-linecap='round' stroke-linejoin='round'%3E%3C/path%3E %3C/g%3E %3C/g%3E %3C/g%3E %3C/svg%3E"},function(e,t){e.exports="data:image/svg+xml,%3C?xml version='1.0' encoding='UTF-8' standalone='no'?%3E %3Csvg width='20px' height='20px' viewBox='0 0 20 20' version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink'%3E %3C!-- Generator: Sketch 43.2 (39069) - http://www.bohemiancoding.com/sketch --%3E %3Ctitle%3Esend-back%3C/title%3E %3Cdesc%3ECreated with Sketch.%3C/desc%3E %3Cdefs%3E%3C/defs%3E %3Cg id='Page-1' stroke='none' stroke-width='1' fill='none' fill-rule='evenodd'%3E %3Cg id='send-back'%3E %3Cg transform='translate(10.000000, 10.000000) rotate(180.000000) translate(-10.000000, -10.000000) translate(2.000000, 3.000000)'%3E %3Cpath d='M12.3476736,5.92549723 L10.2407376,5.92549723 L9.33601611,12.7635981 C9.23807603,13.5476661 8.54025295,14.1003698 7.78121732,13.9846876 C7.16909181,13.8947126 6.69163391,13.3805697 6.6169546,12.7635981 L5.7122331,5.92549723 L3.65426714,5.92549723 C3.0678509,5.92549723 2.78504892,5.19284356 3.190276,4.76867564 L7.53514286,0.192803597 C7.79223558,-0.0642678658 8.20970517,-0.0642678658 8.45333113,0.192803597 L12.812889,4.76867564 C13.2168918,5.19284356 12.9230716,5.92549723 12.3476736,5.92549723' id='Fill-1' fill='%234C97FF'%3E%3C/path%3E %3Cpath d='M12,8 L16,8' id='Stroke-6' stroke='%23575E75' stroke-linecap='round' stroke-linejoin='round'%3E%3C/path%3E %3Cpath d='M12,10 L15,10' id='Stroke-6-Copy' stroke='%23575E75' opacity='0.75' stroke-linecap='round' stroke-linejoin='round'%3E%3C/path%3E %3Cpath d='M12,12 L14,12' id='Stroke-6-Copy-2' stroke='%23575E75' opacity='0.5' stroke-linecap='round' stroke-linejoin='round'%3E%3C/path%3E %3Cpath d='M0,8 L4,8' id='Stroke-10' stroke='%23575E75' stroke-linecap='round' stroke-linejoin='round'%3E%3C/path%3E %3Cpath d='M1,10 L4,10' id='Stroke-10-Copy' stroke='%23575E75' opacity='0.75' stroke-linecap='round' stroke-linejoin='round'%3E%3C/path%3E %3Cpath d='M2,12 L4,12' id='Stroke-10-Copy-2' stroke='%23575E75' opacity='0.5' stroke-linecap='round' stroke-linejoin='round'%3E%3C/path%3E %3C/g%3E %3C/g%3E %3C/g%3E %3C/svg%3E"},function(e,t){e.exports="data:image/svg+xml,%3C?xml version='1.0' encoding='UTF-8' standalone='no'?%3E %3Csvg width='20px' height='20px' viewBox='0 0 20 20' version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink'%3E %3C!-- Generator: Sketch 43.2 (39069) - http://www.bohemiancoding.com/sketch --%3E %3Ctitle%3Eredo%3C/title%3E %3Cdesc%3ECreated with Sketch.%3C/desc%3E %3Cdefs%3E%3C/defs%3E %3Cg id='Page-1' stroke='none' stroke-width='1' fill='none' fill-rule='evenodd'%3E %3Cg id='redo' fill='%234C97FF'%3E %3Cpath d='M17.5581635,12.7700651 L13.8403972,16.4941315 C13.5610922,16.7671364 13.1830854,16.9211391 12.7903784,16.9211391 C12.3990715,16.9211391 12.0210647,16.7671364 11.7403597,16.4941315 L8.02399342,12.7700651 C7.5969858,12.3430574 7.47098355,11.7060461 7.70198767,11.1530362 C7.93299179,10.6000263 8.46500128,10.24302 9.06701202,10.24302 L10.4040359,10.24302 C10.3690352,9.92101423 10.2780336,9.55700774 10.1240309,9.17200087 C10.07573,9.05999887 10.0260291,8.94799688 9.97002813,8.83599488 C9.89302676,8.70999263 9.90072689,8.67499201 9.79502501,8.52098926 C9.62702201,8.26898476 9.47301926,8.07998139 9.29031601,7.86297752 C8.9200094,7.4639704 8.47200141,7.12096429 7.99599292,6.86895979 C7.5129843,6.6169553 7.00897531,6.46295255 6.56096732,6.37895105 C6.11995945,6.30194968 5.71395221,6.29494955 5.47594796,6.29494955 C5.35694584,6.28794943 5.2029431,6.31594993 5.12594172,6.32295005 C5.04194022,6.32995018 4.99293935,6.3369503 4.99293935,6.3369503 C4.49593048,6.38595117 4.04792249,6.02194468 3.99892162,5.52493582 C3.95692087,5.10492832 4.20192524,4.72692158 4.57293186,4.58691908 C4.57293186,4.58691908 4.62193273,4.56591871 4.6989341,4.53791821 C4.78993573,4.50991771 4.87393723,4.46091684 5.06994072,4.40491584 C5.46194772,4.28591371 5.95895658,4.15991147 6.60996819,4.09691034 C7.25397968,4.04090934 8.03099354,4.05490959 8.85070816,4.22291259 C9.66902276,4.39791571 10.5300381,4.72692158 11.3280524,5.20293007 C11.7060591,5.44793444 12.1120663,5.73493956 12.427072,6.01494456 C12.5670745,6.11994643 12.8050787,6.35795068 12.9450812,6.5049533 C13.1060841,6.67295629 13.2530867,6.84095929 13.4007893,7.01596241 C13.9670994,7.7159749 14.3871069,8.47198839 14.6601118,9.15800062 C14.8211147,9.55000762 14.9331167,9.92101423 15.0171182,10.24302 L16.5151449,10.24302 C17.1171556,10.24302 17.6491651,10.6000263 17.8801692,11.1530362 C18.1111734,11.7060461 17.9851711,12.3430574 17.5581635,12.7700651' id='Fill-1' transform='translate(10.994247, 10.494247) rotate(-45.000000) translate(-10.994247, -10.494247) '%3E%3C/path%3E %3C/g%3E %3C/g%3E %3C/svg%3E"},function(e,t){e.exports="data:image/svg+xml,%3C?xml version='1.0' encoding='UTF-8' standalone='no'?%3E %3Csvg width='20px' height='20px' viewBox='0 0 20 20' version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink'%3E %3C!-- Generator: Sketch 43.2 (39069) - http://www.bohemiancoding.com/sketch --%3E %3Ctitle%3Egroup%3C/title%3E %3Cdesc%3ECreated with Sketch.%3C/desc%3E %3Cdefs%3E%3C/defs%3E %3Cg id='Page-1' stroke='none' stroke-width='1' fill='none' fill-rule='evenodd'%3E %3Cg id='group' stroke-width='0.75'%3E %3Cg id='group-icon' transform='translate(2.000000, 2.000000)'%3E %3Crect id='Rectangle-2' stroke='%234C97FF' fill='%23FFFFFF' stroke-linecap='round' stroke-linejoin='round' x='0' y='0' width='3' height='3'%3E%3C/rect%3E %3Crect id='Rectangle-2-Copy-2' stroke='%234C97FF' fill='%23FFFFFF' stroke-linecap='round' stroke-linejoin='round' x='13' y='0' width='3' height='3'%3E%3C/rect%3E %3Crect id='Rectangle-2-Copy' stroke='%234C97FF' fill='%23FFFFFF' stroke-linecap='round' stroke-linejoin='round' x='0' y='13' width='3' height='3'%3E%3C/rect%3E %3Crect id='Rectangle-2-Copy-3' stroke='%234C97FF' fill='%23FFFFFF' stroke-linecap='round' stroke-linejoin='round' x='13' y='13' width='3' height='3'%3E%3C/rect%3E %3Cpath d='M1.5,3 L1.5,13' id='Line' stroke='%234C97FF' stroke-linecap='square'%3E%3C/path%3E %3Cpath d='M14.5,3 L14.5,13' id='Line-Copy' stroke='%234C97FF' stroke-linecap='square'%3E%3C/path%3E %3Cpath d='M13,1.5 L3,1.5' id='Line-Copy-2' stroke='%234C97FF' stroke-linecap='square'%3E%3C/path%3E %3Cpath d='M13,14.5 L3,14.5' id='Line-Copy-3' stroke='%234C97FF' stroke-linecap='square'%3E%3C/path%3E %3Cg id='Group' transform='translate(8.000000, 8.000000) rotate(180.000000) translate(-8.000000, -8.000000) translate(4.000000, 4.000000)' stroke='%23575E75'%3E %3Crect id='Rectangle-3-Copy' fill='%23FFFFFF' transform='translate(5.500000, 5.500000) rotate(180.000000) translate(-5.500000, -5.500000) ' x='3' y='3' width='5' height='5' rx='0.5'%3E%3C/rect%3E %3Crect id='Rectangle-3' fill='%23575E75' transform='translate(2.500000, 2.500000) rotate(180.000000) translate(-2.500000, -2.500000) ' x='0' y='0' width='5' height='5' rx='0.5'%3E%3C/rect%3E %3C/g%3E %3C/g%3E %3C/g%3E %3C/g%3E %3C/svg%3E"},function(e,t){e.exports="data:image/svg+xml,%3C?xml version='1.0' encoding='UTF-8' standalone='no'?%3E %3Csvg width='20px' height='20px' viewBox='0 0 20 20' version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink'%3E %3C!-- Generator: Sketch 47.1 (45422) - http://www.bohemiancoding.com/sketch --%3E %3Ctitle%3Ebitmap%3C/title%3E %3Cdesc%3ECreated with Sketch.%3C/desc%3E %3Cdefs%3E%3C/defs%3E %3Cg id='Page-1' stroke='none' stroke-width='1' fill='none' fill-rule='evenodd'%3E %3Cg id='bitmap' fill='%23FFFFFF'%3E %3Cpath d='M4,3 L16,3 L16,4 L4,4 L4,3 Z M2,5 L3,5 L3,13 L2,13 L2,5 Z M17,5 L18,5 L18,13 L17,13 L17,5 Z M2,13 L18,13 L18,15 L2,15 L2,13 Z M4,12 L16,12 L16,13 L4,13 L4,12 Z M5,11 L8,11 L8,12 L5,12 L5,11 Z M6,10 L7,10 L7,11 L6,11 L6,10 Z M9,11 L16,11 L16,12 L9,12 L9,11 Z M10,10 L15,10 L15,11 L10,11 L10,10 Z M11,9 L14,9 L14,10 L11,10 L11,9 Z M12,8 L13,8 L13,9 L12,9 L12,8 Z M16,12 L17,12 L17,13 L16,13 L16,12 Z M3,15 L17,15 L17,16 L3,16 L3,15 Z M3,4 L4,4 L4,5 L3,5 L3,4 Z M16,4 L17,4 L17,5 L16,5 L16,4 Z M4,16 L16,16 L16,17 L4,17 L4,16 Z' id='Combined-Shape'%3E%3C/path%3E %3C/g%3E %3C/g%3E %3C/svg%3E"},function(e,t,n){(t=e.exports=n(12)(!1)).push([e.i,'/* DO NOT EDIT\n@todo This file is copied from GUI and should be pulled out into a shared library.\nSee https://github.com/LLK/scratch-paint/issues/13 */\n\n/* DO NOT EDIT\n@todo This file is copied from GUI and should be pulled out into a shared library.\nSee https://github.com/LLK/scratch-paint/issues/13 */\n\n/* ACTUALLY, THIS IS EDITED ;)\nTHIS WAS CHANGED ON 10/25/2017 BY @mewtaylor TO ADD A VARIABLE FOR THE SMALLEST\nGRID UNITS.\n\nALSO EDITED ON 11/13/2017 TO ADD IN CONTANTS FOR LAYOUT FROM `layout-contents.js`*/\n\n/* layout contants from `layout-constants.js`, minus 1px */\n\n.paint-editor_editor-container_3ajxi {\n    display: -webkit-box;\n    display: -webkit-flex;\n    display: -ms-flexbox;\n    display: flex;\n    -webkit-box-orient: vertical;\n    -webkit-box-direction: normal;\n    -webkit-flex-direction: column;\n        -ms-flex-direction: column;\n            flex-direction: column;\n    padding: calc(3 * .25rem);\n}\n\n.paint-editor_row_1psvV {\n    display: -webkit-box;\n    display: -webkit-flex;\n    display: -ms-flexbox;\n    display: flex;\n    -webkit-box-orient: horizontal;\n    -webkit-box-direction: normal;\n    -webkit-flex-direction: row;\n        -ms-flex-direction: row;\n            flex-direction: row;\n    -webkit-box-align: center;\n    -webkit-align-items: center;\n        -ms-flex-align: center;\n            align-items: center;\n}\n\n.paint-editor_editor-container-top_23HHq {\n    border-bottom: 1px dashed #D9D9D9;\n    padding-bottom: calc(2 * .25rem);\n}\n\n.paint-editor_top-align-row_2Ky-F {\n    display: -webkit-box;\n    display: -webkit-flex;\n    display: -ms-flexbox;\n    display: flex;\n    padding-top: calc(5 * .25rem);\n    -webkit-box-orient: horizontal;\n    -webkit-box-direction: normal;\n    -webkit-flex-direction: row;\n        -ms-flex-direction: row;\n            flex-direction: row;\n}\n\n.paint-editor_row_1psvV + .paint-editor_row_1psvV {\n    margin-top: calc(2 * .25rem);\n}\n\n.paint-editor_costume-input_h0rTv {\n    width: 8rem;\n}\n\n.paint-editor_mod-dashed-border_1xeKo {\n    border-right: 1px dashed #D9D9D9;\n    padding-right: calc(2 * .25rem);\n}\n\n.paint-editor_mod-unselect_1pe_Z {\n    -webkit-user-select: none;\n       -moz-user-select: none;\n        -ms-user-select: none;\n            user-select: none;\n}\n\n.paint-editor_mod-labeled-icon-height_3hBCl {\n    height: 2.85rem; /* for the second row so the dashed borders are equal in size */\n}\n\n.paint-editor_button-group-button_1gq5A {\n    display: inline-block;\n    border: 1px solid #D9D9D9;\n    border-radius: 0;\n    border-left: none;\n    padding: .35rem;\n}\n\n.paint-editor_button-group-button_1gq5A:last-of-type {\n    border-top-right-radius: 0.25rem;\n    border-bottom-right-radius: 0.25rem;\n}\n\n.paint-editor_button-group-button_1gq5A:first-of-type {\n    border-left: 1px solid #D9D9D9;\n    border-top-left-radius: 0.25rem;\n    border-bottom-left-radius: 0.25rem;\n}\n\n.paint-editor_button-group-button_1gq5A.paint-editor_mod-left-border_3Rpmd {\n    border-left: 1px solid #D9D9D9;\n}\n\n.paint-editor_button-group-button_1gq5A.paint-editor_mod-no-right-border_3lvr3 {\n    border-right: none;\n}\n\n.paint-editor_button-group-button-icon_3BPxO {\n    width: 1.25rem;\n    height: 1.25rem;\n    vertical-align: middle;\n}\n\n.paint-editor_mod-context-menu_zJiKe {\n    display: -webkit-box;\n    display: -webkit-flex;\n    display: -ms-flexbox;\n    display: flex;\n    -webkit-box-orient: vertical;\n    -webkit-box-direction: normal;\n    -webkit-flex-direction: column;\n        -ms-flex-direction: column;\n            flex-direction: column;\n}\n\n.paint-editor_mod-top-divider_bylTW {\n    border-top: 1px solid #D9D9D9;\n}\n\n.paint-editor_mod-menu-item_383it {\n    display: -webkit-box;\n    display: -webkit-flex;\n    display: -ms-flexbox;\n    display: flex;\n    margin: 0 -.25rem;\n    min-width: 6.25rem;\n    padding: calc(3 * .25rem);\n    white-space: nowrap;\n    cursor: pointer;\n    -webkit-transition: 0.1s ease;\n    -o-transition: 0.1s ease;\n    transition: 0.1s ease;\n    -webkit-box-align: center;\n    -webkit-align-items: center;\n        -ms-flex-align: center;\n            align-items: center;\n    font-family: "Helvetica Neue", Helvetica, sans-serif;\n}\n\n.paint-editor_mod-disabled_khgMd {\n    cursor: auto;\n}\n\n.paint-editor_mod-menu-item_383it:hover {\n    background: hsla(215, 100%, 65%, 0.20);\n}\n\n.paint-editor_mod-disabled_khgMd:hover {\n    background-color: transparent;\n}\n\n.paint-editor_menu-item-icon_aAFlD {\n    margin-right: calc(2 * .25rem);\n}\n\n.paint-editor_mod-mode-tools_1IXSj {\n    margin-left: calc(2 * .25rem);\n}\n\n.paint-editor_mod-margin-right_1sq5N {\n    margin-right: calc(2 * .25rem);\n}\n\n.paint-editor_canvas-container_2rN98 {\n    width: 480px;\n    height: 360px;\n    -webkit-box-sizing: content-box;\n            box-sizing: content-box;\n    border: 1px solid #e8edf1;\n    border-radius: .25rem;\n    position: relative;\n    overflow: visible;\n}\n\n.paint-editor_with-eye-dropper_10z8i {\n    cursor: none;\n}\n\n.paint-editor_mode-selector_1edhd {\n    display: -webkit-box;\n    display: -webkit-flex;\n    display: -ms-flexbox;\n    display: flex;\n    margin-right: calc(2 * .25rem);\n    max-width: 6rem;\n    -webkit-box-orient: horizontal;\n    -webkit-box-direction: normal;\n    -webkit-flex-direction: row;\n        -ms-flex-direction: row;\n            flex-direction: row;\n    -webkit-flex-wrap: wrap;\n        -ms-flex-wrap: wrap;\n            flex-wrap: wrap;\n    -webkit-box-align: start;\n    -webkit-align-items: flex-start;\n        -ms-flex-align: start;\n            align-items: flex-start;\n    -webkit-align-content: flex-start;\n        -ms-flex-line-pack: start;\n            align-content: flex-start;\n    -webkit-box-pack: justify;\n    -webkit-justify-content: space-between;\n        -ms-flex-pack: justify;\n            justify-content: space-between;\n}\n\n.paint-editor_hidden_2XQlT {\n    display: none;\n}\n\n.paint-editor_zoom-controls_3Qe-- {\n    display: -webkit-box;\n    display: -webkit-flex;\n    display: -ms-flexbox;\n    display: flex;\n    -webkit-box-orient: horizontal;\n    -webkit-box-direction: reverse;\n    -webkit-flex-direction: row-reverse;\n        -ms-flex-direction: row-reverse;\n            flex-direction: row-reverse;\n}\n\n.paint-editor_color-picker-wrapper_1IC0W {\n    position: absolute;\n    top: 0;\n    left: 0;\n    width: 100%;\n    height: 100%;\n    pointer-events: none;\n    overflow: hidden;\n}\n\n.paint-editor_canvas-controls_e2K-q {\n    display: -webkit-box;\n    display: -webkit-flex;\n    display: -ms-flexbox;\n    display: flex;\n    margin-top: .25rem;\n    -webkit-box-pack: justify;\n    -webkit-justify-content: space-between;\n        -ms-flex-pack: justify;\n            justify-content: space-between;\n}\n\n.paint-editor_bitmap-tooltip_39ewY {\n    margin-left: .25rem;\n    max-width: 10rem;\n}\n\n.paint-editor_bitmap-button_GsX3L {\n    display: -webkit-box;\n    display: -webkit-flex;\n    display: -ms-flexbox;\n    display: flex;\n    border-radius: 5px;\n    background-color: #4C97FF;\n    padding: calc(2 * .25rem);\n    line-height: 1.5rem;\n    font-size: calc(3 * .25rem);\n    font-weight: bold;\n    color: white;\n    -webkit-box-pack: center;\n    -webkit-justify-content: center;\n        -ms-flex-pack: center;\n            justify-content: center;\n    opacity: .75;\n}\n\n.paint-editor_bitmap-button_GsX3L:active {\n    background-color: #4C97FF;\n    opacity: 1;\n}\n\n.paint-editor_bitmap-button-icon_wPoPh {\n    margin-right: calc(2 * .25rem);\n}\n\n@media only screen and (max-width: 1249px) {\n    .paint-editor_editor-container_3ajxi {\n        padding: calc(3 * .25rem) .25rem;\n    }\n\n    .paint-editor_mode-selector_1edhd {\n        margin-right: .25rem;\n        -webkit-box-orient: vertical;\n        -webkit-box-direction: normal;\n        -webkit-flex-direction: column;\n            -ms-flex-direction: column;\n                flex-direction: column;\n        -webkit-box-pack: start;\n        -webkit-justify-content: flex-start;\n            -ms-flex-pack: start;\n                justify-content: flex-start;\n    }\n}\n\n.paint-editor_text-area_3VRLj {\n    background: transparent;\n    border: none;\n    display: none;\n    font-family: Helvetica;\n    font-size: 30px;\n    outline: none;\n    overflow: hidden;\n    padding: 0px;\n    position: absolute;\n    resize: none;\n    white-space: nowrap;\n    margin: 0px;\n    -webkit-text-fill-color: transparent;\n    text-fill-color: transparent;\n}\n',""]),t.locals={"editor-container":"paint-editor_editor-container_3ajxi",editorContainer:"paint-editor_editor-container_3ajxi",row:"paint-editor_row_1psvV","editor-container-top":"paint-editor_editor-container-top_23HHq",editorContainerTop:"paint-editor_editor-container-top_23HHq","top-align-row":"paint-editor_top-align-row_2Ky-F",topAlignRow:"paint-editor_top-align-row_2Ky-F","costume-input":"paint-editor_costume-input_h0rTv",costumeInput:"paint-editor_costume-input_h0rTv","mod-dashed-border":"paint-editor_mod-dashed-border_1xeKo",modDashedBorder:"paint-editor_mod-dashed-border_1xeKo","mod-unselect":"paint-editor_mod-unselect_1pe_Z",modUnselect:"paint-editor_mod-unselect_1pe_Z","mod-labeled-icon-height":"paint-editor_mod-labeled-icon-height_3hBCl",modLabeledIconHeight:"paint-editor_mod-labeled-icon-height_3hBCl","button-group-button":"paint-editor_button-group-button_1gq5A",buttonGroupButton:"paint-editor_button-group-button_1gq5A","mod-left-border":"paint-editor_mod-left-border_3Rpmd",modLeftBorder:"paint-editor_mod-left-border_3Rpmd","mod-no-right-border":"paint-editor_mod-no-right-border_3lvr3",modNoRightBorder:"paint-editor_mod-no-right-border_3lvr3","button-group-button-icon":"paint-editor_button-group-button-icon_3BPxO",buttonGroupButtonIcon:"paint-editor_button-group-button-icon_3BPxO","mod-context-menu":"paint-editor_mod-context-menu_zJiKe",modContextMenu:"paint-editor_mod-context-menu_zJiKe","mod-top-divider":"paint-editor_mod-top-divider_bylTW",modTopDivider:"paint-editor_mod-top-divider_bylTW","mod-menu-item":"paint-editor_mod-menu-item_383it",modMenuItem:"paint-editor_mod-menu-item_383it","mod-disabled":"paint-editor_mod-disabled_khgMd",modDisabled:"paint-editor_mod-disabled_khgMd","menu-item-icon":"paint-editor_menu-item-icon_aAFlD",menuItemIcon:"paint-editor_menu-item-icon_aAFlD","mod-mode-tools":"paint-editor_mod-mode-tools_1IXSj",modModeTools:"paint-editor_mod-mode-tools_1IXSj","mod-margin-right":"paint-editor_mod-margin-right_1sq5N",modMarginRight:"paint-editor_mod-margin-right_1sq5N","canvas-container":"paint-editor_canvas-container_2rN98",canvasContainer:"paint-editor_canvas-container_2rN98","with-eye-dropper":"paint-editor_with-eye-dropper_10z8i",withEyeDropper:"paint-editor_with-eye-dropper_10z8i","mode-selector":"paint-editor_mode-selector_1edhd",modeSelector:"paint-editor_mode-selector_1edhd",hidden:"paint-editor_hidden_2XQlT","zoom-controls":"paint-editor_zoom-controls_3Qe--",zoomControls:"paint-editor_zoom-controls_3Qe--","color-picker-wrapper":"paint-editor_color-picker-wrapper_1IC0W",colorPickerWrapper:"paint-editor_color-picker-wrapper_1IC0W","canvas-controls":"paint-editor_canvas-controls_e2K-q",canvasControls:"paint-editor_canvas-controls_e2K-q","bitmap-tooltip":"paint-editor_bitmap-tooltip_39ewY",bitmapTooltip:"paint-editor_bitmap-tooltip_39ewY","bitmap-button":"paint-editor_bitmap-button_GsX3L",bitmapButton:"paint-editor_bitmap-button_GsX3L","bitmap-button-icon":"paint-editor_bitmap-button-icon_wPoPh",bitmapButtonIcon:"paint-editor_bitmap-button-icon_wPoPh","text-area":"paint-editor_text-area_3VRLj",textArea:"paint-editor_text-area_3VRLj"}},function(e,t,n){var i=n(98);"string"==typeof i&&(i=[[e.i,i,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};n(11)(i,r);i.locals&&(e.exports=i.locals)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={fullSizeEditorMinWidth:1250}},function(e,t){e.exports="data:image/svg+xml,%3C?xml version='1.0' encoding='UTF-8' standalone='no'?%3E %3Csvg width='20px' height='20px' viewBox='0 0 20 20' version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink'%3E %3C!-- Generator: Sketch 43.2 (39069) - http://www.bohemiancoding.com/sketch --%3E %3Ctitle%3Etext%3C/title%3E %3Cdesc%3ECreated with Sketch.%3C/desc%3E %3Cdefs%3E%3C/defs%3E %3Cg id='Page-1' stroke='none' stroke-width='1' fill='none' fill-rule='evenodd'%3E %3Cg id='text' fill='%23575E75'%3E %3Cpath d='M16,4.35294118 L16,6.85176471 C16,7.04941176 15.8447059,7.20470588 15.6470588,7.20470588 L14.8988235,7.20470588 C14.7576471,7.20470588 14.6164706,7.12 14.5741176,6.99294118 L14.2070588,6.11764706 L11.0588235,6.11764706 L11.0588235,14.2917647 L11.92,14.6164706 C12.0611765,14.6729412 12.16,14.8 12.16,14.9552941 L12.16,15.6470588 C12.16,15.8447059 11.9905882,16 11.8070588,16 L8.20705882,16 C8.02352941,16 7.85411765,15.8447059 7.85411765,15.6470588 L7.85411765,14.9552941 C7.85411765,14.8 7.95294118,14.6729412 8.08,14.6164706 L8.94117647,14.2917647 L8.94117647,6.11764706 L5.80705882,6.11764706 L5.44,6.99294118 C5.38352941,7.12 5.25647059,7.20470588 5.11529412,7.20470588 L4.35294118,7.20470588 C4.16941176,7.20470588 4,7.04941176 4,6.85176471 L4,4.35294118 C4,4.15529412 4.16941176,4 4.35294118,4 L15.6470588,4 C15.8447059,4 16,4.15529412 16,4.35294118' id='text-icon'%3E%3C/path%3E %3C/g%3E %3C/g%3E %3C/svg%3E"},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=s(n(0)),r=s(n(1)),o=s(n(10)),a=s(n(101));function s(e){return e&&e.__esModule?e:{default:e}}var l=function(e){return i.default.createElement(o.default,{imgDescriptor:{defaultMessage:"Text",description:"Label for the text tool",id:"paint.textMode.text"},imgSrc:a.default,isSelected:e.isSelected,onMouseDown:e.onMouseDown})};l.propTypes={isSelected:r.default.bool.isRequired,onMouseDown:r.default.func.isRequired},t.default=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=c(n(2)),o=c(n(4)),a=n(3),s=c(n(33)),l=c(n(32)),u=n(29);function c(e){return e&&e.__esModule?e:{default:e}}var d=function(e){function t(e,n,i,r,a){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var u=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return u.element=e,u.setSelectedItems=n,u.clearSelectedItems=i,u.onUpdateSvg=r,u.setTextEditTarget=a,u.boundingBoxTool=new s.default(o.default.TEXT,n,i,r),u.nudgeTool=new l.default(u.boundingBoxTool,r),u.lastEvent=null,u.onMouseDown=u.handleMouseDown,u.onMouseDrag=u.handleMouseDrag,u.onMouseUp=u.handleMouseUp,u.onMouseMove=u.handleMouseMove,u.onKeyUp=u.handleKeyUp,u.onKeyDown=u.handleKeyDown,u.textBox=null,u.guide=null,u.colorState=null,u.mode=null,u.active=!1,u.lastTypeEvent=null,u}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.default.Tool),i(t,null,[{key:"TOLERANCE",get:function(){return 6}},{key:"TEXT_EDIT_MODE",get:function(){return"TEXT_EDIT_MODE"}},{key:"SELECT_MODE",get:function(){return"SELECT_MODE"}},{key:"DOUBLE_CLICK_MILLIS",get:function(){return 250}},{key:"TYPING_TIMEOUT_MILLIS",get:function(){return 1e3}},{key:"TEXT_PADDING",get:function(){return 8}}]),i(t,[{key:"getBoundingBoxHitOptions",value:function(){return{segments:!0,stroke:!0,curves:!0,fill:!0,guide:!1,match:function(e){return e.item.data&&e.item.data.isHelperItem||e.item.selected},tolerance:t.TOLERANCE/r.default.view.zoom}}},{key:"getTextEditHitOptions",value:function(){return{class:r.default.PointText,segments:!0,stroke:!0,curves:!0,fill:!0,guide:!1,match:function(e){return e.item&&!e.item.selected},tolerance:t.TOLERANCE/r.default.view.zoom}}},{key:"onSelectionChanged",value:function(e){this.boundingBoxTool.onSelectionChanged(e)}},{key:"onTextEditCancelled",value:function(){this.endTextEdit(),this.textBox&&(this.mode=t.SELECT_MODE,this.textBox.selected=!0,this.setSelectedItems())}},{key:"onViewBoundsChanged",value:function(e){if(this.mode===t.TEXT_EDIT_MODE){var n=this.textBox.matrix;this.element.style.transform="translate(0px, "+this.textBox.internalBounds.y+"px)\n            matrix("+e.a+", "+e.b+", "+e.c+", "+e.d+",\n            "+e.tx+", "+e.ty+")\n            matrix("+n.a+", "+n.b+", "+n.c+", "+n.d+",\n            "+n.tx+", "+n.ty+")"}}},{key:"setColorState",value:function(e){this.colorState=e}},{key:"handleMouseMove",value:function(e){r.default.project.hitTestAll(e.point,this.getTextEditHitOptions()).length?document.body.style.cursor="text":document.body.style.cursor="auto"}},{key:"handleMouseDown",value:function(e){if(!(e.event.button>0)){this.active=!0;var n=this.mode,i=!1;this.lastEvent&&(i=e.event.timeStamp-this.lastEvent.event.timeStamp<t.DOUBLE_CLICK_MILLIS),this.lastEvent=e;var o=r.default.project.hitTest(e.point,this.getBoundingBoxHitOptions());if(i&&this.mode===t.SELECT_MODE&&o)(0,a.clearSelection)(this.clearSelectedItems),this.textBox=o.item,this.beginTextEdit(this.textBox.content,this.textBox.matrix);else if(this.boundingBoxTool.onMouseDown(e,!1,!1,this.getBoundingBoxHitOptions()))return;n===t.SELECT_MODE?((0,a.clearSelection)(this.clearSelectedItems),this.mode=null):n===t.TEXT_EDIT_MODE&&this.endTextEdit();var s=r.default.project.hitTestAll(e.point,this.getTextEditHitOptions());s.length?((0,a.clearSelection)(this.clearSelectedItems),this.textBox=s[0].item,this.beginTextEdit(this.textBox.content,this.textBox.matrix)):n===t.TEXT_EDIT_MODE?this.textBox&&(this.mode=t.SELECT_MODE,this.textBox.selected=!0,this.setSelectedItems()):(this.textBox=new r.default.PointText({point:e.point,content:"",font:"Helvetica",fontSize:30,fillColor:this.colorState.fillColor,leading:34.61}),this.beginTextEdit(this.textBox.content,this.textBox.matrix))}}},{key:"handleMouseDrag",value:function(e){e.event.button>0||!this.active||this.mode!==t.SELECT_MODE||this.boundingBoxTool.onMouseDrag(e)}},{key:"handleMouseUp",value:function(e){if(!(e.event.button>0)&&this.active)return this.mode===t.SELECT_MODE?(this.boundingBoxTool.onMouseUp(e),void(this.isBoundingBoxMode=null)):void(this.active=!1)}},{key:"handleKeyUp",value:function(e){e.event.target instanceof HTMLInputElement||this.mode===t.SELECT_MODE&&this.nudgeTool.onKeyUp(e)}},{key:"handleKeyDown",value:function(e){e.event.target instanceof HTMLInputElement||(this.mode===t.TEXT_EDIT_MODE&&"escape"===e.key&&this.endTextEdit(),this.mode===t.SELECT_MODE&&this.nudgeTool.onKeyDown(e))}},{key:"handleTextInput",value:function(e){this.lastTypeEvent&&e.timeStamp-this.lastTypeEvent.timeStamp>t.TYPING_TIMEOUT_MILLIS&&this.onUpdateSvg(),this.lastTypeEvent=e,this.mode===t.TEXT_EDIT_MODE&&(this.textBox.content=this.element.value),this.resizeGuide()}},{key:"resizeGuide",value:function(){this.guide&&this.guide.remove(),this.guide=(0,u.hoverBounds)(this.textBox,t.TEXT_PADDING),this.guide.dashArray=[4,4],this.element.style.width=this.textBox.internalBounds.width+"px",this.element.style.height=this.textBox.internalBounds.height+"px"}},{key:"beginTextEdit",value:function(e,n){this.mode=t.TEXT_EDIT_MODE,this.setTextEditTarget(this.textBox.id);var i=r.default.view.matrix;this.element.style.display="initial",this.element.value=e||"",this.element.style.transformOrigin=-this.textBox.internalBounds.x+"px "+-this.textBox.internalBounds.y+"px",this.element.style.transform="translate(0px, "+this.textBox.internalBounds.y+"px)\n            matrix("+i.a+", "+i.b+", "+i.c+", "+i.d+",\n            "+i.tx+", "+i.ty+")\n            matrix("+n.a+", "+n.b+", "+n.c+", "+n.d+",\n            "+n.tx+", "+n.ty+")",this.element.focus({preventScroll:!0}),this.eventListener=this.handleTextInput.bind(this),this.element.addEventListener("input",this.eventListener),this.resizeGuide()}},{key:"endTextEdit",value:function(){this.mode===t.TEXT_EDIT_MODE&&(this.mode=null,this.textBox&&""===this.textBox.content.trim()&&(this.textBox.remove(),this.textBox=null),this.guide&&(this.guide.remove(),this.guide=null,this.setTextEditTarget()),this.element.style.display="none",this.eventListener&&(this.element.removeEventListener("input",this.eventListener),this.eventListener=null),this.lastTypeEvent=null,this.textBox&&this.textBox.content.trim().length&&this.onUpdateSvg())}},{key:"deactivateTool",value:function(){this.textBox&&""===this.textBox.content.trim()&&(this.textBox.remove(),this.textBox=null),this.endTextEdit(),this.boundingBoxTool.removeBoundsPath()}}]),t}();t.default=d},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=_(n(2)),o=_(n(1)),a=_(n(0)),s=n(8),l=_(n(5)),u=_(n(4)),c=n(6),d=n(17),h=n(23),f=n(14),p=n(38),m=n(9),g=n(3),v=_(n(103)),y=_(n(102));function _(e){return e&&e.__esModule?e:{default:e}}var b=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return(0,l.default)(n,["activateTool","deactivateTool"]),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default.Component),i(t,[{key:"componentDidMount",value:function(){this.props.isTextModeActive&&this.activateTool(this.props)}},{key:"componentWillReceiveProps",value:function(e){this.tool&&e.colorState!==this.props.colorState&&this.tool.setColorState(e.colorState),this.tool&&e.selectedItems!==this.props.selectedItems&&this.tool.onSelectionChanged(e.selectedItems),this.tool&&!e.textEditTarget&&this.props.textEditTarget&&this.tool.onTextEditCancelled(),this.tool&&!e.viewBounds.equals(this.props.viewBounds)&&this.tool.onViewBoundsChanged(e.viewBounds),e.isTextModeActive&&!this.props.isTextModeActive?this.activateTool():!e.isTextModeActive&&this.props.isTextModeActive&&this.deactivateTool()}},{key:"shouldComponentUpdate",value:function(e){return e.isTextModeActive!==this.props.isTextModeActive}},{key:"activateTool",value:function(){(0,g.clearSelection)(this.props.clearSelectedItems);var e=this.props.colorState,t=e.fillColor,n=e.strokeColor,i=e.strokeWidth,r=t!==c.MIXED&&null!==t,o=n!==c.MIXED&&null!==n&&null!==i&&0!==i;r||o?!r&&o?this.props.onChangeFillColor(null):r&&!o&&this.props.onChangeStrokeColor(null):(this.props.onChangeFillColor(d.DEFAULT_COLOR),this.props.onChangeStrokeColor(null)),this.tool=new v.default(this.props.textArea,this.props.setSelectedItems,this.props.clearSelectedItems,this.props.onUpdateSvg,this.props.setTextEditTarget),this.tool.setColorState(this.props.colorState),this.tool.activate()}},{key:"deactivateTool",value:function(){this.tool.deactivateTool(),this.tool.remove(),this.tool=null}},{key:"render",value:function(){return a.default.createElement(y.default,{isSelected:this.props.isTextModeActive,onMouseDown:this.props.handleMouseDown})}}]),t}();b.propTypes={clearSelectedItems:o.default.func.isRequired,colorState:o.default.shape({fillColor:o.default.string,strokeColor:o.default.string,strokeWidth:o.default.number}).isRequired,handleMouseDown:o.default.func.isRequired,isTextModeActive:o.default.bool.isRequired,onChangeFillColor:o.default.func.isRequired,onChangeStrokeColor:o.default.func.isRequired,onUpdateSvg:o.default.func.isRequired,selectedItems:o.default.arrayOf(o.default.instanceOf(r.default.Item)),setSelectedItems:o.default.func.isRequired,setTextEditTarget:o.default.func.isRequired,textArea:o.default.instanceOf(Element),textEditTarget:o.default.number,viewBounds:o.default.instanceOf(r.default.Matrix).isRequired};t.default=(0,s.connect)(function(e){return{colorState:e.scratchPaint.color,isTextModeActive:e.scratchPaint.mode===u.default.TEXT,selectedItems:e.scratchPaint.selectedItems,textEditTarget:e.scratchPaint.textEditTarget,viewBounds:e.scratchPaint.viewBounds}},function(e){return{clearSelectedItems:function(){e((0,m.clearSelectedItems)())},setSelectedItems:function(){e((0,m.setSelectedItems)((0,g.getSelectedLeafItems)()))},setTextEditTarget:function(t){e((0,p.setTextEditTarget)(t))},handleMouseDown:function(){e((0,f.changeMode)(u.default.TEXT))},onChangeFillColor:function(t){e((0,d.changeFillColor)(t))},onChangeStrokeColor:function(t){e((0,h.changeStrokeColor)(t))}}})(b)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=u(n(0)),r=u(n(1)),o=u(n(39)),a=u(n(30)),s=u(n(60)),l=n(28);function u(e){return e&&e.__esModule?e:{default:e}}var c=(0,s.default)(o.default),d=function(e){return i.default.createElement(a.default,{disabled:e.disabled},i.default.createElement(c,{range:!0,small:!0,disabled:e.disabled,max:l.MAX_STROKE_WIDTH,min:"0",type:"number",value:e.strokeWidth?e.strokeWidth:0,onSubmit:e.onChangeStrokeWidth}))};d.propTypes={disabled:r.default.bool.isRequired,onChangeStrokeWidth:r.default.func.isRequired,strokeWidth:r.default.number},t.default=d},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=n(8),o=h(n(1)),a=h(n(0)),s=h(n(5)),l=n(28),u=h(n(105)),c=n(6),d=h(n(4));function h(e){return e&&e.__esModule?e:{default:e}}var f=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return(0,s.default)(n,["handleChangeStrokeWidth"]),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default.Component),i(t,[{key:"handleChangeStrokeWidth",value:function(e){(0,c.applyStrokeWidthToSelection)(e,this.props.textEditTarget)&&this.props.onUpdateSvg(),this.props.onChangeStrokeWidth(e)}},{key:"render",value:function(){return a.default.createElement(u.default,{disabled:this.props.disabled,strokeWidth:this.props.strokeWidth,onChangeStrokeWidth:this.handleChangeStrokeWidth})}}]),t}();f.propTypes={disabled:o.default.bool.isRequired,onChangeStrokeWidth:o.default.func.isRequired,onUpdateSvg:o.default.func.isRequired,strokeWidth:o.default.number,textEditTarget:o.default.number},t.default=(0,r.connect)(function(e){return{disabled:e.scratchPaint.mode===d.default.BRUSH||e.scratchPaint.mode===d.default.TEXT,strokeWidth:e.scratchPaint.color.strokeWidth,textEditTarget:e.scratchPaint.textEditTarget}},function(e){return{onChangeStrokeWidth:function(t){e((0,l.changeStrokeWidth)(t))}}})(f)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=d(n(0)),r=d(n(1)),o=d(n(48)),a=n(21),s=d(n(68)),l=d(n(66)),u=d(n(30)),c=d(n(41));function d(e){return e&&e.__esModule?e:{default:e}}var h=(0,a.defineMessages)({stroke:{id:"paint.paintEditor.stroke",defaultMessage:"Outline"}}),f=function(e){return i.default.createElement(u.default,{className:e.className,disabled:e.disabled},i.default.createElement(o.default,{body:i.default.createElement(l.default,{color:e.strokeColor,onChangeColor:e.onChangeStrokeColor}),isOpen:e.strokeColorModalVisible,preferPlace:"below",onOuterAction:e.onCloseStrokeColor},i.default.createElement(c.default,{text:e.intl.formatMessage(h.stroke)},i.default.createElement(s.default,{outline:!0,color:e.strokeColor,onClick:e.onOpenStrokeColor}))))};f.propTypes={className:r.default.string,disabled:r.default.bool.isRequired,intl:a.intlShape,onChangeStrokeColor:r.default.func.isRequired,onCloseStrokeColor:r.default.func.isRequired,onOpenStrokeColor:r.default.func.isRequired,strokeColor:r.default.string,strokeColorModalVisible:r.default.bool.isRequired},t.default=(0,a.injectIntl)(f)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=n(8),a=p(n(1)),s=p(n(0)),l=p(n(5)),u=n(23),c=n(43),d=p(n(4)),h=p(n(107)),f=n(6);function p(e){return e&&e.__esModule?e:{default:e}}var m=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return(0,l.default)(n,["handleChangeStrokeColor","handleCloseStrokeColor"]),n._hasChanged=!1,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,s.default.Component),r(t,[{key:"componentWillReceiveProps",value:function(e){var t=this.props,n=t.strokeColorModalVisible,i=t.onUpdateSvg;n&&!e.strokeColorModalVisible&&(this._hasChanged&&i(),this._hasChanged=!1)}},{key:"handleChangeStrokeColor",value:function(e){var t=(0,f.applyStrokeColorToSelection)(e,this.props.textEditTarget);this._hasChanged=this._hasChanged||t,this.props.onChangeStrokeColor(e)}},{key:"handleCloseStrokeColor",value:function(){this.props.isEyeDropping||this.props.onCloseStrokeColor()}},{key:"render",value:function(){return s.default.createElement(h.default,i({},this.props,{onChangeStrokeColor:this.handleChangeStrokeColor,onCloseStrokeColor:this.handleCloseStrokeColor}))}}]),t}();m.propTypes={disabled:a.default.bool.isRequired,isEyeDropping:a.default.bool.isRequired,onChangeStrokeColor:a.default.func.isRequired,onCloseStrokeColor:a.default.func.isRequired,onUpdateSvg:a.default.func.isRequired,strokeColor:a.default.string,strokeColorModalVisible:a.default.bool.isRequired,textEditTarget:a.default.number},t.default=(0,o.connect)(function(e){return{disabled:e.scratchPaint.mode===d.default.BRUSH||e.scratchPaint.mode===d.default.TEXT,isEyeDropping:e.scratchPaint.color.eyeDropper.active,strokeColor:e.scratchPaint.color.strokeColor,strokeColorModalVisible:e.scratchPaint.modals.strokeColor,textEditTarget:e.scratchPaint.textEditTarget}},function(e){return{onChangeStrokeColor:function(t){e((0,u.changeStrokeColor)(t))},onOpenStrokeColor:function(){e((0,c.openStrokeColor)())},onCloseStrokeColor:function(){e((0,c.closeStrokeColor)())}}})(m)},function(e,t){e.exports="data:image/svg+xml,%3C?xml version='1.0' encoding='UTF-8' standalone='no'?%3E %3Csvg width='20px' height='20px' viewBox='0 0 20 20' version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink'%3E %3C!-- Generator: Sketch 43.2 (39069) - http://www.bohemiancoding.com/sketch --%3E %3Ctitle%3Eselect%3C/title%3E %3Cdesc%3ECreated with Sketch.%3C/desc%3E %3Cdefs%3E%3C/defs%3E %3Cg id='Page-1' stroke='none' stroke-width='1' fill='none' fill-rule='evenodd'%3E %3Cg id='select' fill='%23575E75'%3E %3Cpath d='M9.08480709,12.7519131 L10.2692937,15.3910753 C10.5025281,15.912848 11.1105098,16.1432755 11.6267701,15.9075508 C12.1430304,15.6705018 12.3710236,15.0560284 12.1377892,14.53558 L10.9669627,11.925728 L13.925853,11.925728 C14.5130486,11.925728 14.7937693,11.2121948 14.3623865,10.8190495 L7.0791007,4.17004294 C6.6670336,3.7934914 6,4.08324462 6,4.63849857 L6,14.5028722 C6,15.0900373 6.73013138,15.3657496 7.12288282,14.9279287 L9.08480709,12.7519131 Z' id='select-icon'%3E%3C/path%3E %3C/g%3E %3C/g%3E %3C/svg%3E"},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=s(n(0)),r=s(n(1)),o=s(n(10)),a=s(n(109));function s(e){return e&&e.__esModule?e:{default:e}}var l=function(e){return i.default.createElement(o.default,{imgDescriptor:{defaultMessage:"Select",description:"Label for the select tool, which allows selecting, moving, and resizing shapes",id:"paint.selectMode.select"},imgSrc:a.default,isSelected:e.isSelected,onMouseDown:e.onMouseDown})};l.propTypes={isSelected:r.default.bool.isRequired,onMouseDown:r.default.func.isRequired},t.default=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=d(n(4)),o=n(40),a=n(3),s=d(n(33)),l=d(n(32)),u=d(n(58)),c=d(n(2));function d(e){return e&&e.__esModule?e:{default:e}}var h=function(e){function t(e,n,i,o,c){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var d=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));d.setHoveredItem=e,d.clearHoveredItem=n,d.onUpdateSvg=c,d.boundingBoxTool=new s.default(r.default.SELECT,i,o,c);var h=new l.default(d.boundingBoxTool,c);return d.selectionBoxTool=new u.default(r.default.SELECT,i,o),d.selectionBoxMode=!1,d.prevHoveredItemId=null,d.active=!1,d.onMouseDown=d.handleMouseDown,d.onMouseMove=d.handleMouseMove,d.onMouseDrag=d.handleMouseDrag,d.onMouseUp=d.handleMouseUp,d.onKeyUp=h.onKeyUp,d.onKeyDown=h.onKeyDown,(0,a.selectRootItem)(),i(),d.boundingBoxTool.setSelectionBounds(),d}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,c.default.Tool),i(t,null,[{key:"TOLERANCE",get:function(){return 6}}]),i(t,[{key:"setPrevHoveredItemId",value:function(e){this.prevHoveredItemId=e}},{key:"onSelectionChanged",value:function(e){this.boundingBoxTool.onSelectionChanged(e)}},{key:"getHitOptions",value:function(e){var n={segments:!0,stroke:!0,curves:!0,fill:!0,guide:!1,tolerance:t.TOLERANCE/c.default.view.zoom};return e&&(n.selected=!0),n}},{key:"handleMouseDown",value:function(e){e.event.button>0||(this.active=!0,this.clearHoveredItem(),this.boundingBoxTool.onMouseDown(e,e.modifiers.alt,e.modifiers.shift,this.getHitOptions(!1))||(this.selectionBoxMode=!0,this.selectionBoxTool.onMouseDown(e.modifiers.shift)))}},{key:"handleMouseMove",value:function(e){var t=(0,o.getHoveredItem)(e,this.getHitOptions());(!t&&this.prevHoveredItemId||t&&!this.prevHoveredItemId||t&&this.prevHoveredItemId&&t.id!==this.prevHoveredItemId)&&this.setHoveredItem(t?t.id:null)}},{key:"handleMouseDrag",value:function(e){e.event.button>0||!this.active||(this.selectionBoxMode?this.selectionBoxTool.onMouseDrag(e):this.boundingBoxTool.onMouseDrag(e))}},{key:"handleMouseUp",value:function(e){e.event.button>0||!this.active||(this.selectionBoxMode?this.selectionBoxTool.onMouseUp(e):this.boundingBoxTool.onMouseUp(e),this.selectionBoxMode=!1,this.active=!1)}},{key:"deactivateTool",value:function(){this.clearHoveredItem(),this.boundingBoxTool.removeBoundsPath(),this.setHoveredItem=null,this.clearHoveredItem=null,this.onUpdateSvg=null,this.boundingBoxTool=null,this.selectionBoxTool=null}}]),t}();t.default=h},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=g(n(2)),o=g(n(1)),a=g(n(0)),s=n(8),l=g(n(5)),u=g(n(4)),c=n(14),d=n(31),h=n(9),f=n(3),p=g(n(111)),m=g(n(110));function g(e){return e&&e.__esModule?e:{default:e}}var v=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return(0,l.default)(n,["activateTool","deactivateTool"]),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default.Component),i(t,[{key:"componentDidMount",value:function(){this.props.isSelectModeActive&&this.activateTool(this.props)}},{key:"componentWillReceiveProps",value:function(e){this.tool&&e.hoveredItemId!==this.props.hoveredItemId&&this.tool.setPrevHoveredItemId(e.hoveredItemId),this.tool&&e.selectedItems!==this.props.selectedItems&&this.tool.onSelectionChanged(e.selectedItems),e.isSelectModeActive&&!this.props.isSelectModeActive?this.activateTool():!e.isSelectModeActive&&this.props.isSelectModeActive&&this.deactivateTool()}},{key:"shouldComponentUpdate",value:function(e){return e.isSelectModeActive!==this.props.isSelectModeActive}},{key:"activateTool",value:function(){this.tool=new p.default(this.props.setHoveredItem,this.props.clearHoveredItem,this.props.setSelectedItems,this.props.clearSelectedItems,this.props.onUpdateSvg),this.tool.activate()}},{key:"deactivateTool",value:function(){this.tool.deactivateTool(),this.tool.remove(),this.tool=null}},{key:"render",value:function(){return a.default.createElement(m.default,{isSelected:this.props.isSelectModeActive,onMouseDown:this.props.handleMouseDown})}}]),t}();v.propTypes={clearHoveredItem:o.default.func.isRequired,clearSelectedItems:o.default.func.isRequired,handleMouseDown:o.default.func.isRequired,hoveredItemId:o.default.number,isSelectModeActive:o.default.bool.isRequired,onUpdateSvg:o.default.func.isRequired,selectedItems:o.default.arrayOf(o.default.instanceOf(r.default.Item)),setHoveredItem:o.default.func.isRequired,setSelectedItems:o.default.func.isRequired};t.default=(0,s.connect)(function(e){return{isSelectModeActive:e.scratchPaint.mode===u.default.SELECT,hoveredItemId:e.scratchPaint.hoveredItemId,selectedItems:e.scratchPaint.selectedItems}},function(e){return{setHoveredItem:function(t){e((0,d.setHoveredItem)(t))},clearHoveredItem:function(){e((0,d.clearHoveredItem)())},clearSelectedItems:function(){e((0,h.clearSelectedItems)())},setSelectedItems:function(){e((0,h.setSelectedItems)((0,f.getSelectedLeafItems)()))},handleMouseDown:function(){e((0,c.changeMode)(u.default.SELECT))}}})(v)},function(e,t){e.exports="data:image/svg+xml,%3C?xml version='1.0' encoding='UTF-8' standalone='no'?%3E %3Csvg width='20px' height='20px' viewBox='0 0 20 20' version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink'%3E %3C!-- Generator: Sketch 43.2 (39069) - http://www.bohemiancoding.com/sketch --%3E %3Ctitle%3Ereshape%3C/title%3E %3Cdesc%3ECreated with Sketch.%3C/desc%3E %3Cdefs%3E%3C/defs%3E %3Cg id='Page-1' stroke='none' stroke-width='1' fill='none' fill-rule='evenodd'%3E %3Cg id='reshape'%3E %3Cg id='reshape-icon' transform='translate(3.000000, 2.000000)'%3E %3Cpath d='M6.3718,4e-05 C6.3718,1.20298846 6.03840639,2.32811001 5.45898306,3.28804076 C5.31876362,3.52034235 4.30079812,3.15107034 3.82818604,3.61859131 C3.35557395,4.08611228 3.47873759,5.34529147 3.26181884,5.47482181 C2.30759304,6.04462589 1.19191205,6.37204 -0.0002,6.37204' id='Stroke-1' stroke='%23575E75' stroke-width='0.75'%3E%3C/path%3E %3Cpath d='M4,6.94999094 C2.85887984,6.71835578 2,5.70947896 2,4.5 C2,3.11928813 3.11928813,2 4.5,2 C5.88071187,2 7,3.11928813 7,4.5 C7,4.56854233 6.99724162,4.63644042 6.99182982,4.70358929 L6.68137747,4.42017327 C5.65792772,3.48493325 4,4.20484091 4,5.595932 L4,6.94999094 Z' id='Combined-Shape' fill='%23575E75'%3E%3C/path%3E %3Cpath d='M4,7.96455557 C2.30385293,7.72194074 1,6.26323595 1,4.5 C1,2.56700338 2.56700338,1 4.5,1 C6.43299662,1 8,2.56700338 8,4.5 C8,4.84508345 7.95005914,5.1785026 7.85701065,5.4934242 L6.68137747,4.42017327 C5.65792772,3.48493325 4,4.20484091 4,5.595932 L4,7.96455557 Z' id='Oval-2' fill-opacity='0.15' fill='%23575E75'%3E%3C/path%3E %3Cpath d='M7.87915329,13.1684522 L8.98467414,15.6316703 C9.20235954,16.1186581 9.76980913,16.3337238 10.2516521,16.1137141 C10.7334951,15.8924683 10.9462887,15.3189598 10.7286032,14.833208 L9.63583183,12.3973461 L12.3974628,12.3973461 C12.945512,12.3973461 13.207518,11.7313818 12.8048941,11.3644462 L6.00716065,5.15870674 C5.6225647,4.80725864 5,5.07769498 5,5.595932 L5,14.8026807 C5,15.3507015 5.68145595,15.608033 6.04802397,15.1994001 L7.87915329,13.1684522 Z' id='select-icon' fill='%23575E75'%3E%3C/path%3E %3C/g%3E %3C/g%3E %3C/g%3E %3C/svg%3E"},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=s(n(0)),r=s(n(1)),o=s(n(10)),a=s(n(113));function s(e){return e&&e.__esModule?e:{default:e}}var l=function(e){return i.default.createElement(o.default,{imgDescriptor:{defaultMessage:"Reshape",description:"Label for the reshape tool, which allows changing the points in the lines of the vectors",id:"paint.reshapeMode.reshape"},imgSrc:a.default,isSelected:e.isSelected,onMouseDown:e.onMouseDown})};l.propTypes={isSelected:r.default.bool.isRequired,onMouseDown:r.default.func.isRequired},t.default=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=n(3);var o=function(){function e(t,n,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.hitType=null,this.setSelectedItems=t,this.clearSelectedItems=n,this.onUpdateSvg=i,this.selectedItems=[]}return i(e,[{key:"onMouseDown",value:function(e){e.multiselect||(0,r.clearSelection)(this.clearSelectedItems),e.hitResult.segment.handleIn.selected=!0,e.hitResult.segment.handleOut.selected=!0,this.hitType=e.hitResult.type}},{key:"onMouseDrag",value:function(e){this.selectedItems=(0,r.getSelectedLeafItems)();var t=!0,n=!1,i=void 0;try{for(var o,a=this.selectedItems[Symbol.iterator]();!(t=(o=a.next()).done);t=!0){var s=o.value,l=!0,u=!1,c=void 0;try{for(var d,h=s.segments[Symbol.iterator]();!(l=(d=h.next()).done);l=!0){var f=d.value;f.origPoint||(f.origPoint=f.point.clone()),f.handleOut.selected&&"handle-out"===this.hitType?e.modifiers.option||!f.handleOut.isColinear(f.handleIn)?f.handleOut=f.handleOut.add(e.delta):(f.handleOut=f.handleOut.add(e.delta),f.handleIn=f.handleOut.multiply(-f.handleIn.length/f.handleOut.length)):f.handleIn.selected&&"handle-in"===this.hitType&&(e.modifiers.option||!f.handleOut.isColinear(f.handleIn)?f.handleIn=f.handleIn.add(e.delta):(f.handleIn=f.handleIn.add(e.delta),f.handleOut=f.handleIn.multiply(-f.handleOut.length/f.handleIn.length)))}}catch(e){u=!0,c=e}finally{try{!l&&h.return&&h.return()}finally{if(u)throw c}}}}catch(e){n=!0,i=e}finally{try{!t&&a.return&&a.return()}finally{if(n)throw i}}}},{key:"onMouseUp",value:function(){var e=!1,t=!0,n=!1,i=void 0;try{for(var r,o=this.selectedItems[Symbol.iterator]();!(t=(r=o.next()).done);t=!0){var a=r.value;if(!a.segments)return;var s=!0,l=!1,u=void 0;try{for(var c,d=a.segments[Symbol.iterator]();!(s=(c=d.next()).done);s=!0){var h=c.value;h.origPoint&&!h.equals(h.origPoint)&&(e=!0),h.origPoint=null}}catch(e){l=!0,u=e}finally{try{!s&&d.return&&d.return()}finally{if(l)throw u}}}}catch(e){n=!0,i=e}finally{try{!t&&o.return&&o.return()}finally{if(n)throw i}}e&&(this.setSelectedItems(),this.onUpdateSvg()),this.selectedItems=[]}}]),e}();t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=n(2),a=(i=o)&&i.__esModule?i:{default:i},s=n(15),l=n(3);var u=function(){function e(t,n,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.deselectOnMouseUp=null,this.deleteOnMouseUp=null,this.invertDeselect=!1,this.selectedItems=null,this.setSelectedItems=t,this.clearSelectedItems=n,this.onUpdateSvg=i}return r(e,[{key:"onMouseDown",value:function(e){e.doubleClicked&&(this.deleteOnMouseUp=e.hitResult),e.hitResult.segment.selected?e.multiselect?this.deselectOnMouseUp=e.hitResult.segment:(this.deselectOnMouseUp=e.hitResult.segment,this.invertDeselect=!0,e.hitResult.segment.selected=!0):(e.multiselect||(0,l.clearSelection)(this.clearSelectedItems),e.hitResult.segment.selected=!0),this.selectedItems=(0,l.getSelectedLeafItems)()}},{key:"addPoint",value:function(e){var t=e.hitResult.location.curveOffset,n=e.hitResult.location.curve.length-e.hitResult.location.curveOffset,i=e.hitResult.location.tangent.multiply(-t*s.HANDLE_RATIO),r=e.hitResult.location.tangent.multiply(n*s.HANDLE_RATIO);i.length>3*r.length&&(i=i.multiply(3*r.length/i.length)),r.length>3*i.length&&(r=r.multiply(3*i.length/r.length));var o=e.hitResult.item.segments[e.hitResult.location.index],u=e.hitResult.item.segments[e.hitResult.location.index+1],c=new a.default.Segment(e.hitResult.location.point,i,r);e.hitResult.item.insert(e.hitResult.location.index+1,c),e.hitResult.segment=c,e.multiselect||(0,l.clearSelection)(this.clearSelectedItems),c.selected=!0,o&&o.handleOut&&(o.handleOut=u?o.handleOut.multiply(t*s.HANDLE_RATIO/o.handleOut.length):null),u&&u.handleIn&&(u.handleIn=o?u.handleIn.multiply(n*s.HANDLE_RATIO/u.handleIn.length):null)}},{key:"removePoint",value:function(e){var t=e.segment.index;e.item.removeSegment(t);var n=e.item.segments[t-1],i=e.item.segments[t],r=n&&n.curve?n.curve.length:null;n&&n.handleOut&&(n.handleOut=i?n.handleOut.multiply(r*s.HANDLE_RATIO/n.handleOut.length):null),i&&i.handleIn&&(i.handleIn=n?i.handleIn.multiply(r*s.HANDLE_RATIO/i.handleIn.length):null)}},{key:"onMouseDrag",value:function(e){this.deselectOnMouseUp=null,this.invertDeselect=!1,this.deleteOnMouseUp=null;var t=e.point.subtract(e.downPoint),n=(0,l.getSelectedSegments)(),i=!0,r=!1,o=void 0;try{for(var a,u=n[Symbol.iterator]();!(i=(a=u.next()).done);i=!0){var c=a.value;c.origPoint||(c.origPoint=c.point.clone()),e.modifiers.shift?c.point=c.origPoint.add((0,s.snapDeltaToAngle)(t,Math.PI/4)):c.point=c.point.add(e.delta)}}catch(e){r=!0,o=e}finally{try{!i&&u.return&&u.return()}finally{if(r)throw o}}}},{key:"onMouseUp",value:function(){var e=!1,t=(0,l.getSelectedSegments)(),n=!0,i=!1,r=void 0;try{for(var o,a=t[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var s=o.value;s.origPoint&&!s.equals(s.origPoint)&&(e=!0),s.origPoint=null}}catch(e){i=!0,r=e}finally{try{!n&&a.return&&a.return()}finally{if(i)throw r}}this.deselectOnMouseUp&&(this.invertDeselect?((0,l.clearSelection)(this.clearSelectedItems),this.deselectOnMouseUp.selected=!0):this.deselectOnMouseUp.selected=!1,this.deselectOnMouseUp=null,this.invertDeselect=!1),this.deleteOnMouseUp&&(this.removePoint(this.deleteOnMouseUp),this.deleteOnMouseUp=null),this.selectedItems=null,this.setSelectedItems(),e&&this.onUpdateSvg()}}]),e}();t.default=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=m(n(2)),o=m(n(7)),a=m(n(36)),s=m(n(4)),l=n(40),u=n(24),c=n(3),d=m(n(59)),h=m(n(116)),f=m(n(115)),p=m(n(58));function m(e){return e&&e.__esModule?e:{default:e}}var g=(0,a.default)({FILL:null,POINT:null,HANDLE:null,SELECTION_BOX:null}),v=function(e){function t(e,n,i,o,a){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var l=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return l.setHoveredItem=e,l.clearHoveredItem=n,l.onUpdateSvg=a,l.prevHoveredItemId=null,l.lastEvent=null,l.active=!1,l.mode=g.SELECTION_BOX,l._modeMap={},l._modeMap[g.FILL]=new d.default(s.default.RESHAPE,i,o,a),l._modeMap[g.POINT]=new h.default(i,o,a),l._modeMap[g.HANDLE]=new f.default(i,o,a),l._modeMap[g.SELECTION_BOX]=new p.default(s.default.RESHAPE,i,o),l.onMouseDown=l.handleMouseDown,l.onMouseMove=l.handleMouseMove,l.onMouseDrag=l.handleMouseDrag,l.onMouseUp=l.handleMouseUp,l.onKeyUp=l.handleKeyUp,l.onKeyDown=l.handleKeyDown,r.default.settings.handleSize=8,l}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.default.Tool),i(t,null,[{key:"TOLERANCE",get:function(){return 8}},{key:"DOUBLE_CLICK_MILLIS",get:function(){return 250}}]),i(t,[{key:"getHitOptions",value:function(e){var n={segments:!0,stroke:!0,curves:!0,handles:!0,fill:!0,guide:!1,tolerance:t.TOLERANCE/r.default.view.zoom};return n.match=e?function(e){if(e.item&&e.item.selected){if("handle-out"===e.type||"handle-in"===e.type){if(!e.segment.selected)return!1;if(e.item.fullySelected)return!1}return!0}}:function(e){if("handle-out"===e.type||"handle-in"===e.type){if(!e.segment.selected)return!1;if(e.item.fullySelected)return!1}return!0},n}},{key:"setPrevHoveredItemId",value:function(e){this.prevHoveredItemId=e}},{key:"handleMouseDown",value:function(e){if(!(e.event.button>0)){this.active=!0,this.clearHoveredItem();var n=!1;this.lastEvent&&(n=e.event.timeStamp-this.lastEvent.event.timeStamp<t.DOUBLE_CLICK_MILLIS),this.lastEvent=e;var i=r.default.project.hitTestAll(e.point,this.getHitOptions(!0));if(0===i.length&&(i=r.default.project.hitTestAll(e.point,this.getHitOptions())),0!==i.length){for(var a=i[0],s=0;s<i.length;s++)if("segment"===i[s].type){a=i[s];break}if(!(0,u.isPGTextItem)((0,u.getRootItem)(a.item))){var l={hitResult:a,clone:e.modifiers.alt,multiselect:e.modifiers.shift,doubleClicked:n,subselect:!0};!a.item.selected||"fill"===a.type||"segment"!==a.type&&n?(this.mode=g.FILL,this._modeMap[this.mode].onMouseDown(l)):"segment"===a.type?(this.mode=g.POINT,this._modeMap[this.mode].onMouseDown(l)):"stroke"===a.type||"curve"===a.type?(this.mode=g.POINT,this._modeMap[this.mode].addPoint(l),this._modeMap[this.mode].onMouseDown(l)):"handle-in"===a.type||"handle-out"===a.type?(this.mode=g.HANDLE,this._modeMap[this.mode].onMouseDown(l)):(o.default.warn("Unhandled hit result type: "+a.type),this.mode=g.FILL,this._modeMap[this.mode].onMouseDown(l))}}else this._modeMap[g.SELECTION_BOX].onMouseDown(e.modifiers.shift)}}},{key:"handleMouseMove",value:function(e){var t=(0,l.getHoveredItem)(e,this.getHitOptions(),!0);(!t&&this.prevHoveredItemId||t&&!this.prevHoveredItemId||t&&this.prevHoveredItemId&&t.id!==this.prevHoveredItemId)&&this.setHoveredItem(t?t.id:null)}},{key:"handleMouseDrag",value:function(e){e.event.button>0||!this.active||this._modeMap[this.mode].onMouseDrag(e)}},{key:"handleMouseUp",value:function(e){e.event.button>0||!this.active||(this._modeMap[this.mode].onMouseUp(e),this.mode=g.SELECTION_BOX,this.active=!1)}},{key:"handleKeyDown",value:function(e){if(!(e.event.target instanceof HTMLInputElement)){var t=1/r.default.view.zoom,n=(0,c.getSelectedLeafItems)();if(0!==n.length){var i=void 0;if("up"===e.key?i=new r.default.Point(0,-t):"down"===e.key?i=new r.default.Point(0,t):"left"===e.key?i=new r.default.Point(-t,0):"right"===e.key&&(i=new r.default.Point(t,0)),i){var o=(0,c.getSelectedSegments)();if(0===o.length){var a=!0,s=!1,l=void 0;try{for(var u,d=n[Symbol.iterator]();!(a=(u=d.next()).done);a=!0){u.value.translate(i)}}catch(e){s=!0,l=e}finally{try{!a&&d.return&&d.return()}finally{if(s)throw l}}}else{var h=!0,f=!1,p=void 0;try{for(var m,g=o[Symbol.iterator]();!(h=(m=g.next()).done);h=!0){var v=m.value;v.point=v.point.add(i)}}catch(e){f=!0,p=e}finally{try{!h&&g.return&&g.return()}finally{if(f)throw p}}}}}}}},{key:"handleKeyUp",value:function(e){0!==(0,c.getSelectedLeafItems)().length&&("up"!==e.key&&"down"!==e.key&&"left"!==e.key&&"right"!==e.key||this.onUpdateSvg())}},{key:"deactivateTool",value:function(){r.default.settings.handleSize=0,this.clearHoveredItem(),this.setHoveredItem=null,this.clearHoveredItem=null,this.onUpdateSvg=null,this.lastEvent=null}}]),t}();t.default=v},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=m(n(1)),o=m(n(0)),a=n(8),s=m(n(5)),l=m(n(4)),u=n(14),c=n(31),d=n(9),h=n(3),f=m(n(117)),p=m(n(114));function m(e){return e&&e.__esModule?e:{default:e}}var g=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return(0,s.default)(n,["activateTool","deactivateTool"]),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.default.Component),i(t,[{key:"componentDidMount",value:function(){this.props.isReshapeModeActive&&this.activateTool(this.props)}},{key:"componentWillReceiveProps",value:function(e){this.tool&&e.hoveredItemId!==this.props.hoveredItemId&&this.tool.setPrevHoveredItemId(e.hoveredItemId),e.isReshapeModeActive&&!this.props.isReshapeModeActive?this.activateTool():!e.isReshapeModeActive&&this.props.isReshapeModeActive&&this.deactivateTool()}},{key:"shouldComponentUpdate",value:function(e){return e.isReshapeModeActive!==this.props.isReshapeModeActive}},{key:"activateTool",value:function(){this.tool=new f.default(this.props.setHoveredItem,this.props.clearHoveredItem,this.props.setSelectedItems,this.props.clearSelectedItems,this.props.onUpdateSvg),this.tool.setPrevHoveredItemId(this.props.hoveredItemId),this.tool.activate()}},{key:"deactivateTool",value:function(){this.tool.deactivateTool(),this.tool.remove(),this.tool=null,this.hitResult=null}},{key:"render",value:function(){return o.default.createElement(p.default,{isSelected:this.props.isReshapeModeActive,onMouseDown:this.props.handleMouseDown})}}]),t}();g.propTypes={clearHoveredItem:r.default.func.isRequired,clearSelectedItems:r.default.func.isRequired,handleMouseDown:r.default.func.isRequired,hoveredItemId:r.default.number,isReshapeModeActive:r.default.bool.isRequired,onUpdateSvg:r.default.func.isRequired,setHoveredItem:r.default.func.isRequired,setSelectedItems:r.default.func.isRequired};t.default=(0,a.connect)(function(e){return{isReshapeModeActive:e.scratchPaint.mode===l.default.RESHAPE,hoveredItemId:e.scratchPaint.hoveredItemId}},function(e){return{setHoveredItem:function(t){e((0,c.setHoveredItem)(t))},clearHoveredItem:function(){e((0,c.clearHoveredItem)())},clearSelectedItems:function(){e((0,d.clearSelectedItems)())},setSelectedItems:function(){e((0,d.setSelectedItems)((0,h.getSelectedLeafItems)()))},handleMouseDown:function(){e((0,u.changeMode)(l.default.RESHAPE))}}})(g)},function(e,t){e.exports="data:image/svg+xml,%3C?xml version='1.0' encoding='UTF-8' standalone='no'?%3E %3Csvg width='20px' height='20px' viewBox='0 0 20 20' version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink'%3E %3C!-- Generator: Sketch 43.2 (39069) - http://www.bohemiancoding.com/sketch --%3E %3Ctitle%3Erectangle%3C/title%3E %3Cdesc%3ECreated with Sketch.%3C/desc%3E %3Cdefs%3E%3C/defs%3E %3Cg id='Page-1' stroke='none' stroke-width='1' fill='none' fill-rule='evenodd' stroke-linecap='round' stroke-linejoin='round'%3E %3Cg id='rectangle' stroke='%23575E75' stroke-width='1.5'%3E %3Crect id='rectangle-icon' x='5' y='5' width='10' height='10'%3E%3C/rect%3E %3C/g%3E %3C/g%3E %3C/svg%3E"},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=s(n(0)),r=s(n(1)),o=s(n(10)),a=s(n(119));function s(e){return e&&e.__esModule?e:{default:e}}var l=function(e){return i.default.createElement(o.default,{imgDescriptor:{defaultMessage:"Rectangle",description:"Label for the rectangle tool",id:"paint.rectMode.rect"},imgSrc:a.default,isSelected:e.isSelected,onMouseDown:e.onMouseDown})};l.propTypes={isSelected:r.default.bool.isRequired,onMouseDown:r.default.func.isRequired},t.default=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=c(n(2)),o=c(n(4)),a=n(6),s=n(3),l=c(n(33)),u=c(n(32));function c(e){return e&&e.__esModule?e:{default:e}}var d=function(e){function t(e,n,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));r.setSelectedItems=e,r.clearSelectedItems=n,r.onUpdateSvg=i,r.boundingBoxTool=new l.default(o.default.RECT,e,n,i);var a=new u.default(r.boundingBoxTool,i);return r.onMouseDown=r.handleMouseDown,r.onMouseDrag=r.handleMouseDrag,r.onMouseUp=r.handleMouseUp,r.onKeyUp=a.onKeyUp,r.onKeyDown=a.onKeyDown,r.rect=null,r.colorState=null,r.isBoundingBoxMode=null,r.active=!1,r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.default.Tool),i(t,null,[{key:"TOLERANCE",get:function(){return 6}}]),i(t,[{key:"getHitOptions",value:function(){return{segments:!0,stroke:!0,curves:!0,fill:!0,guide:!1,match:function(e){return e.item.data&&e.item.data.isHelperItem||e.item.selected},tolerance:t.TOLERANCE/r.default.view.zoom}}},{key:"onSelectionChanged",value:function(e){this.boundingBoxTool.onSelectionChanged(e)}},{key:"setColorState",value:function(e){this.colorState=e}},{key:"handleMouseDown",value:function(e){e.event.button>0||(this.active=!0,this.boundingBoxTool.onMouseDown(e,!1,!1,this.getHitOptions())?this.isBoundingBoxMode=!0:(this.isBoundingBoxMode=!1,(0,s.clearSelection)(this.clearSelectedItems)))}},{key:"handleMouseDrag",value:function(e){if(!(e.event.button>0)&&this.active)if(this.isBoundingBoxMode)this.boundingBoxTool.onMouseDrag(e);else{this.rect&&this.rect.remove();var t=new r.default.Rectangle(e.downPoint,e.point);e.modifiers.shift&&(t.height=t.width),this.rect=new r.default.Path.Rectangle(t),e.modifiers.alt&&(this.rect.position=e.downPoint),(0,a.styleShape)(this.rect,this.colorState)}}},{key:"handleMouseUp",value:function(e){if(!(e.event.button>0)&&this.active){if(this.isBoundingBoxMode)return this.boundingBoxTool.onMouseUp(e),void(this.isBoundingBoxMode=null);this.rect&&(this.rect.area<t.TOLERANCE/r.default.view.zoom?(this.rect.remove(),this.rect=null):(this.rect.selected=!0,this.setSelectedItems(),this.onUpdateSvg(),this.rect=null)),this.active=!1}}},{key:"deactivateTool",value:function(){this.boundingBoxTool.removeBoundsPath()}}]),t}();t.default=d},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=y(n(2)),o=y(n(1)),a=y(n(0)),s=n(8),l=y(n(5)),u=y(n(4)),c=n(6),d=n(17),h=n(23),f=n(14),p=n(9),m=n(3),g=y(n(121)),v=y(n(120));function y(e){return e&&e.__esModule?e:{default:e}}var _=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return(0,l.default)(n,["activateTool","deactivateTool"]),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default.Component),i(t,[{key:"componentDidMount",value:function(){this.props.isRectModeActive&&this.activateTool(this.props)}},{key:"componentWillReceiveProps",value:function(e){this.tool&&e.colorState!==this.props.colorState&&this.tool.setColorState(e.colorState),this.tool&&e.selectedItems!==this.props.selectedItems&&this.tool.onSelectionChanged(e.selectedItems),e.isRectModeActive&&!this.props.isRectModeActive?this.activateTool():!e.isRectModeActive&&this.props.isRectModeActive&&this.deactivateTool()}},{key:"shouldComponentUpdate",value:function(e){return e.isRectModeActive!==this.props.isRectModeActive}},{key:"activateTool",value:function(){(0,m.clearSelection)(this.props.clearSelectedItems);var e=this.props.colorState,t=e.fillColor,n=e.strokeColor,i=e.strokeWidth,r=t!==c.MIXED&&null!==t,o=n!==c.MIXED&&null!==n&&null!==i&&0!==i;r||o?!r&&o?this.props.onChangeFillColor(null):r&&!o&&this.props.onChangeStrokeColor(null):(this.props.onChangeFillColor(d.DEFAULT_COLOR),this.props.onChangeStrokeColor(null)),this.tool=new g.default(this.props.setSelectedItems,this.props.clearSelectedItems,this.props.onUpdateSvg),this.tool.setColorState(this.props.colorState),this.tool.activate()}},{key:"deactivateTool",value:function(){this.tool.deactivateTool(),this.tool.remove(),this.tool=null}},{key:"render",value:function(){return a.default.createElement(v.default,{isSelected:this.props.isRectModeActive,onMouseDown:this.props.handleMouseDown})}}]),t}();_.propTypes={clearSelectedItems:o.default.func.isRequired,colorState:o.default.shape({fillColor:o.default.string,strokeColor:o.default.string,strokeWidth:o.default.number}).isRequired,handleMouseDown:o.default.func.isRequired,isRectModeActive:o.default.bool.isRequired,onChangeFillColor:o.default.func.isRequired,onChangeStrokeColor:o.default.func.isRequired,onUpdateSvg:o.default.func.isRequired,selectedItems:o.default.arrayOf(o.default.instanceOf(r.default.Item)),setSelectedItems:o.default.func.isRequired};t.default=(0,s.connect)(function(e){return{colorState:e.scratchPaint.color,isRectModeActive:e.scratchPaint.mode===u.default.RECT,selectedItems:e.scratchPaint.selectedItems}},function(e){return{clearSelectedItems:function(){e((0,p.clearSelectedItems)())},setSelectedItems:function(){e((0,p.setSelectedItems)((0,m.getSelectedLeafItems)()))},handleMouseDown:function(){e((0,f.changeMode)(u.default.RECT))},onChangeFillColor:function(t){e((0,d.changeFillColor)(t))},onChangeStrokeColor:function(t){e((0,h.changeStrokeColor)(t))}}})(_)},function(e,t){e.exports="data:image/svg+xml,%3C?xml version='1.0' encoding='UTF-8' standalone='no'?%3E %3Csvg width='20px' height='20px' viewBox='0 0 20 20' version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink'%3E %3C!-- Generator: Sketch 43.2 (39069) - http://www.bohemiancoding.com/sketch --%3E %3Ctitle%3Eoval%3C/title%3E %3Cdesc%3ECreated with Sketch.%3C/desc%3E %3Cdefs%3E%3C/defs%3E %3Cg id='Page-1' stroke='none' stroke-width='1' fill='none' fill-rule='evenodd'%3E %3Cg id='oval' stroke-width='1.5' stroke='%23575E75'%3E %3Ccircle id='oval-icon' cx='10' cy='10' r='5'%3E%3C/circle%3E %3C/g%3E %3C/g%3E %3C/svg%3E"},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=s(n(0)),r=s(n(1)),o=s(n(10)),a=s(n(123));function s(e){return e&&e.__esModule?e:{default:e}}var l=function(e){return i.default.createElement(o.default,{imgDescriptor:{defaultMessage:"Circle",description:"Label for the oval-drawing tool",id:"paint.ovalMode.oval"},imgSrc:a.default,isSelected:e.isSelected,onMouseDown:e.onMouseDown})};l.propTypes={isSelected:r.default.bool.isRequired,onMouseDown:r.default.func.isRequired},t.default=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=n(2),a=(i=o)&&i.__esModule?i:{default:i};var s=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.rotItems=[],this.rotGroupPivot=null,this.prevRot=90,this.onUpdateSvg=t}return r(e,[{key:"onMouseDown",value:function(e,t,n){this.rotGroupPivot=t.bounds.center;var i=!0,r=!1,o=void 0;try{for(var s,l=n[Symbol.iterator]();!(i=(s=l.next()).done);i=!0){var u=s.value;u.parent instanceof a.default.Layer&&this.rotItems.push(u)}}catch(e){r=!0,o=e}finally{try{!i&&l.return&&l.return()}finally{if(r)throw o}}this.prevRot=90}},{key:"onMouseDrag",value:function(e){var t=e.point.subtract(this.rotGroupPivot).angle;e.modifiers.shift&&(t=45*Math.round(t/45));for(var n=0;n<this.rotItems.length;n++){var i=this.rotItems[n];i.data.origRot||(i.data.origRot=i.rotation),i.rotate(t-this.prevRot,this.rotGroupPivot)}this.prevRot=t}},{key:"onMouseUp",value:function(e){e.event.button>0||(this.rotItems.length=0,this.rotGroupPivot=null,this.prevRot=90,this.onUpdateSvg())}}]),e}();t.default=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=n(2),a=(i=o)&&i.__esModule?i:{default:i},s=n(3);var l=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.active=!1,this.boundsPath=null,this.pivot=null,this.origPivot=null,this.corner=null,this.origSize=null,this.origCenter=null,this.itemGroup=null,this.itemToInsertBelow=null,this.onUpdateSvg=t}return r(e,[{key:"onMouseDown",value:function(e,t,n){if(!this.active){this.active=!0;var i=e.item.data.index;this.pivot=t.bounds[this._getOpposingRectCornerNameByIndex(i)].clone(),this.origPivot=t.bounds[this._getOpposingRectCornerNameByIndex(i)].clone(),this.corner=t.bounds[this._getRectCornerNameByIndex(i)].clone(),this.origSize=this.corner.subtract(this.pivot),this.origCenter=t.bounds.center,this.centered=!1,this.lastSx=1,this.lastSy=1,this.boundsPath=t;var r=(0,s.getItems)({match:function(e){var t=!0,i=!1,r=void 0;try{for(var o,a=n[Symbol.iterator]();!(t=(o=a.next()).done);t=!0){if(!o.value.isBelow(e))return!1}}catch(e){i=!0,r=e}finally{try{!t&&a.return&&a.return()}finally{if(i)throw r}}return!0}});r.length>0&&(this.itemToInsertBelow=r[0]),this.itemGroup=new a.default.Group(n),this.itemGroup.addChild(t),this.itemGroup.insertBelow(this.itemToInsertBelow),this.itemGroup.data.isHelperItem=!0}}},{key:"onMouseDrag",value:function(e){if(this.active){var t=this.origSize;e.modifiers.alt?(this.centered=!0,this.itemGroup.position=this.origCenter,this.pivot=this.origCenter,this.modOrigSize=.5*this.origSize):(this.centered&&(this.centered=!1,this.itemGroup.scale(1/this.lastSx,1/this.lastSy,this.pivot),this.lastSx=1,this.lastSy=1),this.pivot=this.origPivot),this.corner=this.corner.add(e.delta);var n=this.corner.subtract(this.pivot),i=1,r=1;if(Math.abs(t.x)>1e-7&&(i=n.x/t.x),Math.abs(t.y)>1e-7&&(r=n.y/t.y),e.modifiers.shift){var o=i>0?1:-1,a=r>0?1:-1;i=r=Math.max(Math.abs(i),Math.abs(r)),i*=o,r*=a}this.itemGroup.scale(i/this.lastSx,r/this.lastSy,this.pivot),this.lastSx=i,this.lastSy=r}}},{key:"onMouseUp",value:function(){if(this.active&&(this.pivot=null,this.origPivot=null,this.corner=null,this.origSize=null,this.origCenter=null,this.lastSx=1,this.lastSy=1,this.centered=!1,this.itemGroup)){this.boundsPath.remove(),this.boundsPath=null;for(var e=0;e<this.itemGroup.children.length;e++){var t=this.itemGroup.children[e];t.data.isPGTextItem&&(t.data.wasScaled=!0)}if(this.itemToInsertBelow){for(;0<this.itemGroup.children.length;)this.itemGroup.children[0].insertBelow(this.itemToInsertBelow);this.itemToInsertBelow=null}else this.itemGroup.layer&&this.itemGroup.layer.addChildren(this.itemGroup.children);this.itemGroup.remove(),this.onUpdateSvg(),this.active=!1}}},{key:"_getRectCornerNameByIndex",value:function(e){switch(e){case 0:return"bottomLeft";case 1:return"leftCenter";case 2:return"topLeft";case 3:return"topCenter";case 4:return"topRight";case 5:return"rightCenter";case 6:return"bottomRight";case 7:return"bottomCenter"}}},{key:"_getOpposingRectCornerNameByIndex",value:function(e){switch(e){case 0:return"topRight";case 1:return"rightCenter";case 2:return"bottomRight";case 3:return"bottomCenter";case 4:return"bottomLeft";case 5:return"leftCenter";case 6:return"topLeft";case 7:return"topCenter"}}}]),e}();t.default=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=c(n(2)),o=c(n(4)),a=n(6),s=n(3),l=c(n(33)),u=c(n(32));function c(e){return e&&e.__esModule?e:{default:e}}var d=function(e){function t(e,n,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));r.setSelectedItems=e,r.clearSelectedItems=n,r.onUpdateSvg=i,r.boundingBoxTool=new l.default(o.default.OVAL,e,n,i);var a=new u.default(r.boundingBoxTool,i);return r.onMouseDown=r.handleMouseDown,r.onMouseDrag=r.handleMouseDrag,r.onMouseUp=r.handleMouseUp,r.onKeyUp=a.onKeyUp,r.onKeyDown=a.onKeyDown,r.oval=null,r.colorState=null,r.isBoundingBoxMode=null,r.active=!1,r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.default.Tool),i(t,null,[{key:"TOLERANCE",get:function(){return 6}}]),i(t,[{key:"getHitOptions",value:function(){return{segments:!0,stroke:!0,curves:!0,fill:!0,guide:!1,match:function(e){return e.item.data&&e.item.data.isHelperItem||e.item.selected},tolerance:t.TOLERANCE/r.default.view.zoom}}},{key:"onSelectionChanged",value:function(e){this.boundingBoxTool.onSelectionChanged(e)}},{key:"setColorState",value:function(e){this.colorState=e}},{key:"handleMouseDown",value:function(e){e.event.button>0||(this.active=!0,this.boundingBoxTool.onMouseDown(e,!1,!1,this.getHitOptions())?this.isBoundingBoxMode=!0:(this.isBoundingBoxMode=!1,(0,s.clearSelection)(this.clearSelectedItems),this.oval=new r.default.Shape.Ellipse({point:e.downPoint,size:0}),(0,a.styleShape)(this.oval,this.colorState)))}},{key:"handleMouseDrag",value:function(e){if(!(e.event.button>0)&&this.active)if(this.isBoundingBoxMode)this.boundingBoxTool.onMouseDrag(e);else{var t=new r.default.Point(e.downPoint.x,e.downPoint.y),n=new r.default.Point(e.point.x,e.point.y);e.modifiers.shift?this.oval.size=new r.default.Point(e.downPoint.x-e.point.x,e.downPoint.x-e.point.x):this.oval.size=t.subtract(n),e.modifiers.alt?this.oval.position=t:this.oval.position=t.subtract(this.oval.size.multiply(.5))}}},{key:"handleMouseUp",value:function(e){if(!(e.event.button>0)&&this.active){if(this.isBoundingBoxMode)return this.boundingBoxTool.onMouseUp(e),void(this.isBoundingBoxMode=null);if(this.oval)if(Math.abs(this.oval.size.width*this.oval.size.height)<t.TOLERANCE/r.default.view.zoom)this.oval.remove(),this.oval=null;else{var n=this.oval.toPath(!0);this.oval.remove(),this.oval=null,n.selected=!0,this.setSelectedItems(),this.onUpdateSvg()}this.active=!1}}},{key:"deactivateTool",value:function(){this.boundingBoxTool.removeBoundsPath()}}]),t}();t.default=d},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=y(n(2)),o=y(n(1)),a=y(n(0)),s=n(8),l=y(n(5)),u=y(n(4)),c=n(6),d=n(17),h=n(23),f=n(14),p=n(9),m=n(3),g=y(n(127)),v=y(n(124));function y(e){return e&&e.__esModule?e:{default:e}}var _=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return(0,l.default)(n,["activateTool","deactivateTool"]),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default.Component),i(t,[{key:"componentDidMount",value:function(){this.props.isOvalModeActive&&this.activateTool(this.props)}},{key:"componentWillReceiveProps",value:function(e){this.tool&&e.colorState!==this.props.colorState&&this.tool.setColorState(e.colorState),this.tool&&e.selectedItems!==this.props.selectedItems&&this.tool.onSelectionChanged(e.selectedItems),e.isOvalModeActive&&!this.props.isOvalModeActive?this.activateTool():!e.isOvalModeActive&&this.props.isOvalModeActive&&this.deactivateTool()}},{key:"shouldComponentUpdate",value:function(e){return e.isOvalModeActive!==this.props.isOvalModeActive}},{key:"activateTool",value:function(){(0,m.clearSelection)(this.props.clearSelectedItems);var e=this.props.colorState,t=e.fillColor,n=e.strokeColor,i=e.strokeWidth,r=t!==c.MIXED&&null!==t,o=n!==c.MIXED&&null!==n&&null!==i&&0!==i;r||o?!r&&o?this.props.onChangeFillColor(null):r&&!o&&this.props.onChangeStrokeColor(null):(this.props.onChangeFillColor(d.DEFAULT_COLOR),this.props.onChangeStrokeColor(null)),this.tool=new g.default(this.props.setSelectedItems,this.props.clearSelectedItems,this.props.onUpdateSvg),this.tool.setColorState(this.props.colorState),this.tool.activate()}},{key:"deactivateTool",value:function(){this.tool.deactivateTool(),this.tool.remove(),this.tool=null}},{key:"render",value:function(){return a.default.createElement(v.default,{isSelected:this.props.isOvalModeActive,onMouseDown:this.props.handleMouseDown})}}]),t}();_.propTypes={clearSelectedItems:o.default.func.isRequired,colorState:o.default.shape({fillColor:o.default.string,strokeColor:o.default.string,strokeWidth:o.default.number}).isRequired,handleMouseDown:o.default.func.isRequired,isOvalModeActive:o.default.bool.isRequired,onChangeFillColor:o.default.func.isRequired,onChangeStrokeColor:o.default.func.isRequired,onUpdateSvg:o.default.func.isRequired,selectedItems:o.default.arrayOf(o.default.instanceOf(r.default.Item)),setSelectedItems:o.default.func.isRequired};t.default=(0,s.connect)(function(e){return{colorState:e.scratchPaint.color,isOvalModeActive:e.scratchPaint.mode===u.default.OVAL,selectedItems:e.scratchPaint.selectedItems}},function(e){return{clearSelectedItems:function(){e((0,p.clearSelectedItems)())},setSelectedItems:function(){e((0,p.setSelectedItems)((0,m.getSelectedLeafItems)()))},handleMouseDown:function(){e((0,f.changeMode)(u.default.OVAL))},onChangeFillColor:function(t){e((0,d.changeFillColor)(t))},onChangeStrokeColor:function(t){e((0,h.changeStrokeColor)(t))}}})(_)},function(e,t){e.exports="data:image/svg+xml,%3C?xml version='1.0' encoding='UTF-8' standalone='no'?%3E %3Csvg width='20px' height='20px' viewBox='0 0 20 20' version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink'%3E %3C!-- Generator: Sketch 43.2 (39069) - http://www.bohemiancoding.com/sketch --%3E %3Ctitle%3Estraight-point%3C/title%3E %3Cdesc%3ECreated with Sketch.%3C/desc%3E %3Cdefs%3E%3C/defs%3E %3Cg id='Page-1' stroke='none' stroke-width='1' fill='none' fill-rule='evenodd'%3E %3Cg id='straight-point' fill='%234C97FF'%3E %3Cpolyline id='Path-2' stroke='%234C97FF' stroke-width='0.75' fill-opacity='0.25' stroke-linecap='round' stroke-linejoin='round' points='2 15 10 7 18 15'%3E%3C/polyline%3E %3Ccircle id='Oval-4' fill-opacity='0.25' cx='10' cy='7' r='3'%3E%3C/circle%3E %3Ccircle id='Oval-4' cx='10' cy='7' r='2'%3E%3C/circle%3E %3C/g%3E %3C/g%3E %3C/svg%3E"},function(e,t){e.exports="data:image/svg+xml,%3C?xml version='1.0' encoding='UTF-8' standalone='no'?%3E %3Csvg width='20px' height='20px' viewBox='0 0 20 20' version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink'%3E %3C!-- Generator: Sketch 43.2 (39069) - http://www.bohemiancoding.com/sketch --%3E %3Ctitle%3Eflip-vertical%3C/title%3E %3Cdesc%3ECreated with Sketch.%3C/desc%3E %3Cdefs%3E%3C/defs%3E %3Cg id='Page-1' stroke='none' stroke-width='1' fill='none' fill-rule='evenodd'%3E %3Cg id='flip-vertical'%3E %3Cg id='flip-horizontal' transform='translate(10.000000, 10.000000) rotate(90.000000) translate(-10.000000, -10.000000) translate(2.000000, 3.000000)'%3E %3Ccircle id='Oval' fill='%23575E75' opacity='0.5' cx='8' cy='0.75' r='1'%3E%3C/circle%3E %3Ccircle id='Oval' fill='%23575E75' opacity='0.5' cx='8' cy='13.25' r='1'%3E%3C/circle%3E %3Ccircle id='Oval-Copy' fill='%23575E75' opacity='0.5' cx='8' cy='3.875' r='1'%3E%3C/circle%3E %3Ccircle id='Oval-Copy-2' fill='%23575E75' opacity='0.5' cx='8' cy='7' r='1'%3E%3C/circle%3E %3Ccircle id='Oval-Copy-3' fill='%23575E75' opacity='0.5' cx='8' cy='10.125' r='1'%3E%3C/circle%3E %3Cpath d='M16,3.08425423 L16,10.9157458 C16,11.4342626 15.2574491,11.6956996 14.8235798,11.3282353 L10.2019293,7.41103711 C9.93269025,7.18445835 9.93269025,6.81408922 10.2019293,6.58751046 L14.8235798,2.67176469 C15.2574491,2.30430042 16,2.56573745 16,3.08425423' id='Fill-11' fill='%234C97FF' opacity='0.5'%3E%3C/path%3E %3Cpath d='M0,10.9157458 L0,3.08425423 C0,2.56573745 0.742550911,2.30430042 1.17470525,2.67176469 L5.79807074,6.58896289 C6.06730975,6.81554165 6.06730975,7.18591078 5.79807074,7.41248954 L1.17470525,11.3282353 C0.742550911,11.6956996 0,11.4342626 0,10.9157458' id='Fill-14' fill='%234C97FF'%3E%3C/path%3E %3C/g%3E %3C/g%3E %3C/g%3E %3C/svg%3E"},function(e,t){e.exports="data:image/svg+xml,%3C?xml version='1.0' encoding='UTF-8' standalone='no'?%3E %3Csvg width='20px' height='20px' viewBox='0 0 20 20' version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink'%3E %3C!-- Generator: Sketch 43.2 (39069) - http://www.bohemiancoding.com/sketch --%3E %3Ctitle%3Eflip-horizontal%3C/title%3E %3Cdesc%3ECreated with Sketch.%3C/desc%3E %3Cdefs%3E%3C/defs%3E %3Cg id='Page-1' stroke='none' stroke-width='1' fill='none' fill-rule='evenodd'%3E %3Cg id='flip-horizontal'%3E %3Cg transform='translate(2.000000, 3.000000)'%3E %3Ccircle id='Oval' fill='%23575E75' opacity='0.5' cx='8' cy='0.75' r='1'%3E%3C/circle%3E %3Ccircle id='Oval' fill='%23575E75' opacity='0.5' cx='8' cy='13.25' r='1'%3E%3C/circle%3E %3Ccircle id='Oval-Copy' fill='%23575E75' opacity='0.5' cx='8' cy='3.875' r='1'%3E%3C/circle%3E %3Ccircle id='Oval-Copy-2' fill='%23575E75' opacity='0.5' cx='8' cy='7' r='1'%3E%3C/circle%3E %3Ccircle id='Oval-Copy-3' fill='%23575E75' opacity='0.5' cx='8' cy='10.125' r='1'%3E%3C/circle%3E %3Cpath d='M16,3.08425423 L16,10.9157458 C16,11.4342626 15.2574491,11.6956996 14.8235798,11.3282353 L10.2019293,7.41103711 C9.93269025,7.18445835 9.93269025,6.81408922 10.2019293,6.58751046 L14.8235798,2.67176469 C15.2574491,2.30430042 16,2.56573745 16,3.08425423' id='Fill-11' fill='%234C97FF' opacity='0.5'%3E%3C/path%3E %3Cpath d='M0,10.9157458 L0,3.08425423 C0,2.56573745 0.742550911,2.30430042 1.17470525,2.67176469 L5.79807074,6.58896289 C6.06730975,6.81554165 6.06730975,7.18591078 5.79807074,7.41248954 L1.17470525,11.3282353 C0.742550911,11.6956996 0,11.4342626 0,10.9157458' id='Fill-14' fill='%234C97FF'%3E%3C/path%3E %3C/g%3E %3C/g%3E %3C/g%3E %3C/svg%3E"},function(e,t){e.exports="data:image/svg+xml,%3C?xml version='1.0' encoding='UTF-8' standalone='no'?%3E %3Csvg width='20px' height='20px' viewBox='0 0 20 20' version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink'%3E %3C!-- Generator: Sketch 43.2 (39069) - http://www.bohemiancoding.com/sketch --%3E %3Ctitle%3Ecurved-point%3C/title%3E %3Cdesc%3ECreated with Sketch.%3C/desc%3E %3Cdefs%3E%3C/defs%3E %3Cg id='Page-1' stroke='none' stroke-width='1' fill='none' fill-rule='evenodd'%3E %3Cg id='curved-point'%3E %3Cpath d='M2,15 C2,10.5818452 5.58151214,7 10.000744,7 C14.4184879,7 18,10.5818452 18,15' id='Stroke-3' stroke='%234C97FF' stroke-width='0.75' fill-opacity='0.25' fill='%234C97FF' stroke-linecap='round' stroke-linejoin='round'%3E%3C/path%3E %3Cpath d='M3,7 L17,7' id='Stroke-7' stroke='%234C97FF' stroke-width='0.75' stroke-linecap='round' stroke-linejoin='round'%3E%3C/path%3E %3Ccircle id='Oval-4' fill-opacity='0.25' fill='%234C97FF' cx='10' cy='7' r='3'%3E%3C/circle%3E %3Ccircle id='Oval-4' fill='%234C97FF' cx='10' cy='7' r='2'%3E%3C/circle%3E %3Ccircle id='Oval-5' fill='%234C97FF' cx='3' cy='7' r='1'%3E%3C/circle%3E %3Ccircle id='Oval-5-Copy' fill='%234C97FF' cx='17' cy='7' r='1'%3E%3C/circle%3E %3C/g%3E %3C/g%3E %3C/svg%3E"},function(e,t){e.exports="data:image/svg+xml,%3C?xml version='1.0' encoding='UTF-8' standalone='no'?%3E %3Csvg width='20px' height='20px' viewBox='0 0 20 20' version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink'%3E %3C!-- Generator: Sketch 48.2 (47327) - http://www.bohemiancoding.com/sketch --%3E %3Ctitle%3Epaste v2%3C/title%3E %3Cdesc%3ECreated with Sketch.%3C/desc%3E %3Cdefs%3E%3C/defs%3E %3Cg id='Page-1' stroke='none' stroke-width='1' fill='none' fill-rule='evenodd'%3E %3Cg id='paste-v2'%3E %3Cg id='paste' transform='translate(3.000000, 2.000000)'%3E %3Cpolyline id='Path-3' stroke-opacity='0.5' stroke='%23575E75' stroke-linecap='round' stroke-linejoin='round' stroke-dasharray='1,2' transform='translate(6.748413, 6.750000) scale(1, -1) translate(-6.748413, -6.750000) ' points='0.5 0.5 0.5 13 12.9968262 13'%3E%3C/polyline%3E %3Cpath d='M2,3.00684547 C2,2.45078007 2.45303631,2 2.99703014,2 L10,2 L10,4.34995317 C10,5.26124887 10.7336617,6 11.6500468,6 L14,6 L14,15.0046024 C14,15.5543453 13.544239,16 12.9975267,16 L3.00247329,16 C2.44882258,16 2,15.5500512 2,14.9931545 L2,3.00684547 Z' id='Rectangle-4' fill='%234C97FF'%3E%3C/path%3E %3Cpath d='M11,2 L14,5 L11.9989566,5 C11.4472481,5 11,4.55733967 11,4.00104344 L11,2 Z' id='Rectangle-5' fill='%234C97FF'%3E%3C/path%3E %3Cpath d='M8.34791833,12.8771885 C8.26180668,12.9633001 8.14699113,13.0063559 8.03217559,13.0063559 C7.9030081,13.0063559 7.78819256,12.9633001 7.70208091,12.8771885 L5.86503222,11.0401398 C5.73586474,10.8966203 5.69280891,10.7100451 5.76456862,10.5378218 C5.83632834,10.3655985 5.99419971,10.2651349 6.18077497,10.2651349 L6.92707599,10.2651349 L7.28587456,7.66743321 C7.31457845,7.46650601 7.41504205,7.27993075 7.57291342,7.16511521 C7.73078479,7.03594773 7.94606393,6.97853995 8.13263919,7.00724384 C8.47708582,7.06321642 8.74977273,7.33733852 8.79282856,7.66743321 L9.16597907,10.2651349 L9.86922427,10.2651349 C10.0557995,10.2651349 10.2136709,10.3799504 10.2854306,10.5521737 C10.3571903,10.7100451 10.3141345,10.9109723 10.184967,11.0401398 L8.34791833,12.8771885 Z' id='Fill-1' fill='%23FFFFFF'%3E%3C/path%3E %3C/g%3E %3C/g%3E %3C/g%3E %3C/svg%3E"},function(e,t){e.exports="data:image/svg+xml,%3C?xml version='1.0' encoding='UTF-8' standalone='no'?%3E %3Csvg width='20px' height='20px' viewBox='0 0 20 20' version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink'%3E %3C!-- Generator: Sketch 48.2 (47327) - http://www.bohemiancoding.com/sketch --%3E %3Ctitle%3Ecopy v2%3C/title%3E %3Cdesc%3ECreated with Sketch.%3C/desc%3E %3Cdefs%3E%3C/defs%3E %3Cg id='Page-1' stroke='none' stroke-width='1' fill='none' fill-rule='evenodd'%3E %3Cg id='copy-v2'%3E %3Cg id='copy' transform='translate(3.000000, 2.000000)'%3E %3Cpolyline id='Path-3' stroke-opacity='0.5' stroke='%23575E75' stroke-linecap='round' stroke-linejoin='round' stroke-dasharray='1,2' points='0.503173828 3 0.503173828 15.5 13 15.5'%3E%3C/polyline%3E %3Cpath d='M2,1.00684547 C2,0.450780073 2.45303631,0 2.99703014,0 L10,0 L10,2.34995317 C10,3.26124887 10.7336617,4 11.6500468,4 L14,4 L14,13.0046024 C14,13.5543453 13.544239,14 12.9975267,14 L3.00247329,14 C2.44882258,14 2,13.5500512 2,12.9931545 L2,1.00684547 Z' id='Rectangle-4' fill='%234C97FF'%3E%3C/path%3E %3Cpath d='M11,0 L14,3 L11.9989566,3 C11.4472481,3 11,2.55733967 11,2.00104344 L11,0 Z' id='Rectangle-5' fill='%234C97FF'%3E%3C/path%3E %3Cpath d='M9.8115942,9.1884058 L8.6884058,9.1884058 L8.6884058,10.3115942 C8.6884058,10.6859903 8.38647343,11 8,11 C7.61352657,11 7.3115942,10.6859903 7.3115942,10.3115942 L7.3115942,9.1884058 L6.1884058,9.1884058 C5.81400966,9.1884058 5.5,8.88647343 5.5,8.5 C5.5,8.11352657 5.81400966,7.8115942 6.1884058,7.8115942 L7.3115942,7.8115942 L7.3115942,6.6884058 C7.3115942,6.31280193 7.61352657,6 8,6 C8.38647343,6 8.6884058,6.31280193 8.6884058,6.6884058 L8.6884058,7.8115942 L9.8115942,7.8115942 C10.1859903,7.8115942 10.5,8.11352657 10.5,8.5 C10.5,8.88647343 10.1859903,9.1884058 9.8115942,9.1884058 Z' id='Fill-1' stroke='%23FFFFFF' stroke-width='0.25' fill='%23FFFFFF'%3E%3C/path%3E %3C/g%3E %3C/g%3E %3C/g%3E %3C/svg%3E"},function(e,t,n){(t=e.exports=n(12)(!1)).push([e.i,"/* DO NOT EDIT\n@todo This file is copied from GUI and should be pulled out into a shared library.\nSee https://github.com/LLK/scratch-paint/issues/13 */\n\n/* DO NOT EDIT\n@todo This file is copied from GUI and should be pulled out into a shared library.\nSee https://github.com/LLK/scratch-paint/issues/13 */\n\n/* ACTUALLY, THIS IS EDITED ;)\nTHIS WAS CHANGED ON 10/25/2017 BY @mewtaylor TO ADD A VARIABLE FOR THE SMALLEST\nGRID UNITS.\n\nALSO EDITED ON 11/13/2017 TO ADD IN CONTANTS FOR LAYOUT FROM `layout-contents.js`*/\n\n/* layout contants from `layout-constants.js`, minus 1px */\n\n.mode-tools_mode-tools_UREem {\n    display: -webkit-box;\n    display: -webkit-flex;\n    display: -ms-flexbox;\n    display: flex;\n    min-height: 3rem;\n    -webkit-box-align: center;\n    -webkit-align-items: center;\n        -ms-flex-align: center;\n            align-items: center;\n}\n\n.mode-tools_mode-tools-icon_3yoZ2 {\n    margin-right: calc(2 * .25rem);\n    width: 2rem;\n    height: 2rem;\n}\n\n.mode-tools_mod-dashed-border_3Bmy_ {\n    border-right: 1px dashed #D9D9D9;\n    padding-right: calc(3 * .25rem);\n}\n\n.mode-tools_mod-labeled-icon-height_kRA3W {\n    height: 2.85rem; /* for the second row so the dashed borders are equal in size */\n}\n",""]),t.locals={"mode-tools":"mode-tools_mode-tools_UREem",modeTools:"mode-tools_mode-tools_UREem","mode-tools-icon":"mode-tools_mode-tools-icon_3yoZ2",modeToolsIcon:"mode-tools_mode-tools-icon_3yoZ2","mod-dashed-border":"mode-tools_mod-dashed-border_3Bmy_",modDashedBorder:"mode-tools_mod-dashed-border_3Bmy_","mod-labeled-icon-height":"mode-tools_mod-labeled-icon-height_kRA3W",modLabeledIconHeight:"mode-tools_mod-labeled-icon-height_kRA3W"}},function(e,t,n){var i=n(135);"string"==typeof i&&(i=[[e.i,i,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};n(11)(i,r);i.locals&&(e.exports=i.locals)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=I(n(2)),r=I(n(13)),o=n(8),a=I(n(1)),s=I(n(0)),l=n(62),u=n(44),c=n(61),d=I(n(60)),h=n(21),f=I(n(39)),p=I(n(30)),m=I(n(64)),g=I(n(4)),v=n(25),y=I(v),_=I(n(136)),b=I(n(134)),w=I(n(133)),C=I(n(70)),x=I(n(76)),S=I(n(132)),k=I(n(69)),E=I(n(131)),M=I(n(130)),O=I(n(129)),T=n(28);function I(e){return e&&e.__esModule?e:{default:e}}var P=(0,d.default)(f.default),L=function(e){var t=(0,h.defineMessages)({brushSize:{id:"paint.modeTools.brushSize",defaultMessage:"Brush size"},eraserSize:{id:"paint.modeTools.eraserSize",defaultMessage:"Eraser size"},copy:{id:"paint.modeTools.copy",defaultMessage:"Copy"},paste:{id:"paint.modeTools.paste",defaultMessage:"Paste"},curved:{id:"paint.modeTools.curved",defaultMessage:"Curved"},pointed:{id:"paint.modeTools.pointed",defaultMessage:"Pointed"},flipHorizontal:{id:"paint.modeTools.flipHorizontal",defaultMessage:"Flip Horizontal"},flipVertical:{id:"paint.modeTools.flipVertical",defaultMessage:"Flip Vertical"}});switch(e.mode){case g.default.BRUSH:case g.default.BIT_BRUSH:var n=(0,v.isBitmap)(e.format)?x.default:C.default,i=(0,v.isBitmap)(e.format)?e.bitBrushSize:e.brushValue,o=(0,v.isBitmap)(e.format)?e.onBitBrushSliderChange:e.onBrushSliderChange;return s.default.createElement("div",{className:(0,r.default)(e.className,_.default.modeTools)},s.default.createElement("div",null,s.default.createElement("img",{alt:e.intl.formatMessage(t.brushSize),className:_.default.modeToolsIcon,draggable:!1,src:n})),s.default.createElement(P,{range:!0,small:!0,max:T.MAX_STROKE_WIDTH,min:"1",type:"number",value:i,onSubmit:o}));case g.default.ERASER:return s.default.createElement("div",{className:(0,r.default)(e.className,_.default.modeTools)},s.default.createElement("div",null,s.default.createElement("img",{alt:e.intl.formatMessage(t.eraserSize),className:_.default.modeToolsIcon,draggable:!1,src:k.default})),s.default.createElement(P,{range:!0,small:!0,max:T.MAX_STROKE_WIDTH,min:"1",type:"number",value:e.eraserValue,onSubmit:e.onEraserSliderChange}));case g.default.RESHAPE:return s.default.createElement("div",{className:(0,r.default)(e.className,_.default.modeTools)},s.default.createElement(m.default,{disabled:!e.hasSelectedUncurvedPoints,imgSrc:S.default,title:e.intl.formatMessage(t.curved),onClick:e.onCurvePoints}),s.default.createElement(m.default,{disabled:!e.hasSelectedUnpointedPoints,imgSrc:O.default,title:e.intl.formatMessage(t.pointed),onClick:e.onPointPoints}));case g.default.SELECT:return s.default.createElement("div",{className:(0,r.default)(e.className,_.default.modeTools)},s.default.createElement(p.default,{className:(0,r.default)(_.default.modDashedBorder,_.default.modLabeledIconHeight)},s.default.createElement(m.default,{disabled:!e.selectedItems.length,imgSrc:b.default,title:e.intl.formatMessage(t.copy),onClick:e.onCopyToClipboard}),s.default.createElement(m.default,{disabled:!(e.clipboardItems.length>0),imgSrc:w.default,title:e.intl.formatMessage(t.paste),onClick:e.onPasteFromClipboard})),s.default.createElement(p.default,{className:(0,r.default)(_.default.modLabeledIconHeight)},s.default.createElement(m.default,{imgSrc:E.default,title:e.intl.formatMessage(t.flipHorizontal),onClick:e.onFlipHorizontal}),s.default.createElement(m.default,{imgSrc:M.default,title:e.intl.formatMessage(t.flipVertical),onClick:e.onFlipVertical})));default:return s.default.createElement("div",{className:(0,r.default)(e.className,_.default.modeTools)})}};L.propTypes={bitBrushSize:a.default.number,brushValue:a.default.number,className:a.default.string,clipboardItems:a.default.arrayOf(a.default.array),eraserValue:a.default.number,format:a.default.oneOf(Object.keys(y.default)).isRequired,hasSelectedUncurvedPoints:a.default.bool,hasSelectedUnpointedPoints:a.default.bool,intl:h.intlShape.isRequired,mode:a.default.string.isRequired,onBitBrushSliderChange:a.default.func.isRequired,onBrushSliderChange:a.default.func.isRequired,onCopyToClipboard:a.default.func.isRequired,onCurvePoints:a.default.func.isRequired,onEraserSliderChange:a.default.func,onFlipHorizontal:a.default.func.isRequired,onFlipVertical:a.default.func.isRequired,onPasteFromClipboard:a.default.func.isRequired,onPointPoints:a.default.func.isRequired,selectedItems:a.default.arrayOf(a.default.instanceOf(i.default.Item))};t.default=(0,o.connect)(function(e){return{mode:e.scratchPaint.mode,format:e.scratchPaint.format,bitBrushSize:e.scratchPaint.bitBrushSize,brushValue:e.scratchPaint.brushMode.brushSize,clipboardItems:e.scratchPaint.clipboard.items,eraserValue:e.scratchPaint.eraserMode.brushSize,selectedItems:e.scratchPaint.selectedItems}},function(e){return{onBrushSliderChange:function(t){e((0,l.changeBrushSize)(t))},onBitBrushSliderChange:function(t){e((0,c.changeBitBrushSize)(t))},onEraserSliderChange:function(t){e((0,u.changeBrushSize)(t))}}})((0,h.injectIntl)(L))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=p(n(2)),o=p(n(0)),a=p(n(1)),s=n(8),l=p(n(5)),u=p(n(137)),c=n(9),d=n(52),h=n(3),f=n(15);function p(e){return e&&e.__esModule?e:{default:e}}var m=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return(0,l.default)(n,["_getSelectedUncurvedPoints","_getSelectedUnpointedPoints","hasSelectedUncurvedPoints","hasSelectedUnpointedPoints","handleCopyToClipboard","handleCurvePoints","handleFlipHorizontal","handleFlipVertical","handlePasteFromClipboard","handlePointPoints"]),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.default.Component),i(t,[{key:"_getSelectedUncurvedPoints",value:function(){var e=[],t=(0,h.getSelectedLeafItems)(),n=!0,i=!1,r=void 0;try{for(var o,a=t[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var s=o.value;if(s.segments){var l=!0,u=!1,c=void 0;try{for(var d,f=s.segments[Symbol.iterator]();!(l=(d=f.next()).done);l=!0){var p=d.value;if(p.selected){var m=p.getPrevious(),g=p.getNext();(!m||p.handleIn.length>0)&&(!g||p.handleOut.length>0)&&(!m||!g||p.handleOut.isColinear(p.handleIn))||e.push(p)}}}catch(e){u=!0,c=e}finally{try{!l&&f.return&&f.return()}finally{if(u)throw c}}}}}catch(e){i=!0,r=e}finally{try{!n&&a.return&&a.return()}finally{if(i)throw r}}return e}},{key:"_getSelectedUnpointedPoints",value:function(){var e=[],t=(0,h.getSelectedLeafItems)(),n=!0,i=!1,r=void 0;try{for(var o,a=t[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var s=o.value;if(s.segments){var l=!0,u=!1,c=void 0;try{for(var d,f=s.segments[Symbol.iterator]();!(l=(d=f.next()).done);l=!0){var p=d.value;p.selected&&(p.handleIn.length>0||p.handleOut.length>0)&&e.push(p)}}catch(e){u=!0,c=e}finally{try{!l&&f.return&&f.return()}finally{if(u)throw c}}}}}catch(e){i=!0,r=e}finally{try{!n&&a.return&&a.return()}finally{if(i)throw r}}return e}},{key:"hasSelectedUncurvedPoints",value:function(){return this._getSelectedUncurvedPoints().length>0}},{key:"hasSelectedUnpointedPoints",value:function(){return this._getSelectedUnpointedPoints().length>0}},{key:"handleCurvePoints",value:function(){var e=void 0,t=this._getSelectedUncurvedPoints(),n=!0,i=!1,r=void 0;try{for(var o,a=t[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var s=o.value,l=s.getPrevious(),u=s.getNext(),c=0===s.handleIn.length&&0===s.handleOut.length;if(l||u){if(l&&u&&c)s.handleIn=l.point.subtract(u.point).normalize().multiply(l.getCurve().length*f.HANDLE_RATIO);else if(l&&!u&&0===s.handleIn.length){var d=l.getCurve().getCurvatureAtTime(.5)<0?-1:1;s.handleIn=l.getCurve().getNormalAtTime(1).multiply(d).add(l.point.subtract(s.point).normalize()).normalize().multiply(l.getCurve().length*f.HANDLE_RATIO)}else if(u&&!l&&0===s.handleOut.length){var h=s.getCurve().getCurvatureAtTime(.5)<0?-1:1;s.handleOut=s.getCurve().getNormalAtTime(0).multiply(h).add(u.point.subtract(s.point).normalize()).normalize().multiply(s.getCurve().length*f.HANDLE_RATIO)}s.handleIn.length>0&&u?s.handleOut=s.handleIn.multiply(-1):s.handleOut.length>0&&l&&(s.handleIn=s.handleOut.multiply(-1)),e=!0}}}catch(e){i=!0,r=e}finally{try{!n&&a.return&&a.return()}finally{if(i)throw r}}e&&(this.props.setSelectedItems(),this.props.onUpdateSvg())}},{key:"handlePointPoints",value:function(){var e=void 0,t=this._getSelectedUnpointedPoints(),n=!0,i=!1,r=void 0;try{for(var o,a=t[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var s=o.value;0===s.handleIn.length&&0===s.handleOut.length||(s.handleIn=null,s.handleOut=null,e=!0)}}catch(e){i=!0,r=e}finally{try{!n&&a.return&&a.return()}finally{if(i)throw r}}e&&(this.props.setSelectedItems(),this.props.onUpdateSvg())}},{key:"_handleFlip",value:function(e,t){var n=(0,h.getSelectedRootItems)();0===n.length&&(n=(0,h.getAllRootItems)());var i=!0,o=!1,a=void 0;try{for(var s,l=n[Symbol.iterator]();!(i=(s=l.next()).done);i=!0){var u=s.value;u.data.index=u.index}}catch(e){o=!0,a=e}finally{try{!i&&l.return&&l.return()}finally{if(o)throw a}}var c=new r.default.Group(n);c.scale(e,t),(0,f.ensureClockwise)(c);for(var d=0;d<n.length;d++)c.layer.insertChild(n[d].data.index,n[d]),n[d].data.index=null;c.remove(),this.props.onUpdateSvg()}},{key:"handleFlipHorizontal",value:function(){this._handleFlip(-1,1)}},{key:"handleFlipVertical",value:function(){this._handleFlip(1,-1)}},{key:"handleCopyToClipboard",value:function(){var e=(0,h.getSelectedRootItems)();if(e.length>0){for(var t=[],n=0;n<e.length;n++){var i=e[n].exportJSON({asString:!1});t.push(i)}this.props.setClipboardItems(t)}}},{key:"handlePasteFromClipboard",value:function(){if((0,h.clearSelection)(this.props.clearSelectedItems),this.props.clipboardItems.length>0){for(var e=0;e<this.props.clipboardItems.length;e++){var t=r.default.Base.importJSON(this.props.clipboardItems[e]);t&&(t.selected=!0);var n=r.default.project.getActiveLayer().addChild(t);n.position.x+=10*this.props.pasteOffset,n.position.y+=10*this.props.pasteOffset}this.props.incrementPasteOffset(),this.props.setSelectedItems(),this.props.onUpdateSvg()}}},{key:"render",value:function(){return o.default.createElement(u.default,{hasSelectedUncurvedPoints:this.hasSelectedUncurvedPoints(),hasSelectedUnpointedPoints:this.hasSelectedUnpointedPoints(),onCopyToClipboard:this.handleCopyToClipboard,onCurvePoints:this.handleCurvePoints,onFlipHorizontal:this.handleFlipHorizontal,onFlipVertical:this.handleFlipVertical,onPasteFromClipboard:this.handlePasteFromClipboard,onPointPoints:this.handlePointPoints})}}]),t}();m.propTypes={clearSelectedItems:a.default.func.isRequired,clipboardItems:a.default.arrayOf(a.default.array),incrementPasteOffset:a.default.func.isRequired,onUpdateSvg:a.default.func.isRequired,pasteOffset:a.default.number,selectedItems:a.default.arrayOf(a.default.instanceOf(r.default.Item)),setClipboardItems:a.default.func.isRequired,setSelectedItems:a.default.func.isRequired};t.default=(0,s.connect)(function(e){return{clipboardItems:e.scratchPaint.clipboard.items,pasteOffset:e.scratchPaint.clipboard.pasteOffset,selectedItems:e.scratchPaint.selectedItems}},function(e){return{setClipboardItems:function(t){e((0,d.setClipboardItems)(t))},incrementPasteOffset:function(){e((0,d.incrementPasteOffset)())},clearSelectedItems:function(){e((0,c.clearSelectedItems)())},setSelectedItems:function(){e((0,c.setSelectedItems)((0,h.getSelectedLeafItems)()))}}})(m)},function(e,t,n){(t=e.exports=n(12)(!1)).push([e.i,".loupe_eye-dropper_39EHg {\n    position: absolute;\n    border-radius: 100%;\n    border: 1px solid #222;\n}\n",""]),t.locals={"eye-dropper":"loupe_eye-dropper_39EHg",eyeDropper:"loupe_eye-dropper_39EHg"}},function(e,t,n){var i=n(139);"string"==typeof i&&(i=[[e.i,i,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};n(11)(i,r);i.locals&&(e.exports=i.locals)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=d(n(1)),a=d(n(0)),s=d(n(5)),l=d(n(73)),u=n(63),c=d(n(140));function d(e){return e&&e.__esModule?e:{default:e}}var h=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return(0,s.default)(n,["setCanvas"]),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default.Component),r(t,[{key:"componentDidUpdate",value:function(){this.draw()}},{key:"draw",value:function(){var e=this.props.colorInfo.color,t=this.canvas.getContext("2d");this.canvas.width=2*u.LOUPE_RADIUS*3,this.canvas.height=2*u.LOUPE_RADIUS*3;var n=document.createElement("canvas");n.width=2*u.LOUPE_RADIUS,n.height=2*u.LOUPE_RADIUS;var i=n.getContext("2d"),r=i.createImageData(2*u.LOUPE_RADIUS,2*u.LOUPE_RADIUS);r.data.set(this.props.colorInfo.data),i.putImageData(r,0,0),t.save(),t.scale(3,3),t.drawImage(n,0,0,2*u.LOUPE_RADIUS,2*u.LOUPE_RADIUS),t.lineWidth=1/3,t.strokeStyle="black",t.fillStyle="rgba("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+")",t.beginPath(),t.rect(19,19,2,2),t.fill(),t.stroke(),t.strokeStyle="rgba("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+")",t.lineWidth=5,t.beginPath(),t.moveTo(2*u.LOUPE_RADIUS,u.LOUPE_RADIUS),t.arc(u.LOUPE_RADIUS,u.LOUPE_RADIUS,u.LOUPE_RADIUS,0,2*Math.PI),t.stroke(),t.restore()}},{key:"setCanvas",value:function(e){this.canvas=e}},{key:"render",value:function(){var e=this.props,t=e.colorInfo,n=e.pixelRatio,r=function(e,t){var n={};for(var i in e)t.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i]);return n}(e,["colorInfo","pixelRatio"]);return a.default.createElement(l.default,i({},r,{className:c.default.eyeDropper,componentRef:this.setCanvas,element:"canvas",height:2*u.LOUPE_RADIUS,style:{top:t.y/n-2*u.LOUPE_RADIUS*3/2,left:t.x/n-2*u.LOUPE_RADIUS*3/2,width:2*u.LOUPE_RADIUS*3,height:2*u.LOUPE_RADIUS*3},width:2*u.LOUPE_RADIUS}))}}]),t}();h.propTypes={colorInfo:o.default.shape({color:o.default.instanceOf(Uint8ClampedArray),x:o.default.number,y:o.default.number,data:o.default.instanceOf(Uint8ClampedArray)}),pixelRatio:o.default.number.isRequired},t.default=h},function(e,t){e.exports="data:image/svg+xml,%3C?xml version='1.0' encoding='UTF-8' standalone='no'?%3E %3Csvg width='20px' height='20px' viewBox='0 0 20 20' version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink'%3E %3C!-- Generator: Sketch 43.2 (39069) - http://www.bohemiancoding.com/sketch --%3E %3Ctitle%3Eline%3C/title%3E %3Cdesc%3ECreated with Sketch.%3C/desc%3E %3Cdefs%3E%3C/defs%3E %3Cg id='Page-1' stroke='none' stroke-width='1' fill='none' fill-rule='evenodd' stroke-linecap='square'%3E %3Cg id='line' stroke='%23575E75' stroke-width='2'%3E %3Cpath d='M5,15 L15,5' id='Line'%3E%3C/path%3E %3C/g%3E %3C/g%3E %3C/svg%3E"},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=s(n(0)),r=s(n(1)),o=s(n(10)),a=s(n(142));function s(e){return e&&e.__esModule?e:{default:e}}var l=function(e){return i.default.createElement(o.default,{imgDescriptor:{defaultMessage:"Line",description:"Label for the line tool, which draws straight line segments",id:"paint.lineMode.line"},imgSrc:a.default,isSelected:e.isSelected,onMouseDown:e.onMouseDown})};l.propTypes={isSelected:r.default.bool.isRequired,onMouseDown:r.default.func.isRequired},t.default=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.touching=t.endPointHit=void 0;var i,r=n(2),o=(i=r)&&i.__esModule?i:{default:i},a=n(3);var s=function(e,t,n){return e.getDistance(t,!0)<Math.pow(n/o.default.view.zoom,2)};t.endPointHit=function(e,t,n){for(var i=(0,a.getItems)({class:o.default.Path}),r=i.length-1;r>=0;r--)if(!i[r].closed&&i[r].parent instanceof o.default.Layer&&(!n||i[r]!==n)){if(i[r].firstSegment&&s(i[r].firstSegment.point,e,t))return{path:i[r],segment:i[r].firstSegment,isFirst:!0};if(i[r].lastSegment&&s(i[r].lastSegment.point,e,t))return{path:i[r],segment:i[r].lastSegment,isFirst:!1}}return null},t.touching=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=b(n(2)),o=b(n(1)),a=b(n(0)),s=n(8),l=b(n(5)),u=b(n(4)),c=n(3),d=n(144),h=n(29),f=n(6),p=n(23),m=n(28),g=n(14),v=n(9),y=n(15),_=b(n(143));function b(e){return e&&e.__esModule?e:{default:e}}var w=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return(0,l.default)(n,["activateTool","deactivateTool","drawHitPoint","onMouseDown","onMouseMove","onMouseDrag","onMouseUp"]),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default.Component),i(t,null,[{key:"SNAP_TOLERANCE",get:function(){return 6}},{key:"DEFAULT_COLOR",get:function(){return"#000000"}}]),i(t,[{key:"componentDidMount",value:function(){this.props.isLineModeActive&&this.activateTool()}},{key:"componentWillReceiveProps",value:function(e){e.isLineModeActive&&!this.props.isLineModeActive?this.activateTool():!e.isLineModeActive&&this.props.isLineModeActive&&this.deactivateTool()}},{key:"shouldComponentUpdate",value:function(e){return e.isLineModeActive!==this.props.isLineModeActive}},{key:"activateTool",value:function(){(0,c.clearSelection)(this.props.clearSelectedItems);var e=this.props.colorState.strokeColor;e!==f.MIXED&&null!==e||this.props.onChangeStrokeColor(t.DEFAULT_COLOR),this.props.colorState.strokeWidth||this.props.onChangeStrokeWidth(1),this.tool=new r.default.Tool,this.active=!1,this.path=null,this.hitResult=null;var n=this;this.tool.onMouseDown=function(e){e.event.button>0||n.onMouseDown(e)},this.tool.onMouseMove=function(e){n.onMouseMove(e)},this.tool.onMouseDrag=function(e){e.event.button>0||n.onMouseDrag(e)},this.tool.onMouseUp=function(e){e.event.button>0||n.onMouseUp(e)},this.tool.activate()}},{key:"onMouseDown",value:function(e){e.event.button>0||(this.active=!0,this.hitResult=(0,d.endPointHit)(e.point,t.SNAP_TOLERANCE),this.hitResult&&(this.path=this.hitResult.path,(0,f.stylePath)(this.path,this.props.colorState.strokeColor,this.props.colorState.strokeWidth),this.hitResult.isFirst&&this.path.reverse(),this.path.lastSegment.handleOut=null,this.path.add(this.hitResult.segment.point)),this.path||(this.path=new r.default.Path,(0,f.stylePath)(this.path,this.props.colorState.strokeColor,this.props.colorState.strokeWidth),this.path.add(e.point),this.path.add(e.point)))}},{key:"drawHitPoint",value:function(e){if(e){var t=e.path;e.isFirst?(0,h.drawHitPoint)(t.firstSegment.point):(0,h.drawHitPoint)(t.lastSegment.point)}}},{key:"onMouseMove",value:function(e){this.hitResult&&(0,h.removeHitPoint)(),this.hitResult=(0,d.endPointHit)(e.point,t.SNAP_TOLERANCE),this.drawHitPoint(this.hitResult)}},{key:"onMouseDrag",value:function(e){if(!(e.event.button>0)&&this.active){this.hitResult&&((0,h.removeHitPoint)(),this.hitResult=null);var n=e.point;if(e.modifiers.shift){var i=e.point.subtract(this.path.lastSegment.previous.point);n=this.path.lastSegment.previous.point.add((0,y.snapDeltaToAngle)(i,Math.PI/4))}if(this.path&&!this.path.closed&&this.path.segments.length>3&&(0,d.touching)(this.path.firstSegment.point,n,t.SNAP_TOLERANCE)?this.hitResult={path:this.path,segment:this.path.firstSegment,isFirst:!0}:this.hitResult=(0,d.endPointHit)(n,t.SNAP_TOLERANCE,this.path),this.hitResult&&e.modifiers.shift){var r=this.hitResult.segment.point.subtract(this.path.lastSegment.previous.point),o=n.subtract(this.path.lastSegment.previous.point);r.normalize().getDistance(o.normalize())>.01&&(this.hitResult=null)}this.hitResult?(this.drawHitPoint(this.hitResult),this.path.lastSegment.point=this.hitResult.segment.point):this.path.lastSegment.point=n}}},{key:"onMouseUp",value:function(e){if(!(e.event.button>0)&&this.active){if(this.path.segments.length<2||2===this.path.segments.length&&(0,d.touching)(this.path.firstSegment.point,e.point,t.SNAP_TOLERANCE)&&!this.hitResult)return this.path.remove(),void(this.path=null);if(!this.hitResult&&(0,d.touching)(this.path.lastSegment.point,this.path.segments[this.path.segments.length-2].point,t.SNAP_TOLERANCE))return this.path.removeSegment(this.path.segments.length-1),void(this.path=null);this.hitResult&&(this.path.removeSegment(this.path.segments.length-1),this.path.firstSegment.point.equals(this.hitResult.segment.point)?(this.path.firstSegment.handleIn=null,this.path.closed=!0):(this.hitResult.isFirst||this.hitResult.path.reverse(),this.hitResult.path.firstSegment.handleIn=null,this.path.join(this.hitResult.path)),(0,h.removeHitPoint)(),this.hitResult=null),this.path&&(this.props.onUpdateSvg(),this.path=null),this.active=!1}}},{key:"deactivateTool",value:function(){this.tool.remove(),this.tool=null,this.hitResult&&((0,h.removeHitPoint)(),this.hitResult=null),this.path&&(this.path=null)}},{key:"render",value:function(){return a.default.createElement(_.default,{isSelected:this.props.isLineModeActive,onMouseDown:this.props.handleMouseDown})}}]),t}();w.propTypes={clearSelectedItems:o.default.func.isRequired,colorState:o.default.shape({fillColor:o.default.string,strokeColor:o.default.string,strokeWidth:o.default.number}).isRequired,handleMouseDown:o.default.func.isRequired,isLineModeActive:o.default.bool.isRequired,onChangeStrokeColor:o.default.func.isRequired,onChangeStrokeWidth:o.default.func.isRequired,onUpdateSvg:o.default.func.isRequired};t.default=(0,s.connect)(function(e){return{colorState:e.scratchPaint.color,isLineModeActive:e.scratchPaint.mode===u.default.LINE}},function(e){return{clearSelectedItems:function(){e((0,v.clearSelectedItems)())},handleMouseDown:function(){e((0,g.changeMode)(u.default.LINE))},onChangeStrokeColor:function(t){e((0,p.changeStrokeColor)(t))},onChangeStrokeWidth:function(t){e((0,m.changeStrokeWidth)(t))}}})(w)},function(e,t,n){(t=e.exports=n(12)(!1)).push([e.i,"/* DO NOT EDIT\n@todo This file is copied from GUI and should be pulled out into a shared library.\nSee https://github.com/LLK/scratch-paint/issues/13 */\n\n/* ACTUALLY, THIS IS EDITED ;)\nTHIS WAS CHANGED ON 10/25/2017 BY @mewtaylor TO ADD A VARIABLE FOR THE SMALLEST\nGRID UNITS.\n\nALSO EDITED ON 11/13/2017 TO ADD IN CONTANTS FOR LAYOUT FROM `layout-contents.js`*/\n\n/* layout contants from `layout-constants.js`, minus 1px */\n\n.labeled-icon-button_mod-edit-field_Z3eav {\n    background: none;\n    border: none;\n    display: inline-block;\n    padding: .25rem .325rem;\n    outline: none;\n    border-radius: 0.25rem;\n    min-width: 3rem;\n    font-size: 0.85rem;\n    text-align: center;\n}\n\n.labeled-icon-button_edit-field-icon_1BGdr {\n    width: 1.5rem;\n    height: 1.5rem;\n    -webkit-box-flex: 1;\n    -webkit-flex-grow: 1;\n        -ms-flex-positive: 1;\n            flex-grow: 1;\n    vertical-align: middle;\n}\n\n.labeled-icon-button_edit-field-title_32vCQ {\n    display: block;\n    margin-top: .125rem;\n    font-size: .625rem;\n}\n",""]),t.locals={"mod-edit-field":"labeled-icon-button_mod-edit-field_Z3eav",modEditField:"labeled-icon-button_mod-edit-field_Z3eav","edit-field-icon":"labeled-icon-button_edit-field-icon_1BGdr",editFieldIcon:"labeled-icon-button_edit-field-icon_1BGdr","edit-field-title":"labeled-icon-button_edit-field-title_32vCQ",editFieldTitle:"labeled-icon-button_edit-field-title_32vCQ"}},function(e,t,n){var i=n(146);"string"==typeof i&&(i=[[e.i,i,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};n(11)(i,r);i.locals&&(e.exports=i.locals)},function(e,t,n){(t=e.exports=n(12)(!1)).push([e.i,'/* DO NOT EDIT\n@todo This file is copied from GUI and should be pulled out into a shared library.\nSee https://github.com/LLK/scratch-paint/issues/13 */\n\n/* NOTE:\nEdited to add input-range-small\n*/\n\n/* DO NOT EDIT\n@todo This file is copied from GUI and should be pulled out into a shared library.\nSee https://github.com/LLK/scratch-paint/issues/13 */\n\n/* ACTUALLY, THIS IS EDITED ;)\nTHIS WAS CHANGED ON 10/25/2017 BY @mewtaylor TO ADD A VARIABLE FOR THE SMALLEST\nGRID UNITS.\n\nALSO EDITED ON 11/13/2017 TO ADD IN CONTANTS FOR LAYOUT FROM `layout-contents.js`*/\n\n/* layout contants from `layout-constants.js`, minus 1px */\n\n/* DO NOT EDIT\n@todo This file is copied from GUI and should be pulled out into a shared library.\nSee https://github.com/LLK/scratch-paint/issues/13 */\n\n.input_input-form_l9eYg {\n    height: 2rem;\n    padding: 0 0.75rem;\n\n    font-family: "Helvetica Neue", Helvetica, Arial, sans-serif;\n    font-size: 0.75rem;\n    font-weight: bold;\n    color: #575e75;\n\n    border-width: 1px;\n    border-style: solid;\n    border-color: #E9EEF2;\n    border-radius: 2rem;\n\n    outline: none;\n    cursor: text;\n    -webkit-transition: 0.25s ease-out;\n    -o-transition: 0.25s ease-out;\n    transition: 0.25s ease-out; /* @todo: standardize with var */\n    -webkit-box-shadow: none;\n            box-shadow: none;\n\n    /*\n        For truncating overflowing text gracefully\n        Min-width is for a bug: https://css-tricks.com/flexbox-truncated-text\n        @todo: move this out into a mixin or a helper component\n    */\n    overflow: hidden;\n    -o-text-overflow: ellipsis;\n       text-overflow: ellipsis;\n    white-space: nowrap;\n    min-width: 0;\n}\n\n.input_input-form_l9eYg:focus {\n    border-color: #4C97FF;\n    -webkit-box-shadow: 0 0 0 .25rem hsla(215, 100%, 65%, 0.20);\n            box-shadow: 0 0 0 .25rem hsla(215, 100%, 65%, 0.20);\n}\n\n.input_input-small_2qj1C {\n    width: 3rem; \n    text-align: center;\n}\n\n.input_input-small-range_2GQzZ {\n    width: 3.75rem;\n    text-align: center;\n}\n',""]),t.locals={"input-form":"input_input-form_l9eYg",inputForm:"input_input-form_l9eYg","input-small":"input_input-small_2qj1C",inputSmall:"input_input-small_2qj1C","input-small-range":"input_input-small-range_2GQzZ",inputSmallRange:"input_input-small-range_2GQzZ"}},function(e,t,n){var i=n(148);"string"==typeof i&&(i=[[e.i,i,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};n(11)(i,r);i.locals&&(e.exports=i.locals)},function(e,t){e.exports="data:image/svg+xml,%3C?xml version='1.0' encoding='UTF-8' standalone='no'?%3E %3Csvg width='20px' height='20px' viewBox='0 0 20 20' version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink'%3E %3C!-- Generator: Sketch 48.1 (47250) - http://www.bohemiancoding.com/sketch --%3E %3Ctitle%3Efill%3C/title%3E %3Cdesc%3ECreated with Sketch.%3C/desc%3E %3Cdefs%3E%3C/defs%3E %3Cg id='Page-1' stroke='none' stroke-width='1' fill='none' fill-rule='evenodd'%3E %3Cg id='fill' fill='%23575E75'%3E %3Cpath d='M14.0450969,9.69349504 L14.0306818,9.67916207 C13.4396629,9.36383682 12.5170968,8.69018743 11.4215496,7.60088203 C11.0900024,7.27122381 10.7872854,6.95589857 10.5422288,6.65490628 C10.71521,6.4399118 10.8881911,6.22491731 11.0611722,6.00992282 C11.3783043,6.26791621 11.7242666,6.58324146 12.084644,6.9415656 C12.3152855,7.17089305 12.5026817,7.37155458 12.690078,7.5722161 C12.7189081,7.61521499 12.7621534,7.65821389 12.8198138,7.70121279 C13.6270591,8.6185226 14.1027573,9.36383682 14.3189837,9.7938258 C14.3189837,9.80815877 14.3333988,9.82249173 14.3333988,9.8368247 C14.2469082,9.7938258 14.1460025,9.7508269 14.0450969,9.69349504 M10.5998892,10.0661521 C9.7349835,10.53914 8.91332309,10.983462 7.61596455,10.6824697 C6.17445506,10.3528115 5.4825305,9.76515987 5.19422861,9.42116869 L8.3078891,5.40793826 C8.52411553,5.83792723 8.84124762,6.28224917 9.1727948,6.69790518 C8.82683252,7.21389195 8.55294572,7.64388093 8.42320986,7.84454245 C8.27905891,8.08820287 8.35113439,8.41786108 8.6106061,8.5755237 C8.69709667,8.63285557 8.79800233,8.6615215 8.8844929,8.6615215 C9.07188913,8.6615215 9.24487027,8.56119074 9.34577594,8.40352811 C9.50434198,8.13120176 9.69173821,7.84454245 9.89354954,7.55788313 C10.1962665,7.90187431 10.4701533,8.17420066 10.6575496,8.36052922 C11.0755873,8.77618523 11.4936251,9.14884234 11.8972477,9.47850055 C11.4215496,9.60749724 11.0035119,9.85115766 10.5998892,10.0661521 M10.2106816,5.33627343 C10.0953609,5.49393605 9.96562502,5.65159868 9.85030426,5.79492834 C9.50434198,5.33627343 9.28811556,4.96361632 9.1727948,4.70562293 C9.41785141,4.80595369 9.76381369,5.02094818 10.2106816,5.33627343 M13.5117384,4.07497244 C13.6703044,4.07497244 13.8432855,4.10363837 13.8721157,4.1753032 C14.0450969,4.49062845 13.6270591,5.49393605 13.0648704,6.3969129 L12.848644,6.18191841 C12.6180025,5.95259096 12.2287949,5.59426681 11.781927,5.20727674 C12.4450213,4.53362734 13.0504553,4.07497244 13.5117384,4.07497244 M16.5533234,12.1587652 C16.337097,11.5997795 15.9911347,11.0981257 15.587512,10.6681367 C15.5442667,10.6108049 15.4866064,10.567806 15.428946,10.5248071 C15.6740026,9.99448732 15.2703799,9.23484013 14.9244177,8.69018743 C14.6505309,8.24586549 14.2757384,7.74421169 13.8288705,7.24255788 C14.3910592,6.38257993 15.3568705,4.676957 14.8379271,3.67364939 C14.679361,3.37265711 14.3189837,3 13.5117384,3 L13.4973233,3 C12.6756629,3 11.7675119,3.65931643 10.9458515,4.51929438 C10.0232854,3.84564498 9.01422875,3.31532525 8.40879477,3.65931643 C8.35113439,3.68798236 8.27905891,3.71664829 8.23581363,3.77398015 C8.22139853,3.78831312 8.19256835,3.80264609 8.17815325,3.83131202 C8.16373816,3.84564498 8.14932306,3.85997795 8.13490797,3.88864388 L8.12049287,3.91730981 L4.12751158,9.04851158 C4.11309649,9.04851158 4.11309649,9.04851158 4.09868139,9.06284454 L3.20494551,10.2238148 L3.16170023,10.2668137 C3.11845494,10.3098126 3.08962475,10.3671444 3.07520966,10.4101433 L3.07520966,10.4244763 C2.62834171,11.3417861 4.28607763,13.1334068 5.06449275,13.92172 C5.75641731,14.6097023 7.28441737,16 8.23581363,16 C8.43762496,16 8.596191,15.9426681 8.74034195,15.8136714 L14.2613233,11.5567806 C14.2901535,11.5424476 14.3045686,11.5137817 14.3333988,11.4851158 C14.362229,11.5137817 14.3766441,11.5567806 14.3910592,11.5854465 C14.5640403,11.9294377 14.679361,12.2877619 14.6937761,12.6747519 C14.7370214,13.061742 14.7081912,13.463065 14.6505309,13.8500551 L14.6505309,13.8643881 C14.6361158,13.9790518 14.6361158,14.0793826 14.6505309,14.1940463 C14.7514365,14.8390298 15.3568705,15.2833517 15.9911347,15.1830209 C16.639814,15.0826902 17.0866819,14.4807056 16.9857762,13.8357222 C16.8992857,13.2767365 16.7839649,12.7034179 16.5533234,12.1587652' id='Fill-1'%3E%3C/path%3E %3C/g%3E %3C/g%3E %3C/svg%3E"},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=s(n(0)),r=s(n(1)),o=s(n(10)),a=s(n(150));function s(e){return e&&e.__esModule?e:{default:e}}var l=function(e){return i.default.createElement(o.default,{imgDescriptor:{defaultMessage:"Fill",description:"Label for the fill tool",id:"paint.fillMode.fill"},imgSrc:a.default,isSelected:e.isSelected,onMouseDown:e.onMouseDown})};l.propTypes={isSelected:r.default.bool.isRequired,onMouseDown:r.default.func.isRequired},t.default=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=n(2),a=(i=o)&&i.__esModule?i:{default:i},s=n(40),l=n(15);var u=function(e){function t(e,n,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return r.setHoveredItem=e,r.clearHoveredItem=n,r.onUpdateSvg=i,r.onMouseMove=r.handleMouseMove,r.onMouseUp=r.handleMouseUp,r.fillColor=null,r.fillItem=null,r.addedFillItem=null,r.fillItemOrigColor=null,r.prevHoveredItemId=null,r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default.Tool),r(t,null,[{key:"TOLERANCE",get:function(){return 2}}]),r(t,[{key:"getHitOptions",value:function(){return{segments:!0,stroke:!0,curves:!0,fill:!0,guide:!1,match:function(e){return!!(e.item instanceof a.default.Path&&(e.item.hasFill()||e.item.closed||(t=e.item,t instanceof a.default.Path&&t.segments.length>2&&t.lastSegment.point.getDistance(t.firstSegment.point)<8)))||(e.item instanceof a.default.PointText||void 0);var t},hitUnfilledPaths:!0,tolerance:t.TOLERANCE/a.default.view.zoom}}},{key:"setFillColor",value:function(e){this.fillColor=e}},{key:"setPrevHoveredItemId",value:function(e){this.prevHoveredItemId=e}},{key:"handleMouseMove",value:function(e){var t=(0,s.getHoveredItem)(e,this.getHitOptions(),!0);(!t&&this.prevHoveredItemId||t&&!this.prevHoveredItemId||t&&this.prevHoveredItemId&&t.id!==this.prevHoveredItemId)&&this.setHoveredItem(t?t.id:null);var n=t?t.data.origItem:null;if((n||this.fillItem)&&this.fillItem!==n&&(this.fillItem&&(this.addedFillItem?(this.addedFillItem.remove(),this.addedFillItem=null):this._setFillItemColor(this.fillItemOrigColor),this.fillItemOrigColor=null,this.fillItem=null),n)){if(this.fillItem=n,this.fillItemOrigColor=n.fillColor,n.parent instanceof a.default.CompoundPath&&n.area<0){if(!this.fillColor)return this.fillItem=null,void(this.fillItemOrigColor=null);this.addedFillItem=n.clone(),this.addedFillItem.setClockwise(!0),this.addedFillItem.data.noHover=!0,this.addedFillItem.data.origItem=n,(0,l.expandBy)(this.addedFillItem,.1),this.addedFillItem.insertAbove(n.parent)}else this.fillItem.parent instanceof a.default.CompoundPath&&(this.fillItemOrigColor=n.parent.fillColor);this._setFillItemColor(this.fillColor)}}},{key:"handleMouseUp",value:function(e){if(!(e.event.button>0)&&this.fillItem){if(this.addedFillItem&&this._noStroke(this.fillItem.parent)&&"gradient"!==this.addedFillItem.fillColor.type&&this.fillItem.parent.fillColor.toCSS()===this.addedFillItem.fillColor.toCSS()){this.addedFillItem.remove(),this.addedFillItem=null;var t=this.fillItem.parent;this.fillItem.remove(),(t=t.reduce()).fillColor=this.fillColor}else if(this.addedFillItem)this.addedFillItem.data.noHover=!1;else if(!this.fillColor&&this.fillItem.data&&this.fillItem.data.origItem){var n=this.fillItem.parent;this.fillItem.remove(),n instanceof a.default.Layer||1!==n.children.length||n.reduce()}this.clearHoveredItem(),this.fillItem=null,this.addedFillItem=null,this.fillItemOrigColor=null,this.onUpdateSvg()}}},{key:"_noStroke",value:function(e){return!e.strokeColor||0===e.strokeColor.alpha||0===e.strokeWidth}},{key:"_setFillItemColor",value:function(e){this.addedFillItem?this.addedFillItem.fillColor=e:this.fillItem.parent instanceof a.default.CompoundPath?this.fillItem.parent.fillColor=e:this.fillItem.fillColor=e}},{key:"deactivateTool",value:function(){this.fillItem&&(this._setFillItemColor(this.fillItemOrigColor),this.fillItemOrigColor=null,this.fillItem=null),this.clearHoveredItem(),this.setHoveredItem=null,this.clearHoveredItem=null}}]),t}();t.default=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=v(n(1)),o=v(n(0)),a=n(8),s=v(n(5)),l=v(n(4)),u=v(n(152)),c=n(6),d=n(17),h=n(14),f=n(9),p=n(3),m=n(31),g=v(n(151));function v(e){return e&&e.__esModule?e:{default:e}}var y=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return(0,s.default)(n,["activateTool","deactivateTool"]),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.default.Component),i(t,[{key:"componentDidMount",value:function(){this.props.isFillModeActive&&this.activateTool(this.props)}},{key:"componentWillReceiveProps",value:function(e){this.tool&&e.fillColor!==this.props.fillColor&&this.tool.setFillColor(e.fillColor),this.tool&&e.hoveredItemId!==this.props.hoveredItemId&&this.tool.setPrevHoveredItemId(e.hoveredItemId),e.isFillModeActive&&!this.props.isFillModeActive?this.activateTool():!e.isFillModeActive&&this.props.isFillModeActive&&this.deactivateTool()}},{key:"shouldComponentUpdate",value:function(e){return e.isFillModeActive!==this.props.isFillModeActive}},{key:"activateTool",value:function(){(0,p.clearSelection)(this.props.clearSelectedItems),this.props.fillColor===c.MIXED&&this.props.onChangeFillColor(d.DEFAULT_COLOR),this.tool=new u.default(this.props.setHoveredItem,this.props.clearHoveredItem,this.props.onUpdateSvg),this.tool.setFillColor(this.props.fillColor===c.MIXED?d.DEFAULT_COLOR:this.props.fillColor),this.tool.setPrevHoveredItemId(this.props.hoveredItemId),this.tool.activate()}},{key:"deactivateTool",value:function(){this.tool.deactivateTool(),this.tool.remove(),this.tool=null}},{key:"render",value:function(){return o.default.createElement(g.default,{isSelected:this.props.isFillModeActive,onMouseDown:this.props.handleMouseDown})}}]),t}();y.propTypes={clearHoveredItem:r.default.func.isRequired,clearSelectedItems:r.default.func.isRequired,fillColor:r.default.string,handleMouseDown:r.default.func.isRequired,hoveredItemId:r.default.number,isFillModeActive:r.default.bool.isRequired,onChangeFillColor:r.default.func.isRequired,onUpdateSvg:r.default.func.isRequired,setHoveredItem:r.default.func.isRequired};t.default=(0,a.connect)(function(e){return{fillModeState:e.scratchPaint.fillMode,fillColor:e.scratchPaint.color.fillColor,hoveredItemId:e.scratchPaint.hoveredItemId,isFillModeActive:e.scratchPaint.mode===l.default.FILL}},function(e){return{setHoveredItem:function(t){e((0,m.setHoveredItem)(t))},clearHoveredItem:function(){e((0,m.clearHoveredItem)())},clearSelectedItems:function(){e((0,f.clearSelectedItems)())},handleMouseDown:function(){e((0,h.changeMode)(l.default.FILL))},onChangeFillColor:function(t){e((0,d.changeFillColor)(t))}}})(y)},function(e,t,n){(t=e.exports=n(12)(!1)).push([e.i,"/* DO NOT EDIT\n@todo This file is copied from GUI and should be pulled out into a shared library.\nSee https://github.com/LLK/scratch-paint/issues/13 */\n\n/* DO NOT EDIT\n@todo This file is copied from GUI and should be pulled out into a shared library.\nSee https://github.com/LLK/scratch-paint/issues/13 */\n\n/* ACTUALLY, THIS IS EDITED ;)\nTHIS WAS CHANGED ON 10/25/2017 BY @mewtaylor TO ADD A VARIABLE FOR THE SMALLEST\nGRID UNITS.\n\nALSO EDITED ON 11/13/2017 TO ADD IN CONTANTS FOR LAYOUT FROM `layout-contents.js`*/\n\n/* layout contants from `layout-constants.js`, minus 1px */\n\n/* DO NOT EDIT\n@todo This file is copied from GUI and should be pulled out into a shared library.\nSee https://github.com/LLK/scratch-paint/issues/13 */\n\n.label_input-group_2vTky {\n    display: -webkit-inline-box;\n    display: -webkit-inline-flex;\n    display: -ms-inline-flexbox;\n    display: inline-flex;\n    -webkit-box-orient: horizontal;\n    -webkit-box-direction: normal;\n    -webkit-flex-direction: row;\n        -ms-flex-direction: row;\n            flex-direction: row;\n    -webkit-box-align: center;\n    -webkit-align-items: center;\n        -ms-flex-align: center;\n            align-items: center;\n}\n\n.label_input-label_3KjCa, .label_input-label-secondary_3QDNV {\n    font-size: 0.625rem;\n    margin-right: calc(2 * .25rem);\n    -webkit-user-select: none;\n       -moz-user-select: none;\n        -ms-user-select: none;\n            user-select: none;\n    cursor: default;\n}\n\n.label_input-label_3KjCa {\n    font-weight: bold;\n}\n",""]),t.locals={"input-group":"label_input-group_2vTky",inputGroup:"label_input-group_2vTky","input-label":"label_input-label_3KjCa",inputLabel:"label_input-label_3KjCa","input-label-secondary":"label_input-label-secondary_3QDNV",inputLabelSecondary:"label_input-label-secondary_3QDNV"}},function(e,t,n){var i=n(154);"string"==typeof i&&(i=[[e.i,i,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};n(11)(i,r);i.locals&&(e.exports=i.locals)},function(e,t,n){(t=e.exports=n(12)(!1)).push([e.i,"/* DO NOT EDIT\n@todo This file is copied from GUI and should be pulled out into a shared library.\nSee https://github.com/LLK/scratch-paint/issues/13 */\n\n/* ACTUALLY, THIS IS EDITED ;)\nTHIS WAS CHANGED ON 10/25/2017 BY @mewtaylor TO ADD A VARIABLE FOR THE SMALLEST\nGRID UNITS.\n\nALSO EDITED ON 11/13/2017 TO ADD IN CONTANTS FOR LAYOUT FROM `layout-contents.js`*/\n\n/* layout contants from `layout-constants.js`, minus 1px */\n\n.input-group_input-group_3FzNB + .input-group_input-group_3FzNB {\n    margin-left: calc(2 * .25rem);\n}\n\n.input-group_disabled_3fp6_ {\n    opacity: 0.3;\n    /* Prevent any user actions */\n    pointer-events: none;\n}\n",""]),t.locals={"input-group":"input-group_input-group_3FzNB",inputGroup:"input-group_input-group_3FzNB",disabled:"input-group_disabled_3fp6_"}},function(e,t,n){var i=n(156);"string"==typeof i&&(i=[[e.i,i,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};n(11)(i,r);i.locals&&(e.exports=i.locals)},function(e,t){e.exports="data:image/svg+xml,%3C?xml version='1.0' encoding='UTF-8' standalone='no'?%3E %3Csvg width='20px' height='20px' viewBox='0 0 20 20' version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink'%3E %3C!-- Generator: Sketch 43.2 (39069) - http://www.bohemiancoding.com/sketch --%3E %3Ctitle%3Eeye-dropper%3C/title%3E %3Cdesc%3ECreated with Sketch.%3C/desc%3E %3Cdefs%3E%3C/defs%3E %3Cg id='Page-1' stroke='none' stroke-width='1' fill='none' fill-rule='evenodd'%3E %3Cg id='eye-dropper' fill='%23575E75'%3E %3Cpath d='M9.15334605,12.4824962 C9.03394044,12.6188737 8.88041895,12.7041096 8.60749186,12.7722983 C7.90811618,12.925723 7.24285639,13.5564688 7.03816107,14.2554033 C6.9699293,14.4770167 6.74817603,14.7156773 6.50936483,14.8350076 L4.73533871,15.6703196 C4.650049,15.704414 4.58181722,15.7214612 4.54770134,15.7214612 L4.27477424,15.4657534 C4.27477424,15.4487062 4.27477424,15.3805175 4.32594807,15.2611872 L5.1617873,13.4712329 C5.26413496,13.2496195 5.50294617,13.0280061 5.74175737,12.9598174 C6.44113305,12.738204 7.07227696,12.090411 7.25991433,11.2380518 C7.29403022,11.1016743 7.37931994,10.9652968 7.49872554,10.8289193 L11.4391105,6.90806697 L13.093731,8.56164384 L9.15334605,12.4824962 Z M16.6076673,5.28858447 C16.8635365,5.03287671 17,4.67488584 17,4.33394216 C17,3.99299848 16.8635365,3.65205479 16.6076673,3.39634703 C16.0788711,2.86788432 15.2430318,2.86788432 14.7142356,3.39634703 L13.2301945,4.87945205 L13.0596151,4.70898021 L12.5137609,4.16347032 C12.172602,3.82252664 11.6096899,3.82252664 11.268531,4.16347032 L10.6032712,4.81126332 C10.2791703,5.152207 10.2621124,5.64657534 10.5520974,5.98751903 L6.59465454,9.92541857 C6.30466951,10.2322679 6.09997418,10.5902588 5.98056858,11.1016743 C5.92939475,11.357382 5.63940971,11.6471842 5.36648262,11.7324201 C4.80357049,11.9028919 4.2577163,12.3802131 4.00184715,12.9427702 L3.16600792,14.7156773 C2.89308083,15.3123288 2.9613126,15.9260274 3.33658736,16.3181126 L3.67774623,16.6590563 C3.89949949,16.8806697 4.20654247,17 4.54770134,17 C4.7694546,17 5.02532375,16.9318113 5.26413496,16.8295282 L7.05521901,15.9942161 C7.61813114,15.7214612 8.09575356,15.1929985 8.26633299,14.6304414 C8.33456477,14.3576865 8.64160775,14.0678843 9.05099839,13.9826484 C9.4092152,13.8974125 9.76743201,13.6928463 10.057417,13.385997 L14.0148599,9.44809741 C14.3560188,9.73789954 14.8677571,9.70380518 15.1748001,9.37990868 L15.8400599,8.73211568 C16.1812187,8.39117199 16.1812187,7.82861492 15.8400599,7.48767123 L15.2600898,6.90806697 L15.1236262,6.7716895 L16.6076673,5.28858447 Z' id='eye-dropper-icon'%3E%3C/path%3E %3C/g%3E %3C/g%3E %3C/svg%3E"},function(e,t,n){(t=e.exports=n(12)(!1)).push([e.i,'/* Popover styles */\n.Popover-body {\n    background: white;\n    border: 1px solid #ddd;\n    padding: 4px;\n    border-radius: 4px;\n    padding: 4px;\n    -webkit-box-shadow: 0px 0px 8px 1px rgba(0, 0, 0, .3);\n            box-shadow: 0px 0px 8px 1px rgba(0, 0, 0, .3);\n}\n.Popover-tipShape {\n    fill: white;\n    stroke: #ddd;\n}\n.color-picker_swatch-row_3ygSb {\n    display: -webkit-box;\n    display: -webkit-flex;\n    display: -ms-flexbox;\n    display: flex;\n    -webkit-box-orient: horizontal;\n    -webkit-box-direction: normal;\n    -webkit-flex-direction: row;\n        -ms-flex-direction: row;\n            flex-direction: row;\n    -webkit-box-pack: justify;\n    -webkit-justify-content: space-between;\n        -ms-flex-pack: justify;\n            justify-content: space-between;\n}\n.color-picker_row-header_23YDh {\n    font-family: "Helvetica Neue", Helvetica, sans-serif;\n    font-size: 0.65rem;\n    color: #575E75;\n    margin: 8px;\n}\n.color-picker_label-readout_efqFT {\n    margin-left: 10px;\n}\n.color-picker_label-name_3kaOv {\n    font-weight: bold;\n}\n.color-picker_divider_3Hq7P {\n    border-top: 1px solid #ddd;\n    margin: 8px;\n}\n.color-picker_swatches_3P15b {\n    margin: 8px;\n}\n.color-picker_swatch_3zRbd {\n    width: 1.5rem;\n    height: 1.5rem;\n    border: 1px solid #ddd;\n    border-radius: 4px;\n    -webkit-box-sizing: content-box;\n            box-sizing: content-box;\n}\n.color-picker_active-swatch_2U6UP {\n    border: 1px solid #4C97FF;\n    -webkit-box-shadow: 0px 0px 0px 3px hsla(215, 100%, 65%, 0.2);\n            box-shadow: 0px 0px 0px 3px hsla(215, 100%, 65%, 0.2);\n}\n.color-picker_swatch_3zRbd > img {\n    width: 1.5rem;\n    height: 1.5rem;\n}\n',""]),t.locals={"swatch-row":"color-picker_swatch-row_3ygSb",swatchRow:"color-picker_swatch-row_3ygSb","row-header":"color-picker_row-header_23YDh",rowHeader:"color-picker_row-header_23YDh","label-readout":"color-picker_label-readout_efqFT",labelReadout:"color-picker_label-readout_efqFT","label-name":"color-picker_label-name_3kaOv",labelName:"color-picker_label-name_3kaOv",divider:"color-picker_divider_3Hq7P",swatches:"color-picker_swatches_3P15b",swatch:"color-picker_swatch_3zRbd","active-swatch":"color-picker_active-swatch_2U6UP",activeSwatch:"color-picker_active-swatch_2U6UP"}},function(e,t,n){var i=n(159);"string"==typeof i&&(i=[[e.i,i,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};n(11)(i,r);i.locals&&(e.exports=i.locals)},function(e,t,n){(t=e.exports=n(12)(!1)).push([e.i,".slider_container_2U0n6 {\n    margin: 8px;\n    height: 22px;\n    width: 150px;\n    position: relative;\n    outline: none;\n    border-radius: 11px;\n    margin-bottom: 20px;\n}\n\n.slider_handle_2M_mA {\n    left: 100px;\n    width: 26px;\n    height: 26px;\n    margin-top: -2px;\n    position: absolute;\n    background-color: white;\n    border-radius: 100%;\n    -webkit-box-shadow: 0 0 0 4px rgba(0, 0, 0, 0.15);\n            box-shadow: 0 0 0 4px rgba(0, 0, 0, 0.15);\n}\n",""]),t.locals={container:"slider_container_2U0n6",handle:"slider_handle_2M_mA"}},function(e,t,n){var i=n(161);"string"==typeof i&&(i=[[e.i,i,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};n(11)(i,r);i.locals&&(e.exports=i.locals)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.getEventXY=function(e){return e.touches&&e.touches[0]?{x:e.touches[0].clientX,y:e.touches[0].clientY}:e.changedTouches&&e.changedTouches[0]?{x:e.changedTouches[0].clientX,y:e.changedTouches[0].clientY}:{x:e.clientX,y:e.clientY}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=u(n(0)),o=u(n(1)),a=u(n(5)),s=n(163),l=u(n(162));function u(e){return e&&e.__esModule?e:{default:e}}var c=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return(0,a.default)(n,["handleMouseDown","handleMouseUp","handleMouseMove","handleClickBackground","setBackground"]),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.default.Component),i(t,[{key:"handleMouseDown",value:function(){document.addEventListener("mousemove",this.handleMouseMove),document.addEventListener("mouseup",this.handleMouseUp),document.addEventListener("touchmove",this.handleMouseMove),document.addEventListener("touchend",this.handleMouseUp)}},{key:"handleMouseUp",value:function(){document.removeEventListener("mousemove",this.handleMouseMove),document.removeEventListener("mouseup",this.handleMouseUp),document.removeEventListener("touchmove",this.handleMouseMove),document.removeEventListener("touchend",this.handleMouseUp)}},{key:"handleMouseMove",value:function(e){e.preventDefault(),this.props.onChange(this.scaleMouseToSliderPosition(e))}},{key:"handleClickBackground",value:function(e){this.props.onChange(this.scaleMouseToSliderPosition(e))}},{key:"scaleMouseToSliderPosition",value:function(e){var t=(0,s.getEventXY)(e).x,n=this.background.getBoundingClientRect(),i=t-n.left;return Math.max(0,Math.min(100,100*i/n.width))}},{key:"setBackground",value:function(e){this.background=e}},{key:"render",value:function(){var e=13+this.props.value/100*124-13;return r.default.createElement("div",{className:l.default.container,ref:this.setBackground,style:{backgroundImage:this.props.background},onClick:this.handleClickBackground},r.default.createElement("div",{className:l.default.handle,style:{left:e+"px"},onMouseDown:this.handleMouseDown,onTouchStart:this.handleMouseDown}))}}]),t}();c.propTypes={background:o.default.string,onChange:o.default.func.isRequired,value:o.default.number.isRequired},c.defaultProps={background:"yellow"},t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=f(n(0)),o=f(n(1)),a=n(21),s=f(n(13)),l=f(n(65)),u=f(n(164)),c=f(n(160)),d=f(n(158)),h=f(n(67));function f(e){return e&&e.__esModule?e:{default:e}}function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var m=function(e,t,n){return(0,l.default)("hsv("+3.6*e+", "+t+", "+n+")").hex},g=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.default.Component),i(t,[{key:"_makeBackground",value:function(e){for(var t=[],n=100;n>=0;n-=10)switch(e){case"hue":t.push(m(n,this.props.saturation,this.props.brightness));break;case"saturation":t.push(m(this.props.hue,n,this.props.brightness));break;case"brightness":t.push(m(this.props.hue,this.props.saturation,n));break;default:throw new Error("Unknown channel for color sliders: "+e)}return"linear-gradient(to left, "+t.join(",")+")"}},{key:"render",value:function(){var e,t;return r.default.createElement("div",{className:c.default.colorPickerContainer},r.default.createElement("div",{className:c.default.row},r.default.createElement("div",{className:c.default.rowHeader},r.default.createElement("span",{className:c.default.labelName},r.default.createElement(a.FormattedMessage,{defaultMessage:"Color",id:"paint.paintEditor.hue"})),r.default.createElement("span",{className:c.default.labelReadout},Math.round(this.props.hue))),r.default.createElement("div",{className:c.default.rowSlider},r.default.createElement(u.default,{background:this._makeBackground("hue"),value:this.props.hue,onChange:this.props.onHueChange}))),r.default.createElement("div",{className:c.default.row},r.default.createElement("div",{className:c.default.rowHeader},r.default.createElement("span",{className:c.default.labelName},r.default.createElement(a.FormattedMessage,{defaultMessage:"Saturation",id:"paint.paintEditor.saturation"})),r.default.createElement("span",{className:c.default.labelReadout},Math.round(this.props.saturation))),r.default.createElement("div",{className:c.default.rowSlider},r.default.createElement(u.default,{background:this._makeBackground("saturation"),value:this.props.saturation,onChange:this.props.onSaturationChange}))),r.default.createElement("div",{className:c.default.row},r.default.createElement("div",{className:c.default.rowHeader},r.default.createElement("span",{className:c.default.labelName},r.default.createElement(a.FormattedMessage,{defaultMessage:"Brightness",id:"paint.paintEditor.brightness"})),r.default.createElement("span",{className:c.default.labelReadout},Math.round(this.props.brightness))),r.default.createElement("div",{className:c.default.rowSlider},r.default.createElement(u.default,{background:this._makeBackground("brightness"),value:this.props.brightness,onChange:this.props.onBrightnessChange}))),r.default.createElement("div",{className:c.default.divider}),r.default.createElement("div",{className:c.default.swatchRow},r.default.createElement("div",{className:c.default.swatches},r.default.createElement("div",{className:(0,s.default)((e={},p(e,c.default.swatch,!0),p(e,c.default.activeSwatch,null===this.props.color),e)),onClick:this.props.onTransparent},r.default.createElement("img",{draggable:!1,src:h.default}))),r.default.createElement("div",{className:c.default.swatches},r.default.createElement("div",{className:(0,s.default)((t={},p(t,c.default.swatch,!0),p(t,c.default.activeSwatch,this.props.isEyeDropping),t)),onClick:this.props.onActivateEyeDropper},r.default.createElement("img",{draggable:!1,src:d.default})))))}}]),t}();g.propTypes={brightness:o.default.number.isRequired,color:o.default.string,hue:o.default.number.isRequired,isEyeDropping:o.default.bool.isRequired,onActivateEyeDropper:o.default.func.isRequired,onBrightnessChange:o.default.func.isRequired,onHueChange:o.default.func.isRequired,onSaturationChange:o.default.func.isRequired,onTransparent:o.default.func.isRequired,saturation:o.default.number.isRequired},t.default=g},function(e,t){function n(e){var t,n,i=e[0]/255,r=e[1]/255,o=e[2]/255,a=Math.min(i,r,o),s=Math.max(i,r,o),l=s-a;return s==a?t=0:i==s?t=(r-o)/l:r==s?t=2+(o-i)/l:o==s&&(t=4+(i-r)/l),(t=Math.min(60*t,360))<0&&(t+=360),n=(a+s)/2,[t,100*(s==a?0:n<=.5?l/(s+a):l/(2-s-a)),100*n]}function i(e){var t,n,i=e[0],r=e[1],o=e[2],a=Math.min(i,r,o),s=Math.max(i,r,o),l=s-a;return n=0==s?0:l/s*1e3/10,s==a?t=0:i==s?t=(r-o)/l:r==s?t=2+(o-i)/l:o==s&&(t=4+(i-r)/l),(t=Math.min(60*t,360))<0&&(t+=360),[t,n,s/255*1e3/10]}function o(e){var t=e[0],i=e[1],r=e[2];return[n(e)[0],100*(1/255*Math.min(t,Math.min(i,r))),100*(r=1-1/255*Math.max(t,Math.max(i,r)))]}function a(e){var t,n=e[0]/255,i=e[1]/255,r=e[2]/255;return[100*((1-n-(t=Math.min(1-n,1-i,1-r)))/(1-t)||0),100*((1-i-t)/(1-t)||0),100*((1-r-t)/(1-t)||0),100*t]}function s(e){return S[JSON.stringify(e)]}function l(e){var t=e[0]/255,n=e[1]/255,i=e[2]/255;return[100*(.4124*(t=t>.04045?Math.pow((t+.055)/1.055,2.4):t/12.92)+.3576*(n=n>.04045?Math.pow((n+.055)/1.055,2.4):n/12.92)+.1805*(i=i>.04045?Math.pow((i+.055)/1.055,2.4):i/12.92)),100*(.2126*t+.7152*n+.0722*i),100*(.0193*t+.1192*n+.9505*i)]}function u(e){var t=l(e),n=t[0],i=t[1],r=t[2];return i/=100,r/=108.883,n=(n/=95.047)>.008856?Math.pow(n,1/3):7.787*n+16/116,[116*(i=i>.008856?Math.pow(i,1/3):7.787*i+16/116)-16,500*(n-i),200*(i-(r=r>.008856?Math.pow(r,1/3):7.787*r+16/116))]}function c(e){var t,n,i,r,o,a=e[0]/360,s=e[1]/100,l=e[2]/100;if(0==s)return[o=255*l,o,o];t=2*l-(n=l<.5?l*(1+s):l+s-l*s),r=[0,0,0];for(var u=0;u<3;u++)(i=a+1/3*-(u-1))<0&&i++,i>1&&i--,o=6*i<1?t+6*(n-t)*i:2*i<1?n:3*i<2?t+(n-t)*(2/3-i)*6:t,r[u]=255*o;return r}function d(e){var t=e[0]/60,n=e[1]/100,i=e[2]/100,r=Math.floor(t)%6,o=t-Math.floor(t),a=255*i*(1-n),s=255*i*(1-n*o),l=255*i*(1-n*(1-o));i*=255;switch(r){case 0:return[i,l,a];case 1:return[s,i,a];case 2:return[a,i,l];case 3:return[a,s,i];case 4:return[l,a,i];case 5:return[i,a,s]}}function h(e){var t,n,i,o,a=e[0]/360,s=e[1]/100,l=e[2]/100,u=s+l;switch(u>1&&(s/=u,l/=u),n=1-l,i=6*a-(t=Math.floor(6*a)),0!=(1&t)&&(i=1-i),o=s+i*(n-s),t){default:case 6:case 0:r=n,g=o,b=s;break;case 1:r=o,g=n,b=s;break;case 2:r=s,g=n,b=o;break;case 3:r=s,g=o,b=n;break;case 4:r=o,g=s,b=n;break;case 5:r=n,g=s,b=o}return[255*r,255*g,255*b]}function f(e){var t=e[0]/100,n=e[1]/100,i=e[2]/100,r=e[3]/100;return[255*(1-Math.min(1,t*(1-r)+r)),255*(1-Math.min(1,n*(1-r)+r)),255*(1-Math.min(1,i*(1-r)+r))]}function p(e){var t,n,i,r=e[0]/100,o=e[1]/100,a=e[2]/100;return n=-.9689*r+1.8758*o+.0415*a,i=.0557*r+-.204*o+1.057*a,t=(t=3.2406*r+-1.5372*o+-.4986*a)>.0031308?1.055*Math.pow(t,1/2.4)-.055:t*=12.92,n=n>.0031308?1.055*Math.pow(n,1/2.4)-.055:n*=12.92,i=i>.0031308?1.055*Math.pow(i,1/2.4)-.055:i*=12.92,[255*(t=Math.min(Math.max(0,t),1)),255*(n=Math.min(Math.max(0,n),1)),255*(i=Math.min(Math.max(0,i),1))]}function m(e){var t=e[0],n=e[1],i=e[2];return n/=100,i/=108.883,t=(t/=95.047)>.008856?Math.pow(t,1/3):7.787*t+16/116,[116*(n=n>.008856?Math.pow(n,1/3):7.787*n+16/116)-16,500*(t-n),200*(n-(i=i>.008856?Math.pow(i,1/3):7.787*i+16/116))]}function v(e){var t,n,i,r,o=e[0],a=e[1],s=e[2];return o<=8?r=(n=100*o/903.3)/100*7.787+16/116:(n=100*Math.pow((o+16)/116,3),r=Math.pow(n/100,1/3)),[t=t/95.047<=.008856?t=95.047*(a/500+r-16/116)/7.787:95.047*Math.pow(a/500+r,3),n,i=i/108.883<=.008859?i=108.883*(r-s/200-16/116)/7.787:108.883*Math.pow(r-s/200,3)]}function y(e){var t,n=e[0],i=e[1],r=e[2];return(t=360*Math.atan2(r,i)/2/Math.PI)<0&&(t+=360),[n,Math.sqrt(i*i+r*r),t]}function _(e){return p(v(e))}function w(e){var t,n=e[0],i=e[1];return t=e[2]/360*2*Math.PI,[n,i*Math.cos(t),i*Math.sin(t)]}function C(e){return x[e]}e.exports={rgb2hsl:n,rgb2hsv:i,rgb2hwb:o,rgb2cmyk:a,rgb2keyword:s,rgb2xyz:l,rgb2lab:u,rgb2lch:function(e){return y(u(e))},hsl2rgb:c,hsl2hsv:function(e){var t=e[0],n=e[1]/100,i=e[2]/100;if(0===i)return[0,0,0];return[t,100*(2*(n*=(i*=2)<=1?i:2-i)/(i+n)),100*((i+n)/2)]},hsl2hwb:function(e){return o(c(e))},hsl2cmyk:function(e){return a(c(e))},hsl2keyword:function(e){return s(c(e))},hsv2rgb:d,hsv2hsl:function(e){var t,n,i=e[0],r=e[1]/100,o=e[2]/100;return t=r*o,[i,100*(t=(t/=(n=(2-r)*o)<=1?n:2-n)||0),100*(n/=2)]},hsv2hwb:function(e){return o(d(e))},hsv2cmyk:function(e){return a(d(e))},hsv2keyword:function(e){return s(d(e))},hwb2rgb:h,hwb2hsl:function(e){return n(h(e))},hwb2hsv:function(e){return i(h(e))},hwb2cmyk:function(e){return a(h(e))},hwb2keyword:function(e){return s(h(e))},cmyk2rgb:f,cmyk2hsl:function(e){return n(f(e))},cmyk2hsv:function(e){return i(f(e))},cmyk2hwb:function(e){return o(f(e))},cmyk2keyword:function(e){return s(f(e))},keyword2rgb:C,keyword2hsl:function(e){return n(C(e))},keyword2hsv:function(e){return i(C(e))},keyword2hwb:function(e){return o(C(e))},keyword2cmyk:function(e){return a(C(e))},keyword2lab:function(e){return u(C(e))},keyword2xyz:function(e){return l(C(e))},xyz2rgb:p,xyz2lab:m,xyz2lch:function(e){return y(m(e))},lab2xyz:v,lab2rgb:_,lab2lch:y,lch2lab:w,lch2xyz:function(e){return v(w(e))},lch2rgb:function(e){return _(w(e))}};var x={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]},S={};for(var k in x)S[JSON.stringify(x[k])]=k},function(e,t,n){var i=n(166),r=function(){return new u};for(var o in i){r[o+"Raw"]=function(e){return function(t){return"number"==typeof t&&(t=Array.prototype.slice.call(arguments)),i[e](t)}}(o);var a=/(\w+)2(\w+)/.exec(o),s=a[1],l=a[2];(r[s]=r[s]||{})[l]=r[o]=function(e){return function(t){"number"==typeof t&&(t=Array.prototype.slice.call(arguments));var n=i[e](t);if("string"==typeof n||void 0===n)return n;for(var r=0;r<n.length;r++)n[r]=Math.round(n[r]);return n}}(o)}var u=function(){this.convs={}};u.prototype.routeSpace=function(e,t){var n=t[0];return void 0===n?this.getValues(e):("number"==typeof n&&(n=Array.prototype.slice.call(t)),this.setValues(e,n))},u.prototype.setValues=function(e,t){return this.space=e,this.convs={},this.convs[e]=t,this},u.prototype.getValues=function(e){var t=this.convs[e];if(!t){var n=this.space,i=this.convs[n];t=r[n][e](i),this.convs[e]=t}return t},["rgb","hsl","hsv","cmyk","keyword"].forEach(function(e){u.prototype[e]=function(t){return this.routeSpace(e,arguments)}}),e.exports=r},function(e,t,n){(t=e.exports=n(12)(!1)).push([e.i,'.color-button_color-button_2-mXT {\n    height: 2rem;\n    width: 3rem;\n    display: -webkit-box;\n    display: -webkit-flex;\n    display: -ms-flexbox;\n    display: flex;\n}\n\n.color-button_color-button-swatch_6Xhs3 {\n    position: relative;\n    display: -webkit-box;\n    display: -webkit-flex;\n    display: -ms-flexbox;\n    display: flex;\n    cursor: pointer;\n    -webkit-flex-basis: 2rem;\n        -ms-flex-preferred-size: 2rem;\n            flex-basis: 2rem;\n    -webkit-flex-shrink: 0;\n        -ms-flex-negative: 0;\n            flex-shrink: 0;\n    height: 100%;\n    border: 1px solid rgba(0, 0, 0, 0.25);\n    border-top-left-radius: 4px;\n    border-bottom-left-radius: 4px;\n}\n\n.color-button_color-button-arrow_1b654 {\n    display: -webkit-box;\n    display: -webkit-flex;\n    display: -ms-flexbox;\n    display: flex;\n    -webkit-user-select: none;\n       -moz-user-select: none;\n        -ms-user-select: none;\n            user-select: none;\n    cursor: pointer;\n    -webkit-flex-basis: 1rem;\n        -ms-flex-preferred-size: 1rem;\n            flex-basis: 1rem;\n    -webkit-flex-shrink: 0;\n        -ms-flex-negative: 0;\n            flex-shrink: 0;\n    height: 100%;\n\n    border-top-right-radius: 4px;\n    border-bottom-right-radius: 4px;\n    border: 1px solid rgba(0, 0, 0, 0.25);\n    border-left: none;\n\n    -webkit-box-align: center;\n\n    -webkit-align-items: center;\n\n        -ms-flex-align: center;\n\n            align-items: center;\n    -webkit-box-pack: center;\n    -webkit-justify-content: center;\n        -ms-flex-pack: center;\n            justify-content: center;\n    color: #575e75;\n    font-size: 0.75rem;\n}\n\n.color-button_swatch-icon_2gc40 {\n    width: 1.75rem;\n    margin: auto;\n    /* Make sure it appears above the outline box */\n    z-index: 2;\n}\n\n.color-button_outline-swatch_2ifeG:after {\n    content: "";\n    position: absolute;\n    top: calc(0.5rem);\n    left: calc(0.5rem);\n    width: 0.75rem;\n    height: 0.75rem;\n    background: white;\n    border: 1px solid rgba(0, 0, 0, 0.25);\n    /* Make sure it appears below the transparent icon */\n    z-index: 1;\n}\n',""]),t.locals={"color-button":"color-button_color-button_2-mXT",colorButton:"color-button_color-button_2-mXT","color-button-swatch":"color-button_color-button-swatch_6Xhs3",colorButtonSwatch:"color-button_color-button-swatch_6Xhs3","color-button-arrow":"color-button_color-button-arrow_1b654",colorButtonArrow:"color-button_color-button-arrow_1b654","swatch-icon":"color-button_swatch-icon_2gc40",swatchIcon:"color-button_swatch-icon_2gc40","outline-swatch":"color-button_outline-swatch_2ifeG",outlineSwatch:"color-button_outline-swatch_2ifeG"}},function(e,t,n){var i=n(168);"string"==typeof i&&(i=[[e.i,i,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};n(11)(i,r);i.locals&&(e.exports=i.locals)},function(e,t){e.exports="data:image/svg+xml,%3C?xml version='1.0' encoding='UTF-8' standalone='no'?%3E %3Csvg width='20px' height='20px' viewBox='0 0 20 20' version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink'%3E %3C!-- Generator: Sketch 43.2 (39069) - http://www.bohemiancoding.com/sketch --%3E %3Ctitle%3Emixed-fill%3C/title%3E %3Cdesc%3ECreated with Sketch.%3C/desc%3E %3Cdefs%3E%3C/defs%3E %3Cg id='Page-1' stroke='none' stroke-width='1' fill='none' fill-rule='evenodd' fill-opacity='0.75'%3E %3Cg id='mixed-fill'%3E %3Cg id='mixed-fill-icon' transform='translate(2.000000, 2.500000)'%3E %3Ccircle id='blue' fill='%234C97FF' cx='4.5' cy='10.5' r='4.5'%3E%3C/circle%3E %3Ccircle id='red' fill='%23FF5500' cx='8' cy='4.5' r='4.5'%3E%3C/circle%3E %3Ccircle id='yellow' fill='%23FFBF00' cx='11.4099998' cy='10.5' r='4.5'%3E%3C/circle%3E %3C/g%3E %3C/g%3E %3C/g%3E %3C/svg%3E"},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=d(n(0)),r=d(n(1)),o=d(n(48)),a=n(21),s=d(n(68)),l=d(n(66)),u=d(n(30)),c=d(n(41));function d(e){return e&&e.__esModule?e:{default:e}}var h=(0,a.defineMessages)({fill:{id:"paint.paintEditor.fill",defaultMessage:"Fill"}}),f=function(e){return i.default.createElement(u.default,{className:e.className,disabled:e.disabled},i.default.createElement(o.default,{body:i.default.createElement(l.default,{color:e.fillColor,onChangeColor:e.onChangeFillColor}),isOpen:e.fillColorModalVisible,preferPlace:"below",onOuterAction:e.onCloseFillColor},i.default.createElement(c.default,{text:e.intl.formatMessage(h.fill)},i.default.createElement(s.default,{color:e.fillColor,onClick:e.onOpenFillColor}))))};f.propTypes={className:r.default.string,disabled:r.default.bool.isRequired,fillColor:r.default.string,fillColorModalVisible:r.default.bool.isRequired,intl:a.intlShape,onChangeFillColor:r.default.func.isRequired,onCloseFillColor:r.default.func.isRequired,onOpenFillColor:r.default.func.isRequired},t.default=(0,a.injectIntl)(f)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=n(8),a=p(n(1)),s=p(n(0)),l=p(n(5)),u=n(17),c=n(43),d=p(n(4)),h=p(n(171)),f=n(6);function p(e){return e&&e.__esModule?e:{default:e}}var m=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return(0,l.default)(n,["handleChangeFillColor","handleCloseFillColor"]),n._hasChanged=!1,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,s.default.Component),r(t,[{key:"componentWillReceiveProps",value:function(e){var t=this.props,n=t.fillColorModalVisible,i=t.onUpdateSvg;n&&!e.fillColorModalVisible&&(this._hasChanged&&i(),this._hasChanged=!1)}},{key:"handleChangeFillColor",value:function(e){var t=(0,f.applyFillColorToSelection)(e,this.props.textEditTarget);this._hasChanged=this._hasChanged||t,this.props.onChangeFillColor(e)}},{key:"handleCloseFillColor",value:function(){this.props.isEyeDropping||this.props.onCloseFillColor()}},{key:"render",value:function(){return s.default.createElement(h.default,i({},this.props,{onChangeFillColor:this.handleChangeFillColor,onCloseFillColor:this.handleCloseFillColor}))}}]),t}();m.propTypes={disabled:a.default.bool.isRequired,fillColor:a.default.string,fillColorModalVisible:a.default.bool.isRequired,isEyeDropping:a.default.bool.isRequired,onChangeFillColor:a.default.func.isRequired,onCloseFillColor:a.default.func.isRequired,onUpdateSvg:a.default.func.isRequired,textEditTarget:a.default.number},t.default=(0,o.connect)(function(e){return{disabled:e.scratchPaint.mode===d.default.LINE,fillColor:e.scratchPaint.color.fillColor,fillColorModalVisible:e.scratchPaint.modals.fillColor,isEyeDropping:e.scratchPaint.color.eyeDropper.active,textEditTarget:e.scratchPaint.textEditTarget}},function(e){return{onChangeFillColor:function(t){e((0,u.changeFillColor)(t))},onOpenFillColor:function(){e((0,c.openFillColor)())},onCloseFillColor:function(){e((0,c.closeFillColor)())}}})(m)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=s(n(0)),r=s(n(1)),o=s(n(10)),a=s(n(69));function s(e){return e&&e.__esModule?e:{default:e}}var l=function(e){return i.default.createElement(o.default,{imgDescriptor:{defaultMessage:"Eraser",description:"Label for the eraser tool",id:"paint.eraserMode.eraser"},imgSrc:a.default,isSelected:e.isSelected,onMouseDown:e.onMouseDown})};l.propTypes={isSelected:r.default.bool.isRequired,onMouseDown:r.default.func.isRequired},t.default=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=m(n(1)),a=m(n(0)),s=n(8),l=m(n(5)),u=m(n(4)),c=m(n(71)),d=n(44),h=n(9),f=m(n(173)),p=n(14);function m(e){return e&&e.__esModule?e:{default:e}}var g=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return(0,l.default)(n,["activateTool","deactivateTool"]),n.blob=new c.default(n.props.onUpdateSvg,n.props.clearSelectedItems),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default.Component),r(t,[{key:"componentDidMount",value:function(){this.props.isEraserModeActive&&this.activateTool()}},{key:"componentWillReceiveProps",value:function(e){e.isEraserModeActive&&!this.props.isEraserModeActive?this.activateTool():!e.isEraserModeActive&&this.props.isEraserModeActive?this.deactivateTool():e.isEraserModeActive&&this.props.isEraserModeActive&&this.blob.setOptions(i({isEraser:!0},e.eraserModeState))}},{key:"shouldComponentUpdate",value:function(e){return e.isEraserModeActive!==this.props.isEraserModeActive}},{key:"activateTool",value:function(){this.blob.activateTool(i({isEraser:!0},this.props.eraserModeState))}},{key:"deactivateTool",value:function(){this.blob.deactivateTool()}},{key:"render",value:function(){return a.default.createElement(f.default,{isSelected:this.props.isEraserModeActive,onMouseDown:this.props.handleMouseDown})}}]),t}();g.propTypes={clearSelectedItems:o.default.func.isRequired,eraserModeState:o.default.shape({brushSize:o.default.number.isRequired}),handleMouseDown:o.default.func.isRequired,isEraserModeActive:o.default.bool.isRequired,onUpdateSvg:o.default.func.isRequired};t.default=(0,s.connect)(function(e){return{eraserModeState:e.scratchPaint.eraserMode,isEraserModeActive:e.scratchPaint.mode===u.default.ERASER}},function(e){return{clearSelectedItems:function(){e((0,h.clearSelectedItems)())},changeBrushSize:function(t){e((0,d.changeBrushSize)(t))},handleMouseDown:function(){e((0,p.changeMode)(u.default.ERASER))}}})(g)},function(e,t){e.exports="data:image/svg+xml,%3C?xml version='1.0' encoding='UTF-8' standalone='no'?%3E %3Csvg width='8px' height='5px' viewBox='0 0 8 5' version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink'%3E %3C!-- Generator: Sketch 43.2 (39069) - http://www.bohemiancoding.com/sketch --%3E %3Ctitle%3Edropdown-caret%3C/title%3E %3Cdesc%3ECreated with Sketch.%3C/desc%3E %3Cdefs%3E%3C/defs%3E %3Cg id='Page-1' stroke='none' stroke-width='1' fill='none' fill-rule='evenodd'%3E %3Cg id='dropdown-caret' fill='%234C97FF'%3E %3Cpath d='M4,5 C3.72520708,5 3.45163006,4.89695045 3.24127973,4.68965311 L0.314613572,1.80666227 C-0.104871191,1.39326583 -0.104871191,0.724642023 0.314613572,0.310047331 C0.732882438,-0.10334911 7.26711756,-0.10334911 7.68538643,0.310047331 C8.10487119,0.723443772 8.10487119,1.39326583 7.68538643,1.80666227 L4.75993617,4.68965311 C4.54958583,4.89695045 4.27600882,5 4,5'%3E%3C/path%3E %3C/g%3E %3C/g%3E %3C/svg%3E"},function(e,t,n){(t=e.exports=n(12)(!1)).push([e.i,"/* DO NOT EDIT\n@todo This file is copied from GUI and should be pulled out into a shared library.\nSee https://github.com/LLK/scratch-paint/issues/13 */\n\n.dropdown_dropdown_2cQyf {\n    border: 1px solid #E9EEF2;\n    border-radius: 5px;\n    overflow: visible;\n    min-width: 3.5rem;\n    color: #4C97FF;\n    padding: .5rem;\n}\n\n.dropdown_mod-open_1QOjG {\n    background-color: #E9EEF2;\n}\n\n.dropdown_dropdown-icon_13LnP {\n    width: .5rem;\n    height: .5rem;\n    margin-left: .5rem;\n    vertical-align: middle;\n    padding-bottom: .2rem;\n}\n\n.dropdown_mod-caret-up_1v809 {\n    -webkit-transform: rotate(180deg);\n        -ms-transform: rotate(180deg);\n            transform: rotate(180deg);\n    padding-bottom: 0;\n    padding-top: .2rem;\n}\n",""]),t.locals={dropdown:"dropdown_dropdown_2cQyf","mod-open":"dropdown_mod-open_1QOjG",modOpen:"dropdown_mod-open_1QOjG","dropdown-icon":"dropdown_dropdown-icon_13LnP",dropdownIcon:"dropdown_dropdown-icon_13LnP","mod-caret-up":"dropdown_mod-caret-up_1v809",modCaretUp:"dropdown_mod-caret-up_1v809"}},function(e,t,n){var i=n(176);"string"==typeof i&&(i=[[e.i,i,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};n(11)(i,r);i.locals&&(e.exports=i.locals)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,r=n(0),o=(i=r)&&i.__esModule?i:{default:i};t.default=function(e){var t=e.direction,n=e.size||24,i="up"===t||"down"===t,r=2*n,a="up"===t?"0,"+n+" "+n+",0, "+r+","+n:"down"===t?"0,0 "+n+","+n+", "+r+",0":"left"===t?n+",0 0,"+n+", "+n+","+r:"0,0 "+n+","+n+", 0,"+r,s={className:"Popover-tip",width:i?r:n,height:i?n:r};return o.default.createElement("svg",s,o.default.createElement("polygon",{className:"Popover-tipShape",points:a}))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.equalCoords=t.doesFitWithin=t.centerOfBoundsFromBounds=t.centerOfBounds=t.centerOfSize=t.axes=t.pickZone=t.place=t.calcRelPos=t.validTypeValues=t.types=t.El=void 0;var i=n(34),r=n(45);function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var a={row:{},column:{}};a.row.main={start:"x",end:"x2",size:"w"},a.row.cross={start:"y",end:"y2",size:"h"},a.column.main=a.row.cross,a.column.cross=a.row.main;var s=[{name:"side",values:["start","end"]},{name:"standing",values:["above","right","below","left"]},{name:"flow",values:["column","row"]}],l=s.reduce(function(e,t){var n=t.values;return e.concat(n)},[]),u=function(e,t,n){return n[a[e][t].size]/2},c=function(e,t,n){return n[a[e][t].start]+n[a[e][t].size]/2},d=function(e,t,n,i){return c(e,t,n)-i[a[e][t].start]},h=function(e,t,n,i,r){var o=a[e][t];return"center"===n?c(e,t,i)-u(e,t,r):"end"===n?i[o.end]:"start"===n?i[o.start]-r[o.size]:null},f={calcBounds:function(e){if(e===i.window)return{x:0,y:0,x2:e.innerWidth,y2:e.innerHeight,w:e.innerWidth,h:e.innerHeight};var t=e.getBoundingClientRect();return{x:t.left,y:t.top,x2:t.right,y2:t.bottom,w:t.right-t.left,h:t.bottom-t.top}},calcSize:function(e){return e===i.window?{w:e.innerWidth,h:e.innerHeight}:{w:e.offsetWidth,h:e.offsetHeight}},calcScrollSize:function(e){return e===i.window?{w:e.scrollX||e.pageXOffset,h:e.scrollY||e.pageYOffset}:{w:e.scrollLeft,h:e.scrollTop}}},p=function(e){return s.reduce(function(t,n){return t||(-1!==n.values.indexOf(e)?n.name:null)},null)},m=function(e){return function(t,n){return t[e]>=n[e]}},g=m("w"),v=m("h"),y=function(e,t){return g(e,t)&&v(e,t)},_=function(e){return new Error('The given layout placement of "'+e+'" is not a valid choice. Valid choices are: '+l.join(" | ")+".")},b=function(e,t,n,i){var o=n,a=t,s=[{side:"start",standing:"above",flow:"column",order:-1,w:a.x2,h:o.y},{side:"end",standing:"right",flow:"row",order:1,w:a.x2-o.x2,h:a.y2},{side:"end",standing:"below",flow:"column",order:1,w:a.x2,h:a.y2-o.y2},{side:"start",standing:"left",flow:"row",order:-1,w:o.x,h:a.y2}];s.forEach(function(e){e.cutOff=-Math.max(0,Math.min(e.w,i.w))*Math.max(0,Math.min(e.h,i.h))}),s.sort(function(e,t){return e.cutOff-t.cutOff});var l=s.filter(function(e){return y(e,i)});if(e.place){var u=p(e.place);if(!u)throw _(e.place);var c=function(t){return t[u]===e.place};return(0,r.find)(c,l)||(0,r.find)(c,s)}if(e.preferPlace){var d=p(e.preferPlace);if(!d)throw _(e.preferPlace);var h=l.filter(function(t){return t[d]===e.preferPlace});if(h.length)return h[0];var f=s.filter(function(t){return t[d]===e.preferPlace});if(!l.length&&f.length)return f[0]}return l.length?l[0]:s[0]},w=function(e,t,n){var i,r=a[e.flow],s=r.main,l=r.cross,u=h(e.flow,"main",e.side,t,n),c=n[s.size],d=h(e.flow,"cross","center",t,n),f=n[l.size];return o(i={},s.start,u),o(i,"mainLength",c),o(i,s.end,u+c),o(i,l.start,d),o(i,"crossLength",f),o(i,l.end,d+f),i};t.default={El:f,types:s,validTypeValues:l,calcRelPos:w,place:h,pickZone:b,axes:a,centerOfSize:u,centerOfBounds:c,centerOfBoundsFromBounds:d,doesFitWithin:y,equalCoords:r.equalRecords},t.El=f,t.types=s,t.validTypeValues=l,t.calcRelPos=w,t.place=h,t.pickZone=b,t.axes=a,t.centerOfSize=u,t.centerOfBounds=c,t.centerOfBoundsFromBounds=d,t.doesFitWithin=y,t.equalCoords=r.equalRecords},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.removeEventListener=t.addEventListener=t.off=t.on=void 0;var i=n(34),r=n(45),o=i.isServer?r.noop:i.window.requestAnimationFrame||i.window.mozRequestAnimationFrame||i.window.webkitRequestAnimationFrame||function(e){i.window.setTimeout(e,20)},a=i.isServer?r.noop:i.window.cancelAnimationFrame||i.window.mozCancelAnimationFrame||i.window.webkitCancelAnimationFrame||i.window.clearTimeout,s=!i.isServer&&navigator.userAgent.match(/Trident/),l="__resizeDetector__",u=function(e){var t=e[l]={};t.listeners=[];var n=function(e){t.resizeRAF&&a(t.resizeRAF),t.resizeRAF=o(function(){t.listeners.forEach(function(t){t(e)})})};if(s)e.addEventListener("onresize",n),t.destroy=function(){e.removeEventListener("onresize",n)};else{"static"===getComputedStyle(e).position&&(t.elWasStaticPosition=!0,e.style.position="relative");var i=function(){var e=document.createElement("object");return e.className="resize-sensor",e.setAttribute("style","display: block; position: absolute; top: 0; left: 0; height: 100%; width: 100%; overflow: hidden; pointer-events: none; z-index: -1;"),e.setAttribute("class","resize-sensor"),e.type="text/html",e.data="about:blank",e}();i.onload=function(){this.contentDocument.defaultView.addEventListener("resize",n)},t.destroy=function(){t.elWasStaticPosition&&(e.style.position=""),e.removeChild(i)},e.appendChild(i)}},c=function(e,t){e!==i.window?(e[l]||u(e),e[l].listeners.push(t)):i.window.addEventListener("resize",t)},d=function(e,t){if(e!==i.window){var n=e[l];if(n){var r=n.listeners.indexOf(t);-1!==r&&n.listeners.splice(r,1),n.listeners.length||function(e){e[l].destroy(),e[l]=void 0}(e)}}else i.window.removeEventListener("resize",t)};t.default={on:c,off:d,addEventListener:c,removeEventListener:d},t.on=c,t.off=d,t.addEventListener=c,t.removeEventListener=d},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if(!s)return t;if("string"!=typeof t||!isNaN(parseInt(t,10)))return t;var n=e+t;if(null!=a[n])return a[n];try{s.style[e]=t}catch(e){return a[n]=!1,!1}""!==s.style[e]?a[n]=t:("-ms-flex"===(t=r.default.css+t)&&(t="-ms-flexbox"),s.style[e]=t,""!==s.style[e]&&(a[n]=t));a[n]||(a[n]=!1);return s.style[e]="",a[n]};var i=o(n(46)),r=o(n(47));function o(e){return e&&e.__esModule?e:{default:e}}var a={},s=void 0;i.default&&(s=document.createElement("p"))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return e.replace(i,r)};var i=/[-\s]+(.)?/g;function r(e,t){return t?t.toUpperCase():""}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){if(!s)return e;if(null!=l[e])return l[e];(0,o.default)(e)in s.style?l[e]=e:r.default.js+(0,o.default)("-"+e)in s.style?l[e]=r.default.css+e:l[e]=!1;return l[e]};var i=a(n(46)),r=a(n(47)),o=a(n(182));function a(e){return e&&e.__esModule?e:{default:e}}var s=void 0,l={};if(i.default){s=document.createElement("p");var u=window.getComputedStyle(document.documentElement,"");for(var c in u)isNaN(c)||(l[u[c]]=u[c])}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.supportedValue=t.supportedProperty=t.prefix=void 0;var i=a(n(47)),r=a(n(183)),o=a(n(181));function a(e){return e&&e.__esModule?e:{default:e}}t.default={prefix:i.default,supportedProperty:r.default,supportedValue:o.default},
/**
    * CSS Vendor prefix detection and property feature testing.
    *
    * @copyright Oleg Slobodskoi 2015
    * @website https://github.com/jsstyles/css-vendor
    * @license MIT
    */
t.prefix=i.default,t.supportedProperty=r.default,t.supportedValue=o.default},function(e,t){var n="[object Function]",i=/^\[object .+?Constructor\]$/;var r=Object.prototype,o=Function.prototype.toString,a=r.hasOwnProperty,s=r.toString,l=RegExp("^"+o.call(a).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");e.exports=function(e,t){var r=null==e?void 0:e[t];return function(e){return null!=e&&(function(e){return function(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}(e)&&s.call(e)==n}(e)?l.test(o.call(e)):function(e){return!!e&&"object"==typeof e}(e)&&i.test(e))}(r)?r:void 0}},function(e,t,n){var i=n(185),r="Expected a function",o=Math.max,a=i(Date,"now")||function(){return(new Date).getTime()};e.exports=function(e,t,n){var i,s,l,u,c,d,h,f,p,m=0,g=!1,v=!0;if("function"!=typeof e)throw new TypeError(r);if(t=t<0?0:+t||0,!0===n){var y=!0;v=!1}else p=typeof(f=n),!f||"object"!=p&&"function"!=p||(y=!!n.leading,g="maxWait"in n&&o(+n.maxWait||0,t),v="trailing"in n?!!n.trailing:v);function _(t,n){n&&clearTimeout(n),s=d=h=void 0,t&&(m=a(),l=e.apply(c,i),d||s||(i=c=void 0))}function b(){var e=t-(a()-u);e<=0||e>t?_(h,s):d=setTimeout(b,e)}function w(){_(v,d)}function C(){if(i=arguments,u=a(),c=this,h=v&&(d||!y),!1===g)var n=y&&!d;else{s||y||(m=u);var r=g-(u-m),o=r<=0||r>g;o?(s&&(s=clearTimeout(s)),m=u,l=e.apply(c,i)):s||(s=setTimeout(w,r))}return o&&d?d=clearTimeout(d):d||t===g||(d=setTimeout(b,t)),n&&(o=!0,l=e.apply(c,i)),!o||d||s||(i=c=void 0),l}return C.cancel=function(){d&&clearTimeout(d),s&&clearTimeout(s),m=0,s=d=h=void 0},C}},function(e,t,n){var i=n(186),r="Expected a function";e.exports=function(e,t,n){var o,a,s=!0,l=!0;if("function"!=typeof e)throw new TypeError(r);return!1===n?s=!1:(a=typeof(o=n),!o||"object"!=a&&"function"!=a||(s="leading"in n?!!n.leading:s,l="trailing"in n?!!n.trailing:l)),i(e,t,{leading:s,maxWait:+t,trailing:l})}},function(e,t){var n=1e3,i=60*n,r=60*i,o=24*r,a=365.25*o;function s(e,t,n){if(!(e<t))return e<1.5*t?Math.floor(e/t)+" "+n:Math.ceil(e/t)+" "+n+"s"}e.exports=function(e,t){t=t||{};var l,u=typeof e;if("string"===u&&e.length>0)return function(e){if((e=String(e)).length>100)return;var t=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(e);if(!t)return;var s=parseFloat(t[1]);switch((t[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return s*a;case"days":case"day":case"d":return s*o;case"hours":case"hour":case"hrs":case"hr":case"h":return s*r;case"minutes":case"minute":case"mins":case"min":case"m":return s*i;case"seconds":case"second":case"secs":case"sec":case"s":return s*n;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return s;default:return}}(e);if("number"===u&&!1===isNaN(e))return t.long?s(l=e,o,"day")||s(l,r,"hour")||s(l,i,"minute")||s(l,n,"second")||l+" ms":function(e){if(e>=o)return Math.round(e/o)+"d";if(e>=r)return Math.round(e/r)+"h";if(e>=i)return Math.round(e/i)+"m";if(e>=n)return Math.round(e/n)+"s";return e+"ms"}(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))}},function(e,t,n){var i;function r(e){function n(){if(n.enabled){var e=n,r=+new Date,o=r-(i||r);e.diff=o,e.prev=i,e.curr=r,i=r;for(var a=new Array(arguments.length),s=0;s<a.length;s++)a[s]=arguments[s];a[0]=t.coerce(a[0]),"string"!=typeof a[0]&&a.unshift("%O");var l=0;a[0]=a[0].replace(/%([a-zA-Z%])/g,function(n,i){if("%%"===n)return n;l++;var r=t.formatters[i];if("function"==typeof r){var o=a[l];n=r.call(e,o),a.splice(l,1),l--}return n}),t.formatArgs.call(e,a),(n.log||t.log||console.log.bind(console)).apply(e,a)}}return n.namespace=e,n.enabled=t.enabled(e),n.useColors=t.useColors(),n.color=function(e){var n,i=0;for(n in e)i=(i<<5)-i+e.charCodeAt(n),i|=0;return t.colors[Math.abs(i)%t.colors.length]}(e),"function"==typeof t.init&&t.init(n),n}(t=e.exports=r.debug=r.default=r).coerce=function(e){return e instanceof Error?e.stack||e.message:e},t.disable=function(){t.enable("")},t.enable=function(e){t.save(e),t.names=[],t.skips=[];for(var n=("string"==typeof e?e:"").split(/[\s,]+/),i=n.length,r=0;r<i;r++)n[r]&&("-"===(e=n[r].replace(/\*/g,".*?"))[0]?t.skips.push(new RegExp("^"+e.substr(1)+"$")):t.names.push(new RegExp("^"+e+"$")))},t.enabled=function(e){var n,i;for(n=0,i=t.skips.length;n<i;n++)if(t.skips[n].test(e))return!1;for(n=0,i=t.names.length;n<i;n++)if(t.names[n].test(e))return!0;return!1},t.humanize=n(188),t.names=[],t.skips=[],t.formatters={}},function(e,t,n){(function(i){function r(){var e;try{e=t.storage.debug}catch(e){}return!e&&void 0!==i&&"env"in i&&(e=i.env.DEBUG),e}(t=e.exports=n(189)).log=function(){return"object"==typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)},t.formatArgs=function(e){var n=this.useColors;if(e[0]=(n?"%c":"")+this.namespace+(n?" %c":" ")+e[0]+(n?"%c ":" ")+"+"+t.humanize(this.diff),!n)return;var i="color: "+this.color;e.splice(1,0,i,"color: inherit");var r=0,o=0;e[0].replace(/%[a-zA-Z%]/g,function(e){"%%"!==e&&"%c"===e&&(o=++r)}),e.splice(o,0,i)},t.save=function(e){try{null==e?t.storage.removeItem("debug"):t.storage.debug=e}catch(e){}},t.load=r,t.useColors=function(){if("undefined"!=typeof window&&window.process&&"renderer"===window.process.type)return!0;return"undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},t.storage="undefined"!=typeof chrome&&void 0!==chrome.storage?chrome.storage.local:function(){try{return window.localStorage}catch(e){}}(),t.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"],t.formatters.j=function(e){try{return JSON.stringify(e)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}},t.enable(r())}).call(this,n(72))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=g(n(0)),a=g(n(1)),s=g(n(75)),l=g(n(190)),u=g(n(187)),c=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(184)),d=g(n(180)),h=g(n(179)),f=g(n(34)),p=g(n(45)),m=g(n(178));function g(e){return e&&e.__esModule?e:{default:e}}var v,y,_=(0,l.default)("react-popover"),b=p.default.clientOnly(c.supportedValue),w=function(e){return""+c.prefix.js+e},C=function(e){return""+c.prefix.css+e},x={position:"absolute",top:0,left:0,display:(v="display",y="flex",b(v,y)||C(y))},S={above:"down",right:"left",below:"up",left:"right"},k={row:"translateY",column:"translateX"},E={row:"translateX",column:"translateY"},M=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.checkTargetReposition=function(){n.measureTargetBounds()&&n.resolvePopoverLayout()},n.checkForOuterAction=function(e){!n.containerEl.contains(e.target)&&!n.targetEl.contains(e.target)&&n.props.onOuterAction(e)},n.onTargetResize=function(){_("Recalculating layout because _target_ resized!"),n.measureTargetBounds(),n.resolvePopoverLayout()},n.onPopoverResize=function(){_("Recalculating layout because _popover_ resized!"),n.measurePopoverSize(),n.resolvePopoverLayout()},n.onFrameScroll=function(){_("Recalculating layout because _frame_ scrolled!"),n.measureTargetBounds(),n.resolvePopoverLayout()},n.onFrameResize=function(){_("Recalculating layout because _frame_ resized!"),n.measureFrameBounds(),n.resolvePopoverLayout()},n.getContainerNodeRef=function(e){Object.assign(n,{containerEl:e})},n.state={standing:"above",exited:!n.props.isOpen,exiting:!1,toggle:n.props.isOpen||!1},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.default.Component),r(t,[{key:"componentDidMount",value:function(){this.targetEl=s.default.findDOMNode(this),this.props.isOpen&&this.enter()}},{key:"componentWillReceiveProps",value:function(e){var t=!this.props.isOpen&&e.isOpen,n=this.props.isOpen&&!e.isOpen;t?this.open():n&&this.close()}},{key:"componentDidUpdate",value:function(e,t){var n=!t.toggle&&this.state.toggle,i=t.toggle&&!this.state.toggle;n?this.enter():i&&this.exit()}},{key:"componentWillUnmount",value:function(){this.animateExitStop(),this.hasTracked&&this.untrackPopover()}},{key:"resolvePopoverLayout",value:function(){var e={preferPlace:this.props.preferPlace,place:this.props.place};this.zone&&(this.size["row"===this.zone.flow?"h":"w"]+=this.props.tipSize);var t=h.default.pickZone(e,this.frameBounds,this.targetBounds,this.size);this.zone&&(this.size["row"===this.zone.flow?"h":"w"]-=this.props.tipSize);var n=this.targetBounds;this.zone=t,_("zone",t),this.setState({standing:t.standing});var i=h.default.axes[t.flow];_("axes",i);var r=Math.round(getComputedStyle(this.bodyEl).borderRadius.slice(0,-2))||0,o=h.default.El.calcScrollSize(this.frameEl);o.main=o[i.main.size],o.cross=o[i.cross.size];var a=h.default.calcRelPos(t,n,this.size);a[i.main.start]+=this.props.offset*t.order;var s=this.props.tipSize+this.props.offset,l=2*r+2*this.props.tipSize+s,u=this.frameBounds[i.cross.start],c=this.frameBounds[i.cross.end],d=this.frameBounds[i.cross.size],f=d-2*s,p=u+s,m=c-s,g=a[i.cross.start],v=a[i.cross.end];a.crossLength>d?(_("popoverCrossLength does not fit frame."),a[i.cross.start]=0):n[i.cross.end]<l?(_("popoverCrossStart cannot hang any further without losing target."),a[i.cross.start]=n[i.cross.end]-l):n[i.cross.start]>m?(_("popoverCrossStart cannot hang any further without losing target."),a[i.cross.start]=n[i.cross.start]-this.size[i.cross.size]):a.crossLength>f?(_("popoverCrossLength does not fit within buffered frame."),a[i.cross.start]=(d-a.crossLength)/2):g<p?(_("popoverCrossStart cannot reverse without exceeding frame."),a[i.cross.start]=p):v>m&&(_("popoverCrossEnd cannot travel without exceeding frame."),a[i.cross.start]=a[i.cross.start]-(a[i.cross.end]-m)),a[i.cross.start]+=o.cross,a[i.main.start]+=o.main,this.containerEl.style.flexFlow=t.flow,this.containerEl.style[w("FlexFlow")]=this.containerEl.style.flexFlow,this.bodyEl.style.order=t.order,this.bodyEl.style[w("Order")]=this.bodyEl.style.order,_("pos",a),this.containerEl.style.top=a.y+"px",this.containerEl.style.left=a.x+"px";var y=h.default.centerOfBoundsFromBounds(t.flow,"cross",n,a)+o.cross-this.props.tipSize;y<r?y=r:y>a.crossLength-r-2*this.props.tipSize&&(y=a.crossLength-r-2*this.props.tipSize),this.tipEl.style.transform=k[t.flow]+"("+y+"px)",this.tipEl.style[w("Transform")]=this.tipEl.style.transform}},{key:"measurePopoverSize",value:function(){this.size=h.default.El.calcSize(this.containerEl)}},{key:"measureTargetBounds",value:function(){var e=h.default.El.calcBounds(this.targetEl);return(!this.targetBounds||!h.default.equalCoords(this.targetBounds,e))&&(this.targetBounds=e,!0)}},{key:"open",value:function(){this.state.exiting&&this.animateExitStop(),this.setState({toggle:!0,exited:!1})}},{key:"close",value:function(){this.setState({toggle:!1})}},{key:"enter",value:function(){f.default.isServer||(_("enter!"),this.trackPopover(),this.animateEnter())}},{key:"exit",value:function(){_("exit!"),this.animateExit(),this.untrackPopover()}},{key:"animateExitStop",value:function(){clearTimeout(this.exitingAnimationTimer1),clearTimeout(this.exitingAnimationTimer2),this.setState({exiting:!1})}},{key:"animateExit",value:function(){var e=this;this.setState({exiting:!0}),this.exitingAnimationTimer2=setTimeout(function(){setTimeout(function(){e.containerEl.style.transform=E[e.zone.flow]+"("+50*e.zone.order+"px)",e.containerEl.style.opacity="0"},0)},0),this.exitingAnimationTimer1=setTimeout(function(){e.setState({exited:!0,exiting:!1})},this.props.enterExitTransitionDurationMs)}},{key:"animateEnter",value:function(){this.containerEl.style.transform=E[this.zone.flow]+"("+50*this.zone.order+"px)",this.containerEl.style[w("Transform")]=this.containerEl.style.transform,this.containerEl.style.opacity="0",this.containerEl.offsetHeight,this.props.enterExitTransitionDurationMs&&(this.tipEl.style.transition="transform 150ms ease-in",this.tipEl.style[w("Transition")]=C("transform")+" 150ms ease-in"),this.containerEl.style.transitionProperty="top, left, opacity, transform",this.containerEl.style.transitionDuration=this.props.enterExitTransitionDurationMs+"ms",this.containerEl.style.transitionTimingFunction="cubic-bezier(0.230, 1.000, 0.320, 1.000)",this.containerEl.style.opacity="1",this.containerEl.style.transform="translateY(0)",this.containerEl.style[w("Transform")]=this.containerEl.style.transform}},{key:"trackPopover",value:function(){this.bodyEl=this.containerEl.querySelector(".Popover-body"),this.tipEl=this.containerEl.querySelector(".Popover-tip"),this.frameEl=f.default.window,this.hasTracked=!0,this.props.refreshIntervalMs&&(this.checkLayoutInterval=setInterval(this.checkTargetReposition,this.props.refreshIntervalMs)),this.onFrameScroll=(0,u.default)(this.onFrameScroll,200),this.onFrameResize=(0,u.default)(this.onFrameResize,200),this.onPopoverResize=(0,u.default)(this.onPopoverResize,200),this.onTargetResize=(0,u.default)(this.onTargetResize,200),this.frameEl.addEventListener("scroll",this.onFrameScroll),d.default.on(this.frameEl,this.onFrameResize),d.default.on(this.containerEl,this.onPopoverResize),d.default.on(this.targetEl,this.onTargetResize),f.default.document.addEventListener("mousedown",this.checkForOuterAction),f.default.document.addEventListener("touchstart",this.checkForOuterAction),this.measurePopoverSize(),this.measureFrameBounds(),this.measureTargetBounds(),this.resolvePopoverLayout()}},{key:"untrackPopover",value:function(){clearInterval(this.checkLayoutInterval),this.frameEl.removeEventListener("scroll",this.onFrameScroll),d.default.off(this.frameEl,this.onFrameResize),d.default.off(this.containerEl,this.onPopoverResize),d.default.off(this.targetEl,this.onTargetResize),f.default.document.removeEventListener("mousedown",this.checkForOuterAction),f.default.document.removeEventListener("touchstart",this.checkForOuterAction),this.hasTracked=!1}},{key:"measureFrameBounds",value:function(){this.frameBounds=h.default.El.calcBounds(this.frameEl)}},{key:"render",value:function(){var e=this.props,t=e.className,n=void 0===t?"":t,r=e.style,a=void 0===r?{}:r,l=e.tipSize,u=this.state.standing,c={className:"Popover Popover-"+u+" "+n,style:i({},x,a)},d=this.state.exited?null:o.default.createElement("div",i({ref:this.getContainerNodeRef},c),o.default.createElement("div",{className:"Popover-body",children:this.props.body}),o.default.createElement(m.default,{direction:S[u],size:l}));return[this.props.children,f.default.isClient&&s.default.createPortal(d,this.props.appendTarget)]}}]),t}();M.propTypes={body:a.default.node.isRequired,children:a.default.element.isRequired,appendTarget:a.default.object,className:a.default.string,enterExitTransitionDurationMs:a.default.number,isOpen:a.default.bool,offset:a.default.number,place:a.default.oneOf(h.default.validTypeValues),preferPlace:a.default.oneOf(h.default.validTypeValues),refreshIntervalMs:a.default.oneOfType([a.default.number,a.default.bool]),style:a.default.object,tipSize:a.default.number,onOuterAction:a.default.func},M.defaultProps={tipSize:7,preferPlace:null,place:null,offset:4,isOpen:!1,onOuterAction:p.default.noop,enterExitTransitionDurationMs:500,children:null,refreshIntervalMs:200,appendTarget:f.default.isClient?f.default.document.body:null},t.default=M},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=h(n(5)),a=h(n(13)),s=h(n(48)),l=h(n(1)),u=h(n(0)),c=h(n(177)),d=h(n(175));function h(e){return e&&e.__esModule?e:{default:e}}function f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var p=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return(0,o.default)(n,["handleClosePopover","handleToggleOpenState"]),n.state={isOpen:!1},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,u.default.Component),r(t,[{key:"handleClosePopover",value:function(){this.setState({isOpen:!1})}},{key:"handleToggleOpenState",value:function(){this.setState({isOpen:!this.state.isOpen})}},{key:"render",value:function(){var e;return u.default.createElement(s.default,i({body:this.props.popoverContent,isOpen:this.state.isOpen,preferPlace:"below",onOuterAction:this.handleClosePopover},this.props),u.default.createElement("div",{className:(0,a.default)(c.default.dropdown,this.props.className,(e={},f(e,c.default.modOpen,this.state.isOpen),f(e,c.default.modClosed,!this.state.isOpen),e)),onClick:this.handleToggleOpenState},this.props.children,u.default.createElement("img",{className:(0,a.default)(c.default.dropdownIcon,f({},c.default.modCaretUp,this.state.isOpen)),draggable:!1,src:d.default})))}}]),t}();p.propTypes={children:l.default.node.isRequired,className:l.default.string,popoverContent:l.default.node.isRequired},t.default=p},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();t.default=function(e){var t=function(t){function n(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n);var t=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,e));return(0,o.default)(t,["handleChange","handleKeyPress","handleFlush"]),t.state={value:null},t}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(n,s.default.Component),r(n,[{key:"handleKeyPress",value:function(e){"Enter"===e.key&&(this.handleFlush(),e.target.blur())}},{key:"handleFlush",value:function(){var e="number"==typeof this.props.value,t=!e||!isNaN(this.state.value);null!==this.state.value&&t&&this.props.onSubmit(e?Number(this.state.value):this.state.value),this.setState({value:null})}},{key:"handleChange",value:function(e){this.setState({value:e.target.value})}},{key:"render",value:function(){var t=null===this.state.value?this.props.value:this.state.value;return s.default.createElement(e,i({},this.props,{value:t,onBlur:this.handleFlush,onChange:this.handleChange,onKeyPress:this.handleKeyPress}))}}]),n}();return t.propTypes={onSubmit:a.default.func.isRequired,value:a.default.oneOfType([a.default.string,a.default.number])},t};var o=l(n(5)),a=l(n(1)),s=l(n(0));function l(e){return e&&e.__esModule?e:{default:e}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=s(n(0)),r=s(n(1)),o=s(n(10)),a=s(n(70));function s(e){return e&&e.__esModule?e:{default:e}}var l=function(e){return i.default.createElement(o.default,{imgDescriptor:{defaultMessage:"Brush",description:"Label for the brush tool",id:"paint.brushMode.brush"},imgSrc:a.default,isSelected:e.isSelected,onMouseDown:e.onMouseDown})};l.propTypes={isSelected:r.default.bool.isRequired,onMouseDown:r.default.func.isRequired},t.default=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=n(2),a=(i=o)&&i.__esModule?i:{default:i},s=n(6);var l=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.lastPoint=null,this.finalPath=null,this.firstCircle=null}return r(e,[{key:"onSegmentMouseDown",value:function(e,t,n){e.event.button>0||(t.minDistance=2/a.default.view.zoom,t.maxDistance=n.brushSize,this.firstCircle=new a.default.Path.Circle({center:e.point,radius:n.brushSize/2}),this.finalPath=this.firstCircle,(0,s.styleBlob)(this.finalPath,n),this.lastPoint=e.point)}},{key:"onSegmentMouseDrag",value:function(e,t,n){if(!(e.event.button>0)){var i=e.delta.normalize(n.brushSize/2),r=i.clone();r.length=n.brushSize/2,r.angle+=90;var o=new a.default.Path;(0,s.styleBlob)(o,n),o.add(new a.default.Segment(this.lastPoint.subtract(i),r.multiply(-1),r)),i.angle+=90,o.add(e.lastPoint.add(i)),o.insert(0,e.lastPoint.subtract(i)),o.add(e.point.add(i)),o.insert(0,e.point.subtract(i)),i.angle-=90,o.add(new a.default.Segment(e.point.add(i),r,r.multiply(-1))),o.closed=!0,o.flatten(Math.min(5,n.brushSize/5)),this.lastPoint=e.point;var l=this.finalPath.unite(o);o.remove(),this.finalPath.remove(),this.finalPath=l}}},{key:"onSegmentMouseUp",value:function(e){if(!(e.event.button>0)){if(this.finalPath.segments&&this.finalPath.segments.length>4){this.finalPath.closed=!1,this.finalPath.simplify(2),this.finalPath.closed=!0;var t=this.finalPath.unite(this.firstCircle);this.finalPath.remove(),this.finalPath=t}return this.finalPath}}}]),e}();t.default=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=s(n(2)),o=n(6),a=s(n(7));function s(e){return e&&e.__esModule?e:{default:e}}var l=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.lastVec=null,this.lastPoint=null,this.finalPath=null,this.smoothed=0,this.smoothingThreshold=20,this.steps=0,this.endCaps=[]}return i(e,[{key:"onBroadMouseDown",value:function(e,t,n){this.steps=0,this.smoothed=0,t.minDistance=Math.min(5,Math.max(2/r.default.view.zoom,n.brushSize/2)),t.maxDistance=n.brushSize,e.event.button>0||(this.finalPath=new r.default.Path.Circle({center:e.point,radius:n.brushSize/2}),(0,o.styleBlob)(this.finalPath,n),this.lastPoint=e.point)}},{key:"onBroadMouseDrag",value:function(e,t,n){this.steps++;var i=e.delta.normalize(n.brushSize/2);if(this.lastVec){var a=this.lastVec.getDirectedAngle(i);if(Math.abs(a)>126){this.simplify(1),this.smoothed++;var s=new r.default.Path.Circle(this.lastPoint,n.brushSize/2);s.fillColor=n.fillColor;var l=new r.default.Path.Rectangle(this.lastPoint.subtract(new r.default.Point(-n.brushSize/2,0)),this.lastPoint.subtract(new r.default.Point(n.brushSize/2,this.lastVec.length)));l.fillColor=n.fillColor,l.rotate(this.lastVec.angle-90,this.lastPoint);var u=new r.default.Path.Rectangle(e.point.subtract(new r.default.Point(-n.brushSize/2,0)),e.point.subtract(new r.default.Point(n.brushSize/2,e.delta.length)));u.fillColor=n.fillColor,u.rotate(i.angle-90,e.point),this.endCaps.push(this.union(s,this.union(l,u)))}}if(this.lastVec=e.delta,i.angle+=90,1===this.steps){this.finalPath.remove(),this.finalPath=new r.default.Path;var c=e.delta.normalize(n.brushSize/2);this.finalPath.add(new r.default.Segment(this.lastPoint.subtract(c),c.rotate(-90),c.rotate(90))),(0,o.styleBlob)(this.finalPath,n),this.finalPath.insert(0,new r.default.Segment(this.lastPoint.subtract(i))),this.finalPath.add(new r.default.Segment(this.lastPoint.add(i)))}var d=e.middlePoint.add(i),h=e.middlePoint.subtract(i);this.finalPath.add(d),this.finalPath.add(e.point.add(i)),this.finalPath.insert(0,h),this.finalPath.insert(0,e.point.subtract(i)),this.finalPath.segments.length>this.smoothed+2*this.smoothingThreshold&&this.simplify(1),this.lastPoint=e.point}},{key:"simplify",value:function(e){var t=this.finalPath.segments.length,n=Math.floor((t-this.smoothed)/2)+1,i=Math.min(n+1,Math.floor(t/2)),o=Math.max(t-1-n,Math.floor(t/2)+1);if(!(i<=1||o>=t-1)){var a=new r.default.Path(this.finalPath.segments.slice(1,i)),s=new r.default.Path(this.finalPath.segments.slice(i,o)),l=new r.default.Path(this.finalPath.segments.slice(o,t-1)),u=a.segments[a.segments.length-1],c=l.segments[0];a.simplify(e),l.simplify(e);var d=a.segments[a.segments.length-1],h=l.segments[0];d.handleOut=u.handleOut,h.handleIn=c.handleIn,this.finalPath.removeSegments(1,this.finalPath.segments.length-1),this.finalPath.insertSegments(1,a.segments.concat(s.segments).concat(l.segments)),a.remove(),l.remove(),s.remove(),this.smoothed=Math.max(2,this.finalPath.segments.length)}}},{key:"union",value:function(e,t){var n=e.unite(t);return e.remove(),t.remove(),n}},{key:"onBroadMouseUp",value:function(e,t,n){if(0===this.steps)return this.endCaps.length=0,this.finalPath;if(!e.point.equals(this.lastPoint)){var i=e.delta.normalize(n.brushSize/2);i.angle+=90;var o=e.point.add(i),s=e.point.subtract(i);this.finalPath.add(o),this.finalPath.insert(0,s)}this.simplify(1);var l=e.delta.normalize(n.brushSize/2);this.finalPath.add(new r.default.Segment(e.point.add(l),l.rotate(90),l.rotate(-90))),this.finalPath.closePath();var u=this.finalPath.resolveCrossings().reorient(!0,!0).reduce({simplify:!0});u!==this.finalPath&&(u.copyAttributes(this.finalPath),u.fillColor=this.finalPath.fillColor,this.finalPath.remove(),this.finalPath=u);var c=!0,d=!1,h=void 0;try{for(var f,p=this.endCaps[Symbol.iterator]();!(c=(f=p.next()).done);c=!0){var m=f.value,g=this.union(this.finalPath,m);g.area>=this.finalPath.area&&(!(g instanceof r.default.CompoundPath)||this.finalPath instanceof r.default.CompoundPath)?this.finalPath=g:(this.finalPath.insertAbove(g),g.remove(),a.default.warn("Skipping a merge."))}}catch(e){d=!0,h=e}finally{try{!c&&p.return&&p.return()}finally{if(d)throw h}}return this.endCaps.length=0,this.finalPath}}]),e}();t.default=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=v(n(1)),a=v(n(0)),s=n(8),l=v(n(5)),u=v(n(4)),c=v(n(71)),d=n(6),h=n(17),f=n(14),p=n(9),m=n(3),g=v(n(194));function v(e){return e&&e.__esModule?e:{default:e}}var y=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return(0,l.default)(n,["activateTool","deactivateTool"]),n.blob=new c.default(n.props.onUpdateSvg,n.props.clearSelectedItems),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default.Component),r(t,[{key:"componentDidMount",value:function(){this.props.isBrushModeActive&&this.activateTool(this.props)}},{key:"componentWillReceiveProps",value:function(e){e.isBrushModeActive&&!this.props.isBrushModeActive?this.activateTool():!e.isBrushModeActive&&this.props.isBrushModeActive?this.deactivateTool():e.isBrushModeActive&&this.props.isBrushModeActive&&this.blob.setOptions(i({isEraser:!1},e.colorState,e.brushModeState))}},{key:"shouldComponentUpdate",value:function(e){return e.isBrushModeActive!==this.props.isBrushModeActive}},{key:"activateTool",value:function(){(0,m.clearSelection)(this.props.clearSelectedItems);var e=this.props.colorState.fillColor;e!==d.MIXED&&null!==e||this.props.onChangeFillColor(h.DEFAULT_COLOR),this.blob.activateTool(i({isEraser:!1},this.props.colorState,this.props.brushModeState))}},{key:"deactivateTool",value:function(){this.blob.deactivateTool()}},{key:"render",value:function(){return a.default.createElement(g.default,{isSelected:this.props.isBrushModeActive,onMouseDown:this.props.handleMouseDown})}}]),t}();y.propTypes={brushModeState:o.default.shape({brushSize:o.default.number.isRequired}),clearSelectedItems:o.default.func.isRequired,colorState:o.default.shape({fillColor:o.default.string,strokeColor:o.default.string,strokeWidth:o.default.number}).isRequired,handleMouseDown:o.default.func.isRequired,isBrushModeActive:o.default.bool.isRequired,onChangeFillColor:o.default.func.isRequired,onUpdateSvg:o.default.func.isRequired};t.default=(0,s.connect)(function(e){return{brushModeState:e.scratchPaint.brushMode,colorState:e.scratchPaint.color,isBrushModeActive:e.scratchPaint.mode===u.default.BRUSH}},function(e){return{clearSelectedItems:function(){e((0,p.clearSelectedItems)())},handleMouseDown:function(){e((0,f.changeMode)(u.default.BRUSH))},onChangeFillColor:function(t){e((0,h.changeFillColor)(t))}}})(y)},function(e,t,n){(t=e.exports=n(12)(!1)).push([e.i,"/* DO NOT EDIT\n@todo This file is copied from GUI and should be pulled out into a shared library.\nSee https://github.com/LLK/scratch-paint/issues/13 */\n\n/* ACTUALLY, THIS IS EDITED ;)\nTHIS WAS CHANGED ON 10/25/2017 BY @mewtaylor TO ADD A VARIABLE FOR THE SMALLEST\nGRID UNITS.\n\nALSO EDITED ON 11/13/2017 TO ADD IN CONTANTS FOR LAYOUT FROM `layout-contents.js`*/\n\n/* layout contants from `layout-constants.js`, minus 1px */\n\n.button-group_button-group_3_c2R {\n    padding: 0 .25rem;\n}\n",""]),t.locals={"button-group":"button-group_button-group_3_c2R",buttonGroup:"button-group_button-group_3_c2R"}},function(e,t,n){var i=n(198);"string"==typeof i&&(i=[[e.i,i,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};n(11)(i,r);i.locals&&(e.exports=i.locals)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=s(n(13)),r=s(n(0)),o=s(n(1)),a=s(n(199));function s(e){return e&&e.__esModule?e:{default:e}}var l=function(e){return r.default.createElement("div",{className:(0,i.default)(e.className,a.default.buttonGroup)},e.children)};l.propTypes={children:o.default.node.isRequired,className:o.default.string},t.default=l},function(e,t){e.exports=["alignContent","MozAlignContent","WebkitAlignContent","MSAlignContent","OAlignContent","alignItems","MozAlignItems","WebkitAlignItems","MSAlignItems","OAlignItems","alignSelf","MozAlignSelf","WebkitAlignSelf","MSAlignSelf","OAlignSelf","all","MozAll","WebkitAll","MSAll","OAll","animation","MozAnimation","WebkitAnimation","MSAnimation","OAnimation","animationDelay","MozAnimationDelay","WebkitAnimationDelay","MSAnimationDelay","OAnimationDelay","animationDirection","MozAnimationDirection","WebkitAnimationDirection","MSAnimationDirection","OAnimationDirection","animationDuration","MozAnimationDuration","WebkitAnimationDuration","MSAnimationDuration","OAnimationDuration","animationFillMode","MozAnimationFillMode","WebkitAnimationFillMode","MSAnimationFillMode","OAnimationFillMode","animationIterationCount","MozAnimationIterationCount","WebkitAnimationIterationCount","MSAnimationIterationCount","OAnimationIterationCount","animationName","MozAnimationName","WebkitAnimationName","MSAnimationName","OAnimationName","animationPlayState","MozAnimationPlayState","WebkitAnimationPlayState","MSAnimationPlayState","OAnimationPlayState","animationTimingFunction","MozAnimationTimingFunction","WebkitAnimationTimingFunction","MSAnimationTimingFunction","OAnimationTimingFunction","backfaceVisibility","MozBackfaceVisibility","WebkitBackfaceVisibility","MSBackfaceVisibility","OBackfaceVisibility","background","MozBackground","WebkitBackground","MSBackground","OBackground","backgroundAttachment","MozBackgroundAttachment","WebkitBackgroundAttachment","MSBackgroundAttachment","OBackgroundAttachment","backgroundBlendMode","MozBackgroundBlendMode","WebkitBackgroundBlendMode","MSBackgroundBlendMode","OBackgroundBlendMode","backgroundClip","MozBackgroundClip","WebkitBackgroundClip","MSBackgroundClip","OBackgroundClip","backgroundColor","MozBackgroundColor","WebkitBackgroundColor","MSBackgroundColor","OBackgroundColor","backgroundImage","MozBackgroundImage","WebkitBackgroundImage","MSBackgroundImage","OBackgroundImage","backgroundOrigin","MozBackgroundOrigin","WebkitBackgroundOrigin","MSBackgroundOrigin","OBackgroundOrigin","backgroundPosition","MozBackgroundPosition","WebkitBackgroundPosition","MSBackgroundPosition","OBackgroundPosition","backgroundRepeat","MozBackgroundRepeat","WebkitBackgroundRepeat","MSBackgroundRepeat","OBackgroundRepeat","backgroundSize","MozBackgroundSize","WebkitBackgroundSize","MSBackgroundSize","OBackgroundSize","blockSize","MozBlockSize","WebkitBlockSize","MSBlockSize","OBlockSize","border","MozBorder","WebkitBorder","MSBorder","OBorder","borderBlockEnd","MozBorderBlockEnd","WebkitBorderBlockEnd","MSBorderBlockEnd","OBorderBlockEnd","borderBlockEndColor","MozBorderBlockEndColor","WebkitBorderBlockEndColor","MSBorderBlockEndColor","OBorderBlockEndColor","borderBlockEndStyle","MozBorderBlockEndStyle","WebkitBorderBlockEndStyle","MSBorderBlockEndStyle","OBorderBlockEndStyle","borderBlockEndWidth","MozBorderBlockEndWidth","WebkitBorderBlockEndWidth","MSBorderBlockEndWidth","OBorderBlockEndWidth","borderBlockStart","MozBorderBlockStart","WebkitBorderBlockStart","MSBorderBlockStart","OBorderBlockStart","borderBlockStartColor","MozBorderBlockStartColor","WebkitBorderBlockStartColor","MSBorderBlockStartColor","OBorderBlockStartColor","borderBlockStartStyle","MozBorderBlockStartStyle","WebkitBorderBlockStartStyle","MSBorderBlockStartStyle","OBorderBlockStartStyle","borderBlockStartWidth","MozBorderBlockStartWidth","WebkitBorderBlockStartWidth","MSBorderBlockStartWidth","OBorderBlockStartWidth","borderBottom","MozBorderBottom","WebkitBorderBottom","MSBorderBottom","OBorderBottom","borderBottomColor","MozBorderBottomColor","WebkitBorderBottomColor","MSBorderBottomColor","OBorderBottomColor","borderBottomLeftRadius","MozBorderBottomLeftRadius","WebkitBorderBottomLeftRadius","MSBorderBottomLeftRadius","OBorderBottomLeftRadius","borderBottomRightRadius","MozBorderBottomRightRadius","WebkitBorderBottomRightRadius","MSBorderBottomRightRadius","OBorderBottomRightRadius","borderBottomStyle","MozBorderBottomStyle","WebkitBorderBottomStyle","MSBorderBottomStyle","OBorderBottomStyle","borderBottomWidth","MozBorderBottomWidth","WebkitBorderBottomWidth","MSBorderBottomWidth","OBorderBottomWidth","borderCollapse","MozBorderCollapse","WebkitBorderCollapse","MSBorderCollapse","OBorderCollapse","borderColor","MozBorderColor","WebkitBorderColor","MSBorderColor","OBorderColor","borderImage","MozBorderImage","WebkitBorderImage","MSBorderImage","OBorderImage","borderImageOutset","MozBorderImageOutset","WebkitBorderImageOutset","MSBorderImageOutset","OBorderImageOutset","borderImageRepeat","MozBorderImageRepeat","WebkitBorderImageRepeat","MSBorderImageRepeat","OBorderImageRepeat","borderImageSlice","MozBorderImageSlice","WebkitBorderImageSlice","MSBorderImageSlice","OBorderImageSlice","borderImageSource","MozBorderImageSource","WebkitBorderImageSource","MSBorderImageSource","OBorderImageSource","borderImageWidth","MozBorderImageWidth","WebkitBorderImageWidth","MSBorderImageWidth","OBorderImageWidth","borderInlineEnd","MozBorderInlineEnd","WebkitBorderInlineEnd","MSBorderInlineEnd","OBorderInlineEnd","borderInlineEndColor","MozBorderInlineEndColor","WebkitBorderInlineEndColor","MSBorderInlineEndColor","OBorderInlineEndColor","borderInlineEndStyle","MozBorderInlineEndStyle","WebkitBorderInlineEndStyle","MSBorderInlineEndStyle","OBorderInlineEndStyle","borderInlineEndWidth","MozBorderInlineEndWidth","WebkitBorderInlineEndWidth","MSBorderInlineEndWidth","OBorderInlineEndWidth","borderInlineStart","MozBorderInlineStart","WebkitBorderInlineStart","MSBorderInlineStart","OBorderInlineStart","borderInlineStartColor","MozBorderInlineStartColor","WebkitBorderInlineStartColor","MSBorderInlineStartColor","OBorderInlineStartColor","borderInlineStartStyle","MozBorderInlineStartStyle","WebkitBorderInlineStartStyle","MSBorderInlineStartStyle","OBorderInlineStartStyle","borderInlineStartWidth","MozBorderInlineStartWidth","WebkitBorderInlineStartWidth","MSBorderInlineStartWidth","OBorderInlineStartWidth","borderLeft","MozBorderLeft","WebkitBorderLeft","MSBorderLeft","OBorderLeft","borderLeftColor","MozBorderLeftColor","WebkitBorderLeftColor","MSBorderLeftColor","OBorderLeftColor","borderLeftStyle","MozBorderLeftStyle","WebkitBorderLeftStyle","MSBorderLeftStyle","OBorderLeftStyle","borderLeftWidth","MozBorderLeftWidth","WebkitBorderLeftWidth","MSBorderLeftWidth","OBorderLeftWidth","borderRadius","MozBorderRadius","WebkitBorderRadius","MSBorderRadius","OBorderRadius","borderRight","MozBorderRight","WebkitBorderRight","MSBorderRight","OBorderRight","borderRightColor","MozBorderRightColor","WebkitBorderRightColor","MSBorderRightColor","OBorderRightColor","borderRightStyle","MozBorderRightStyle","WebkitBorderRightStyle","MSBorderRightStyle","OBorderRightStyle","borderRightWidth","MozBorderRightWidth","WebkitBorderRightWidth","MSBorderRightWidth","OBorderRightWidth","borderSpacing","MozBorderSpacing","WebkitBorderSpacing","MSBorderSpacing","OBorderSpacing","borderStyle","MozBorderStyle","WebkitBorderStyle","MSBorderStyle","OBorderStyle","borderTop","MozBorderTop","WebkitBorderTop","MSBorderTop","OBorderTop","borderTopColor","MozBorderTopColor","WebkitBorderTopColor","MSBorderTopColor","OBorderTopColor","borderTopLeftRadius","MozBorderTopLeftRadius","WebkitBorderTopLeftRadius","MSBorderTopLeftRadius","OBorderTopLeftRadius","borderTopRightRadius","MozBorderTopRightRadius","WebkitBorderTopRightRadius","MSBorderTopRightRadius","OBorderTopRightRadius","borderTopStyle","MozBorderTopStyle","WebkitBorderTopStyle","MSBorderTopStyle","OBorderTopStyle","borderTopWidth","MozBorderTopWidth","WebkitBorderTopWidth","MSBorderTopWidth","OBorderTopWidth","borderWidth","MozBorderWidth","WebkitBorderWidth","MSBorderWidth","OBorderWidth","bottom","MozBottom","WebkitBottom","MSBottom","OBottom","boxDecorationBreak","MozBoxDecorationBreak","WebkitBoxDecorationBreak","MSBoxDecorationBreak","OBoxDecorationBreak","boxShadow","MozBoxShadow","WebkitBoxShadow","MSBoxShadow","OBoxShadow","boxSizing","MozBoxSizing","WebkitBoxSizing","MSBoxSizing","OBoxSizing","breakAfter","MozBreakAfter","WebkitBreakAfter","MSBreakAfter","OBreakAfter","breakBefore","MozBreakBefore","WebkitBreakBefore","MSBreakBefore","OBreakBefore","breakInside","MozBreakInside","WebkitBreakInside","MSBreakInside","OBreakInside","captionSide","MozCaptionSide","WebkitCaptionSide","MSCaptionSide","OCaptionSide","caretColor","MozCaretColor","WebkitCaretColor","MSCaretColor","OCaretColor","ch","MozCh","WebkitCh","MSCh","OCh","clear","MozClear","WebkitClear","MSClear","OClear","clip","MozClip","WebkitClip","MSClip","OClip","clipPath","MozClipPath","WebkitClipPath","MSClipPath","OClipPath","cm","MozCm","WebkitCm","MSCm","OCm","color","MozColor","WebkitColor","MSColor","OColor","columnCount","MozColumnCount","WebkitColumnCount","MSColumnCount","OColumnCount","columnFill","MozColumnFill","WebkitColumnFill","MSColumnFill","OColumnFill","columnGap","MozColumnGap","WebkitColumnGap","MSColumnGap","OColumnGap","columnRule","MozColumnRule","WebkitColumnRule","MSColumnRule","OColumnRule","columnRuleColor","MozColumnRuleColor","WebkitColumnRuleColor","MSColumnRuleColor","OColumnRuleColor","columnRuleStyle","MozColumnRuleStyle","WebkitColumnRuleStyle","MSColumnRuleStyle","OColumnRuleStyle","columnRuleWidth","MozColumnRuleWidth","WebkitColumnRuleWidth","MSColumnRuleWidth","OColumnRuleWidth","columnSpan","MozColumnSpan","WebkitColumnSpan","MSColumnSpan","OColumnSpan","columnWidth","MozColumnWidth","WebkitColumnWidth","MSColumnWidth","OColumnWidth","columns","MozColumns","WebkitColumns","MSColumns","OColumns","content","MozContent","WebkitContent","MSContent","OContent","counterIncrement","MozCounterIncrement","WebkitCounterIncrement","MSCounterIncrement","OCounterIncrement","counterReset","MozCounterReset","WebkitCounterReset","MSCounterReset","OCounterReset","cursor","MozCursor","WebkitCursor","MSCursor","OCursor","deg","MozDeg","WebkitDeg","MSDeg","ODeg","direction","MozDirection","WebkitDirection","MSDirection","ODirection","display","MozDisplay","WebkitDisplay","MSDisplay","ODisplay","dpcm","MozDpcm","WebkitDpcm","MSDpcm","ODpcm","dpi","MozDpi","WebkitDpi","MSDpi","ODpi","dppx","MozDppx","WebkitDppx","MSDppx","ODppx","em","MozEm","WebkitEm","MSEm","OEm","emptyCells","MozEmptyCells","WebkitEmptyCells","MSEmptyCells","OEmptyCells","ex","MozEx","WebkitEx","MSEx","OEx","filter","MozFilter","WebkitFilter","MSFilter","OFilter","flexBasis","MozFlexBasis","WebkitFlexBasis","MSFlexBasis","OFlexBasis","flexDirection","MozFlexDirection","WebkitFlexDirection","MSFlexDirection","OFlexDirection","flexFlow","MozFlexFlow","WebkitFlexFlow","MSFlexFlow","OFlexFlow","flexGrow","MozFlexGrow","WebkitFlexGrow","MSFlexGrow","OFlexGrow","flexShrink","MozFlexShrink","WebkitFlexShrink","MSFlexShrink","OFlexShrink","flexWrap","MozFlexWrap","WebkitFlexWrap","MSFlexWrap","OFlexWrap","float","MozFloat","WebkitFloat","MSFloat","OFloat","font","MozFont","WebkitFont","MSFont","OFont","fontFamily","MozFontFamily","WebkitFontFamily","MSFontFamily","OFontFamily","fontFeatureSettings","MozFontFeatureSettings","WebkitFontFeatureSettings","MSFontFeatureSettings","OFontFeatureSettings","fontKerning","MozFontKerning","WebkitFontKerning","MSFontKerning","OFontKerning","fontLanguageOverride","MozFontLanguageOverride","WebkitFontLanguageOverride","MSFontLanguageOverride","OFontLanguageOverride","fontSize","MozFontSize","WebkitFontSize","MSFontSize","OFontSize","fontSizeAdjust","MozFontSizeAdjust","WebkitFontSizeAdjust","MSFontSizeAdjust","OFontSizeAdjust","fontStretch","MozFontStretch","WebkitFontStretch","MSFontStretch","OFontStretch","fontStyle","MozFontStyle","WebkitFontStyle","MSFontStyle","OFontStyle","fontSynthesis","MozFontSynthesis","WebkitFontSynthesis","MSFontSynthesis","OFontSynthesis","fontVariant","MozFontVariant","WebkitFontVariant","MSFontVariant","OFontVariant","fontVariantAlternates","MozFontVariantAlternates","WebkitFontVariantAlternates","MSFontVariantAlternates","OFontVariantAlternates","fontVariantCaps","MozFontVariantCaps","WebkitFontVariantCaps","MSFontVariantCaps","OFontVariantCaps","fontVariantEastAsian","MozFontVariantEastAsian","WebkitFontVariantEastAsian","MSFontVariantEastAsian","OFontVariantEastAsian","fontVariantLigatures","MozFontVariantLigatures","WebkitFontVariantLigatures","MSFontVariantLigatures","OFontVariantLigatures","fontVariantNumeric","MozFontVariantNumeric","WebkitFontVariantNumeric","MSFontVariantNumeric","OFontVariantNumeric","fontVariantPosition","MozFontVariantPosition","WebkitFontVariantPosition","MSFontVariantPosition","OFontVariantPosition","fontWeight","MozFontWeight","WebkitFontWeight","MSFontWeight","OFontWeight","fr","MozFr","WebkitFr","MSFr","OFr","grad","MozGrad","WebkitGrad","MSGrad","OGrad","grid","MozGrid","WebkitGrid","MSGrid","OGrid","gridArea","MozGridArea","WebkitGridArea","MSGridArea","OGridArea","gridAutoColumns","MozGridAutoColumns","WebkitGridAutoColumns","MSGridAutoColumns","OGridAutoColumns","gridAutoFlow","MozGridAutoFlow","WebkitGridAutoFlow","MSGridAutoFlow","OGridAutoFlow","gridAutoRows","MozGridAutoRows","WebkitGridAutoRows","MSGridAutoRows","OGridAutoRows","gridColumn","MozGridColumn","WebkitGridColumn","MSGridColumn","OGridColumn","gridColumnEnd","MozGridColumnEnd","WebkitGridColumnEnd","MSGridColumnEnd","OGridColumnEnd","gridColumnGap","MozGridColumnGap","WebkitGridColumnGap","MSGridColumnGap","OGridColumnGap","gridColumnStart","MozGridColumnStart","WebkitGridColumnStart","MSGridColumnStart","OGridColumnStart","gridGap","MozGridGap","WebkitGridGap","MSGridGap","OGridGap","gridRow","MozGridRow","WebkitGridRow","MSGridRow","OGridRow","gridRowEnd","MozGridRowEnd","WebkitGridRowEnd","MSGridRowEnd","OGridRowEnd","gridRowGap","MozGridRowGap","WebkitGridRowGap","MSGridRowGap","OGridRowGap","gridRowStart","MozGridRowStart","WebkitGridRowStart","MSGridRowStart","OGridRowStart","gridTemplate","MozGridTemplate","WebkitGridTemplate","MSGridTemplate","OGridTemplate","gridTemplateAreas","MozGridTemplateAreas","WebkitGridTemplateAreas","MSGridTemplateAreas","OGridTemplateAreas","gridTemplateColumns","MozGridTemplateColumns","WebkitGridTemplateColumns","MSGridTemplateColumns","OGridTemplateColumns","gridTemplateRows","MozGridTemplateRows","WebkitGridTemplateRows","MSGridTemplateRows","OGridTemplateRows","height","MozHeight","WebkitHeight","MSHeight","OHeight","hyphens","MozHyphens","WebkitHyphens","MSHyphens","OHyphens","hz","MozHz","WebkitHz","MSHz","OHz","imageOrientation","MozImageOrientation","WebkitImageOrientation","MSImageOrientation","OImageOrientation","imageRendering","MozImageRendering","WebkitImageRendering","MSImageRendering","OImageRendering","imageResolution","MozImageResolution","WebkitImageResolution","MSImageResolution","OImageResolution","imeMode","MozImeMode","WebkitImeMode","MSImeMode","OImeMode","in","MozIn","WebkitIn","MSIn","OIn","inherit","MozInherit","WebkitInherit","MSInherit","OInherit","initial","MozInitial","WebkitInitial","MSInitial","OInitial","inlineSize","MozInlineSize","WebkitInlineSize","MSInlineSize","OInlineSize","isolation","MozIsolation","WebkitIsolation","MSIsolation","OIsolation","justifyContent","MozJustifyContent","WebkitJustifyContent","MSJustifyContent","OJustifyContent","khz","MozKhz","WebkitKhz","MSKhz","OKhz","left","MozLeft","WebkitLeft","MSLeft","OLeft","letterSpacing","MozLetterSpacing","WebkitLetterSpacing","MSLetterSpacing","OLetterSpacing","lineBreak","MozLineBreak","WebkitLineBreak","MSLineBreak","OLineBreak","lineHeight","MozLineHeight","WebkitLineHeight","MSLineHeight","OLineHeight","listStyle","MozListStyle","WebkitListStyle","MSListStyle","OListStyle","listStyleImage","MozListStyleImage","WebkitListStyleImage","MSListStyleImage","OListStyleImage","listStylePosition","MozListStylePosition","WebkitListStylePosition","MSListStylePosition","OListStylePosition","listStyleType","MozListStyleType","WebkitListStyleType","MSListStyleType","OListStyleType","margin","MozMargin","WebkitMargin","MSMargin","OMargin","marginBlockEnd","MozMarginBlockEnd","WebkitMarginBlockEnd","MSMarginBlockEnd","OMarginBlockEnd","marginBlockStart","MozMarginBlockStart","WebkitMarginBlockStart","MSMarginBlockStart","OMarginBlockStart","marginBottom","MozMarginBottom","WebkitMarginBottom","MSMarginBottom","OMarginBottom","marginInlineEnd","MozMarginInlineEnd","WebkitMarginInlineEnd","MSMarginInlineEnd","OMarginInlineEnd","marginInlineStart","MozMarginInlineStart","WebkitMarginInlineStart","MSMarginInlineStart","OMarginInlineStart","marginLeft","MozMarginLeft","WebkitMarginLeft","MSMarginLeft","OMarginLeft","marginRight","MozMarginRight","WebkitMarginRight","MSMarginRight","OMarginRight","marginTop","MozMarginTop","WebkitMarginTop","MSMarginTop","OMarginTop","mask","MozMask","WebkitMask","MSMask","OMask","maskClip","MozMaskClip","WebkitMaskClip","MSMaskClip","OMaskClip","maskComposite","MozMaskComposite","WebkitMaskComposite","MSMaskComposite","OMaskComposite","maskImage","MozMaskImage","WebkitMaskImage","MSMaskImage","OMaskImage","maskMode","MozMaskMode","WebkitMaskMode","MSMaskMode","OMaskMode","maskOrigin","MozMaskOrigin","WebkitMaskOrigin","MSMaskOrigin","OMaskOrigin","maskPosition","MozMaskPosition","WebkitMaskPosition","MSMaskPosition","OMaskPosition","maskRepeat","MozMaskRepeat","WebkitMaskRepeat","MSMaskRepeat","OMaskRepeat","maskSize","MozMaskSize","WebkitMaskSize","MSMaskSize","OMaskSize","maskType","MozMaskType","WebkitMaskType","MSMaskType","OMaskType","maxHeight","MozMaxHeight","WebkitMaxHeight","MSMaxHeight","OMaxHeight","maxWidth","MozMaxWidth","WebkitMaxWidth","MSMaxWidth","OMaxWidth","minBlockSize","MozMinBlockSize","WebkitMinBlockSize","MSMinBlockSize","OMinBlockSize","minHeight","MozMinHeight","WebkitMinHeight","MSMinHeight","OMinHeight","minInlineSize","MozMinInlineSize","WebkitMinInlineSize","MSMinInlineSize","OMinInlineSize","minWidth","MozMinWidth","WebkitMinWidth","MSMinWidth","OMinWidth","mixBlendMode","MozMixBlendMode","WebkitMixBlendMode","MSMixBlendMode","OMixBlendMode","mm","MozMm","WebkitMm","MSMm","OMm","ms","MozMs","WebkitMs","MSMs","OMs","objectFit","MozObjectFit","WebkitObjectFit","MSObjectFit","OObjectFit","objectPosition","MozObjectPosition","WebkitObjectPosition","MSObjectPosition","OObjectPosition","offsetBlockEnd","MozOffsetBlockEnd","WebkitOffsetBlockEnd","MSOffsetBlockEnd","OOffsetBlockEnd","offsetBlockStart","MozOffsetBlockStart","WebkitOffsetBlockStart","MSOffsetBlockStart","OOffsetBlockStart","offsetInlineEnd","MozOffsetInlineEnd","WebkitOffsetInlineEnd","MSOffsetInlineEnd","OOffsetInlineEnd","offsetInlineStart","MozOffsetInlineStart","WebkitOffsetInlineStart","MSOffsetInlineStart","OOffsetInlineStart","opacity","MozOpacity","WebkitOpacity","MSOpacity","OOpacity","order","MozOrder","WebkitOrder","MSOrder","OOrder","orphans","MozOrphans","WebkitOrphans","MSOrphans","OOrphans","outline","MozOutline","WebkitOutline","MSOutline","OOutline","outlineColor","MozOutlineColor","WebkitOutlineColor","MSOutlineColor","OOutlineColor","outlineOffset","MozOutlineOffset","WebkitOutlineOffset","MSOutlineOffset","OOutlineOffset","outlineStyle","MozOutlineStyle","WebkitOutlineStyle","MSOutlineStyle","OOutlineStyle","outlineWidth","MozOutlineWidth","WebkitOutlineWidth","MSOutlineWidth","OOutlineWidth","overflow","MozOverflow","WebkitOverflow","MSOverflow","OOverflow","overflowWrap","MozOverflowWrap","WebkitOverflowWrap","MSOverflowWrap","OOverflowWrap","overflowX","MozOverflowX","WebkitOverflowX","MSOverflowX","OOverflowX","overflowY","MozOverflowY","WebkitOverflowY","MSOverflowY","OOverflowY","padding","MozPadding","WebkitPadding","MSPadding","OPadding","paddingBlockEnd","MozPaddingBlockEnd","WebkitPaddingBlockEnd","MSPaddingBlockEnd","OPaddingBlockEnd","paddingBlockStart","MozPaddingBlockStart","WebkitPaddingBlockStart","MSPaddingBlockStart","OPaddingBlockStart","paddingBottom","MozPaddingBottom","WebkitPaddingBottom","MSPaddingBottom","OPaddingBottom","paddingInlineEnd","MozPaddingInlineEnd","WebkitPaddingInlineEnd","MSPaddingInlineEnd","OPaddingInlineEnd","paddingInlineStart","MozPaddingInlineStart","WebkitPaddingInlineStart","MSPaddingInlineStart","OPaddingInlineStart","paddingLeft","MozPaddingLeft","WebkitPaddingLeft","MSPaddingLeft","OPaddingLeft","paddingRight","MozPaddingRight","WebkitPaddingRight","MSPaddingRight","OPaddingRight","paddingTop","MozPaddingTop","WebkitPaddingTop","MSPaddingTop","OPaddingTop","pageBreakAfter","MozPageBreakAfter","WebkitPageBreakAfter","MSPageBreakAfter","OPageBreakAfter","pageBreakBefore","MozPageBreakBefore","WebkitPageBreakBefore","MSPageBreakBefore","OPageBreakBefore","pageBreakInside","MozPageBreakInside","WebkitPageBreakInside","MSPageBreakInside","OPageBreakInside","pc","MozPc","WebkitPc","MSPc","OPc","perspective","MozPerspective","WebkitPerspective","MSPerspective","OPerspective","perspectiveOrigin","MozPerspectiveOrigin","WebkitPerspectiveOrigin","MSPerspectiveOrigin","OPerspectiveOrigin","pointerEvents","MozPointerEvents","WebkitPointerEvents","MSPointerEvents","OPointerEvents","position","MozPosition","WebkitPosition","MSPosition","OPosition","pt","MozPt","WebkitPt","MSPt","OPt","px","MozPx","WebkitPx","MSPx","OPx","q","MozQ","WebkitQ","MSQ","OQ","quotes","MozQuotes","WebkitQuotes","MSQuotes","OQuotes","rad","MozRad","WebkitRad","MSRad","ORad","rem","MozRem","WebkitRem","MSRem","ORem","resize","MozResize","WebkitResize","MSResize","OResize","revert","MozRevert","WebkitRevert","MSRevert","ORevert","right","MozRight","WebkitRight","MSRight","ORight","rubyAlign","MozRubyAlign","WebkitRubyAlign","MSRubyAlign","ORubyAlign","rubyMerge","MozRubyMerge","WebkitRubyMerge","MSRubyMerge","ORubyMerge","rubyPosition","MozRubyPosition","WebkitRubyPosition","MSRubyPosition","ORubyPosition","s","MozS","WebkitS","MSS","OS","scrollBehavior","MozScrollBehavior","WebkitScrollBehavior","MSScrollBehavior","OScrollBehavior","scrollSnapCoordinate","MozScrollSnapCoordinate","WebkitScrollSnapCoordinate","MSScrollSnapCoordinate","OScrollSnapCoordinate","scrollSnapDestination","MozScrollSnapDestination","WebkitScrollSnapDestination","MSScrollSnapDestination","OScrollSnapDestination","scrollSnapType","MozScrollSnapType","WebkitScrollSnapType","MSScrollSnapType","OScrollSnapType","shapeImageThreshold","MozShapeImageThreshold","WebkitShapeImageThreshold","MSShapeImageThreshold","OShapeImageThreshold","shapeMargin","MozShapeMargin","WebkitShapeMargin","MSShapeMargin","OShapeMargin","shapeOutside","MozShapeOutside","WebkitShapeOutside","MSShapeOutside","OShapeOutside","tabSize","MozTabSize","WebkitTabSize","MSTabSize","OTabSize","tableLayout","MozTableLayout","WebkitTableLayout","MSTableLayout","OTableLayout","textAlign","MozTextAlign","WebkitTextAlign","MSTextAlign","OTextAlign","textAlignLast","MozTextAlignLast","WebkitTextAlignLast","MSTextAlignLast","OTextAlignLast","textCombineUpright","MozTextCombineUpright","WebkitTextCombineUpright","MSTextCombineUpright","OTextCombineUpright","textDecoration","MozTextDecoration","WebkitTextDecoration","MSTextDecoration","OTextDecoration","textDecorationColor","MozTextDecorationColor","WebkitTextDecorationColor","MSTextDecorationColor","OTextDecorationColor","textDecorationLine","MozTextDecorationLine","WebkitTextDecorationLine","MSTextDecorationLine","OTextDecorationLine","textDecorationStyle","MozTextDecorationStyle","WebkitTextDecorationStyle","MSTextDecorationStyle","OTextDecorationStyle","textEmphasis","MozTextEmphasis","WebkitTextEmphasis","MSTextEmphasis","OTextEmphasis","textEmphasisColor","MozTextEmphasisColor","WebkitTextEmphasisColor","MSTextEmphasisColor","OTextEmphasisColor","textEmphasisPosition","MozTextEmphasisPosition","WebkitTextEmphasisPosition","MSTextEmphasisPosition","OTextEmphasisPosition","textEmphasisStyle","MozTextEmphasisStyle","WebkitTextEmphasisStyle","MSTextEmphasisStyle","OTextEmphasisStyle","textIndent","MozTextIndent","WebkitTextIndent","MSTextIndent","OTextIndent","textOrientation","MozTextOrientation","WebkitTextOrientation","MSTextOrientation","OTextOrientation","textOverflow","MozTextOverflow","WebkitTextOverflow","MSTextOverflow","OTextOverflow","textRendering","MozTextRendering","WebkitTextRendering","MSTextRendering","OTextRendering","textShadow","MozTextShadow","WebkitTextShadow","MSTextShadow","OTextShadow","textTransform","MozTextTransform","WebkitTextTransform","MSTextTransform","OTextTransform","textUnderlinePosition","MozTextUnderlinePosition","WebkitTextUnderlinePosition","MSTextUnderlinePosition","OTextUnderlinePosition","top","MozTop","WebkitTop","MSTop","OTop","touchAction","MozTouchAction","WebkitTouchAction","MSTouchAction","OTouchAction","transform","MozTransform","WebkitTransform","msTransform","OTransform","transformBox","MozTransformBox","WebkitTransformBox","MSTransformBox","OTransformBox","transformOrigin","MozTransformOrigin","WebkitTransformOrigin","MSTransformOrigin","OTransformOrigin","transformStyle","MozTransformStyle","WebkitTransformStyle","MSTransformStyle","OTransformStyle","transition","MozTransition","WebkitTransition","MSTransition","OTransition","transitionDelay","MozTransitionDelay","WebkitTransitionDelay","MSTransitionDelay","OTransitionDelay","transitionDuration","MozTransitionDuration","WebkitTransitionDuration","MSTransitionDuration","OTransitionDuration","transitionProperty","MozTransitionProperty","WebkitTransitionProperty","MSTransitionProperty","OTransitionProperty","transitionTimingFunction","MozTransitionTimingFunction","WebkitTransitionTimingFunction","MSTransitionTimingFunction","OTransitionTimingFunction","turn","MozTurn","WebkitTurn","MSTurn","OTurn","unicodeBidi","MozUnicodeBidi","WebkitUnicodeBidi","MSUnicodeBidi","OUnicodeBidi","unset","MozUnset","WebkitUnset","MSUnset","OUnset","verticalAlign","MozVerticalAlign","WebkitVerticalAlign","MSVerticalAlign","OVerticalAlign","vh","MozVh","WebkitVh","MSVh","OVh","visibility","MozVisibility","WebkitVisibility","MSVisibility","OVisibility","vmax","MozVmax","WebkitVmax","MSVmax","OVmax","vmin","MozVmin","WebkitVmin","MSVmin","OVmin","vw","MozVw","WebkitVw","MSVw","OVw","whiteSpace","MozWhiteSpace","WebkitWhiteSpace","MSWhiteSpace","OWhiteSpace","widows","MozWidows","WebkitWidows","MSWidows","OWidows","width","MozWidth","WebkitWidth","MSWidth","OWidth","willChange","MozWillChange","WebkitWillChange","MSWillChange","OWillChange","wordBreak","MozWordBreak","WebkitWordBreak","MSWordBreak","OWordBreak","wordSpacing","MozWordSpacing","WebkitWordSpacing","MSWordSpacing","OWordSpacing","wordWrap","MozWordWrap","WebkitWordWrap","MSWordWrap","OWordWrap","writingMode","MozWritingMode","WebkitWritingMode","MSWritingMode","OWritingMode","zIndex","MozZIndex","WebkitZIndex","MSZIndex","OZIndex","fontSize","MozFontSize","WebkitFontSize","MSFontSize","OFontSize","flex","MozFlex","WebkitFlex","MSFlex","OFlex","fr","MozFr","WebkitFr","MSFr","OFr","overflowScrolling","MozOverflowScrolling","WebkitOverflowScrolling","MSOverflowScrolling","OOverflowScrolling","userSelect","MozUserSelect","WebkitUserSelect","MSUserSelect","OUserSelect"]},function(e,t,n){var i=n(201),r=n(1);e.exports=function(e,t,n){var r=e[t];if(r){var o=[];if(Object.keys(r).forEach(function(e){-1===i.indexOf(e)&&o.push(e)}),o.length)throw new Error("Prop "+t+" passed to "+n+". Has invalid keys "+o.join(", "))}},e.exports.isRequired=function(t,n,i){if(!t[n])throw new Error("Prop "+n+" passed to "+i+" is required");return e.exports(t,n,i)},e.exports.supportingArrays=r.oneOfType([r.arrayOf(e.exports),e.exports])},function(e,t){e.exports="data:image/svg+xml,%3C?xml version='1.0' encoding='UTF-8'?%3E %3Csvg width='20px' height='20px' viewBox='0 0 20 20' version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink'%3E %3C!-- Generator: Sketch 49.3 (51167) - http://www.bohemiancoding.com/sketch --%3E %3Ctitle%3Emarquee%3C/title%3E %3Cdesc%3ECreated with Sketch.%3C/desc%3E %3Cdefs%3E%3C/defs%3E %3Cg id='marquee' stroke='none' stroke-width='1' fill='none' fill-rule='evenodd'%3E %3Cpath d='M4.5,4.18186116 L4.5,3 L5.68186116,3 L5.68186116,4.18186116 L4.5,4.18186116 Z M11.591167,4.18186116 L11.591167,3 L12.7730281,3 L12.7730281,4.18186116 L11.591167,4.18186116 Z M4.5,13.6367504 L4.5,12.4537074 L5.68186116,12.4537074 L5.68186116,13.6367504 L4.5,13.6367504 Z M9.22697189,6.54570166 L10.4100149,6.54570166 L10.4100149,7.72756282 L11.5918761,7.72756282 L11.5918761,8.90942398 L12.7737372,8.90942398 L12.7737372,10.0912851 L13.9555984,10.0912851 L13.9555984,11.2731463 L15.1362777,11.2731463 L15.1362777,12.4538256 L16.3181388,12.4538256 L16.3181388,13.6368686 L17.5,13.6368686 L17.5,14.8187298 L12.7737372,14.8187298 L12.7737372,16.0005909 L11.5918761,16.0005909 L11.5918761,17.1824521 L10.4100149,17.1824521 L10.4100149,18.3643132 L9.22697189,18.3643132 L9.22697189,6.54570166 Z M13.9548893,8.90930579 L13.9548893,7.72744463 L15.1367504,7.72744463 L15.1367504,8.90930579 L13.9548893,8.90930579 Z M6.86372232,4.18186116 L6.86372232,3 L8.04558348,3 L8.04558348,4.18186116 L6.86372232,4.18186116 Z M4.5,11.2730281 L4.5,10.091167 L5.68186116,10.091167 L5.68186116,11.2730281 L4.5,11.2730281 Z M13.9548893,4.18186116 L13.9548893,3 L15.1367504,3 L15.1367504,4.18186116 L13.9548893,4.18186116 Z M9.22744463,4.18186116 L9.22744463,3 L10.4104877,3 L10.4104877,4.18186116 L9.22744463,4.18186116 Z M4.5,8.90930579 L4.5,7.72744463 L5.68186116,7.72744463 L5.68186116,8.90930579 L4.5,8.90930579 Z M4.5,6.54558348 L4.5,5.36372232 L5.68186116,5.36372232 L5.68186116,6.54558348 L4.5,6.54558348 Z M13.9548893,6.54558348 L13.9548893,5.36372232 L15.1367504,5.36372232 L15.1367504,6.54558348 L13.9548893,6.54558348 Z M6.86372232,13.6367504 L6.86372232,12.4537074 L8.04558348,12.4537074 L8.04558348,13.6367504 L6.86372232,13.6367504 Z' id='Combined-Shape' fill='%23575E75'%3E%3C/path%3E %3C/g%3E %3C/svg%3E"},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=s(n(0)),r=n(18),o=s(n(10)),a=s(n(203));function s(e){return e&&e.__esModule?e:{default:e}}t.default=function(){return i.default.createElement(r.ComingSoonTooltip,{place:"right",tooltipId:"bit-select-mode"},i.default.createElement(o.default,{disabled:!0,imgDescriptor:{defaultMessage:"Select",description:"Label for the select tool, which allows selecting, moving, and resizing shapes",id:"paint.selectMode.select"},imgSrc:a.default,isSelected:!1,onMouseDown:function(){}}))}},function(e,t){e.exports="data:image/svg+xml,%3C?xml version='1.0' encoding='UTF-8'?%3E %3Csvg width='20px' height='20px' viewBox='0 0 20 20' version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink'%3E %3C!-- Generator: Sketch 49.3 (51167) - http://www.bohemiancoding.com/sketch --%3E %3Ctitle%3Eeraser%3C/title%3E %3Cdesc%3ECreated with Sketch.%3C/desc%3E %3Cdefs%3E%3C/defs%3E %3Cg id='eraser' stroke='none' stroke-width='1' fill='none' fill-rule='evenodd'%3E %3Cpath d='M9.30022904,14.1996946 L7.89984723,14.1996946 L7.89984723,12.7997327 L6.49988541,12.7997327 L6.49988541,11.3997709 L5.09992359,11.3997709 L5.09992359,9.99840913 L3.69996177,9.99840913 L3.69996177,8.59984728 L2.29999995,8.59984728 L2.29999995,7.19988546 L3.69996177,7.19988546 L3.69996177,5.79992364 L5.09992359,5.79992364 L5.09992359,4.39996182 L6.49988541,4.39996182 L6.49988541,3 L7.89984723,3 L7.89984723,4.39996182 L9.30120901,4.39996182 L9.30120901,5.79992364 L10.7011708,5.79992364 L10.7011708,7.19988546 L12.1011326,7.19988546 L12.1011326,8.59984728 L13.4996945,8.59984728 L13.4996945,9.99840913 L12.1011326,9.99840913 L12.1011326,11.3997709 L10.7011708,11.3997709 L10.7011708,12.7997327 L9.30120901,12.7997327 L9.30120901,14.1995546 L10.7001909,14.1995546 L10.7001909,15.5995164 L9.30022904,15.5995164 L9.30022904,14.1996946 Z M10.7001909,16.9994782 L10.7001909,15.5995164 L14.9000763,15.5995164 L14.9000763,16.9994782 L10.7001909,16.9994782 Z M14.9000763,15.5995164 L14.9000763,14.1995546 L16.3000381,14.1995546 L16.3000381,15.5995164 L14.9000763,15.5995164 Z M14.9000763,12.7995927 L14.9000763,11.3996309 L16.3000381,11.3996309 L16.3000381,12.7995927 L14.9000763,12.7995927 Z M16.3000381,14.1995546 L16.3000381,12.7995927 L17.7,12.7995927 L17.7,14.1995546 L16.3000381,14.1995546 Z M13.5001145,11.3996309 L13.5001145,9.99826914 L14.9000763,9.99826914 L14.9000763,11.3996309 L13.5001145,11.3996309 Z' id='Combined-Shape' fill='%23575E75'%3E%3C/path%3E %3C/g%3E %3C/svg%3E"},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=s(n(0)),r=n(18),o=s(n(10)),a=s(n(205));function s(e){return e&&e.__esModule?e:{default:e}}t.default=function(){return i.default.createElement(r.ComingSoonTooltip,{place:"right",tooltipId:"bit-eraser-mode"},i.default.createElement(o.default,{disabled:!0,imgDescriptor:{defaultMessage:"Eraser",description:"Label for the eraser tool",id:"paint.eraserMode.eraser"},imgSrc:a.default,isSelected:!1,onMouseDown:function(){}}))}},function(e,t){e.exports="data:image/svg+xml,%3C?xml version='1.0' encoding='UTF-8'?%3E %3Csvg width='20px' height='20px' viewBox='0 0 20 20' version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink'%3E %3C!-- Generator: Sketch 49.3 (51167) - http://www.bohemiancoding.com/sketch --%3E %3Ctitle%3Efill%3C/title%3E %3Cdesc%3ECreated with Sketch.%3C/desc%3E %3Cdefs%3E%3C/defs%3E %3Cg id='fill' stroke='none' stroke-width='1' fill='none' fill-rule='evenodd'%3E %3Cpath d='M10.7000634,5.80137446 L9.29979614,5.80137446 L9.29979614,8.59994895 L7.89980891,8.59994895 L7.89980891,4.39998724 L6.49982167,4.39998724 L6.49982167,5.80137446 L5.09983443,5.80137446 L5.09983443,3 L9.29979614,3 L9.29979614,4.39998724 L10.7011834,4.39998724 L10.7011834,5.80123446 L12.1000506,5.80123446 L12.1000506,7.2012217 L10.7000634,7.2012217 L10.7000634,5.80137446 Z M5.10011443,8.60120894 L5.10011443,7.2012217 L6.50010167,7.2012217 L6.50010167,8.60120894 L5.10011443,8.60120894 Z M16.3000123,16.9997324 L16.3000123,10.0011962 L17.6999996,10.0011962 L17.6999996,16.9997324 L16.3000123,16.9997324 Z M12.1003306,7.20080171 L13.5003179,7.20080171 L13.5003179,8.60078894 L16.3002923,8.60078894 L16.3002923,10.0007762 L14.9003051,10.0007762 L14.9003051,11.3573638 L13.5003179,11.3573638 L13.5003179,12.758751 L12.1003306,12.758751 L12.1003306,14.1587383 L10.7003434,14.1587383 L10.7003434,15.5587255 L9.29895615,15.5587255 L9.29895615,16.9587128 L7.89896891,16.9587128 L7.89896891,15.5587255 L6.49898168,15.5587255 L6.49898168,14.1587383 L5.10039442,14.1587383 L5.10039442,12.758751 L3.70040719,12.758751 L3.70040719,11.3573638 L6.49898168,11.3573638 L6.49898168,11.3713637 L9.29895615,11.3713637 L9.29895615,10.0007762 L12.1003306,10.0007762 L12.1003306,7.20080171 Z M3.69998719,8.60064895 L5.09997443,8.60064895 L5.09997443,10.0006362 L3.69998719,10.0006362 L3.69998719,11.3572238 L2.29999995,11.3572238 L2.29999995,9.95723658 L3.69998719,9.95723658 L3.69998719,8.60064895 Z' id='Combined-Shape' fill='%23575E75'%3E%3C/path%3E %3C/g%3E %3C/svg%3E"},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=s(n(0)),r=n(18),o=s(n(10)),a=s(n(207));function s(e){return e&&e.__esModule?e:{default:e}}t.default=function(){return i.default.createElement(r.ComingSoonTooltip,{place:"right",tooltipId:"bit-fill-mode"},i.default.createElement(o.default,{disabled:!0,imgDescriptor:{defaultMessage:"Fill",description:"Label for the fill tool",id:"paint.fillMode.fill"},imgSrc:a.default,isSelected:!1,onMouseDown:function(){}}))}},function(e,t){e.exports="data:image/svg+xml,%3C?xml version='1.0' encoding='UTF-8'?%3E %3Csvg width='20px' height='20px' viewBox='0 0 20 20' version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink'%3E %3C!-- Generator: Sketch 49.3 (51167) - http://www.bohemiancoding.com/sketch --%3E %3Ctitle%3Etext%3C/title%3E %3Cdesc%3ECreated with Sketch.%3C/desc%3E %3Cdefs%3E%3C/defs%3E %3Cg id='text' stroke='none' stroke-width='1' fill='none' fill-rule='evenodd'%3E %3Cpolygon id='Page-1' fill='%23575E75' points='4 4 4 8 6 8 6 6 9 6 9 14 7 14 7 16 13 16 13 14 11 14 11 6 14 6 14 8 16 8 16 4'%3E%3C/polygon%3E %3C/g%3E %3C/svg%3E"},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=s(n(0)),r=n(18),o=s(n(10)),a=s(n(209));function s(e){return e&&e.__esModule?e:{default:e}}t.default=function(){return i.default.createElement(r.ComingSoonTooltip,{place:"right",tooltipId:"bit-text-mode"},i.default.createElement(o.default,{disabled:!0,imgDescriptor:{defaultMessage:"Text",description:"Label for the text tool",id:"paint.textMode.text"},imgSrc:a.default,isSelected:!1,onMouseDown:function(){}}))}},function(e,t){e.exports="data:image/svg+xml,%3C?xml version='1.0' encoding='UTF-8'?%3E %3Csvg width='20px' height='20px' viewBox='0 0 20 20' version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink'%3E %3C!-- Generator: Sketch 49.3 (51167) - http://www.bohemiancoding.com/sketch --%3E %3Ctitle%3Erectange%3C/title%3E %3Cdesc%3ECreated with Sketch.%3C/desc%3E %3Cdefs%3E%3C/defs%3E %3Cg id='rectange' stroke='none' stroke-width='1' fill='none' fill-rule='evenodd'%3E %3Crect id='rectangle-icon' fill='%23575E75' x='4' y='4' width='12' height='12'%3E%3C/rect%3E %3C/g%3E %3C/svg%3E"},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=s(n(0)),r=n(18),o=s(n(10)),a=s(n(211));function s(e){return e&&e.__esModule?e:{default:e}}t.default=function(){return i.default.createElement(r.ComingSoonTooltip,{place:"right",tooltipId:"bit-rect-mode"},i.default.createElement(o.default,{disabled:!0,imgDescriptor:{defaultMessage:"Rectangle",description:"Label for the rectangle tool",id:"paint.rectMode.rect"},imgSrc:a.default,isSelected:!1,onMouseDown:function(){}}))}},function(e,t){e.exports="data:image/svg+xml,%3C?xml version='1.0' encoding='UTF-8'?%3E %3Csvg width='20px' height='20px' viewBox='0 0 20 20' version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink'%3E %3C!-- Generator: Sketch 49.3 (51167) - http://www.bohemiancoding.com/sketch --%3E %3Ctitle%3Eoval%3C/title%3E %3Cdesc%3ECreated with Sketch.%3C/desc%3E %3Cdefs%3E%3C/defs%3E %3Cg id='oval' stroke='none' stroke-width='1' fill='none' fill-rule='evenodd'%3E %3Cpolygon id='Page-1' fill='%23575E75' points='6.66666667 4 6.66666667 5.33333333 5.33333333 5.33333333 5.33333333 6.66666667 4 6.66666667 4 13.3333333 5.33333333 13.3333333 5.33333333 14.6666667 6.66666667 14.6666667 6.66666667 16 13.3333333 16 13.3333333 14.6666667 14.6666667 14.6666667 14.6666667 13.3333333 16 13.3333333 16 6.66666667 14.6666667 6.66666667 14.6666667 5.33333333 13.3333333 5.33333333 13.3333333 4'%3E%3C/polygon%3E %3C/g%3E %3C/svg%3E"},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=s(n(0)),r=n(18),o=s(n(10)),a=s(n(213));function s(e){return e&&e.__esModule?e:{default:e}}t.default=function(){return i.default.createElement(r.ComingSoonTooltip,{place:"right",tooltipId:"bit-oval-mode"},i.default.createElement(o.default,{disabled:!0,imgDescriptor:{defaultMessage:"Circle",description:"Label for the oval-drawing tool",id:"paint.ovalMode.oval"},imgSrc:a.default,isSelected:!1,onMouseDown:function(){}}))}},function(e,t){e.exports="data:image/svg+xml,%3C?xml version='1.0' encoding='UTF-8'?%3E %3Csvg width='20px' height='20px' viewBox='0 0 20 20' version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink'%3E %3C!-- Generator: Sketch 49.3 (51167) - http://www.bohemiancoding.com/sketch --%3E %3Ctitle%3Eline%3C/title%3E %3Cdesc%3ECreated with Sketch.%3C/desc%3E %3Cdefs%3E%3C/defs%3E %3Cg id='line' stroke='none' stroke-width='1' fill='none' fill-rule='evenodd'%3E %3Cpath d='M12,7.998 L12,6 L14,6 L14,8 L12.002,8 L12.002,10 L10,10 L10,7.998 L12,7.998 Z M8,12 L8,10 L10,10 L10,12 L8,12 Z M14,6 L14,4 L16,4 L16,6 L14,6 Z M4,16 L4,14 L6,14 L6,16 L4,16 Z M6,14 L6,12 L8,12 L8,14 L6,14 Z' id='Combined-Shape' fill='%23575E75'%3E%3C/path%3E %3C/g%3E %3C/svg%3E"},function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAADpdJREFUeNrsWmlwU9cVPm/RLtkykixDAIvFIWGJxdbEEMBQmkCn0yHLjywEnO1PlwEHks60M/XQTv+0hKVZJp1pE8hSMp0mYfqjpWmaGEjIxiICSRxCQCYL2LKNbMna9V7Pue896cl4kY2ctjO6M9fv6i3nnvOd9d5rgHIrt3Irt3Irt3IrtxFaYLvXh73x/4DPRuK12Pe5Yl468Tuv0yDCeZEHpyRBICNB8w1bOlr/lwT/6HFvoyhAC89BI/IXzmRhvn9rR3Ck78SiUOLAbxLBaTEyvPyJNLz18U5vK06yrX7rfxeIk9sVwU0GrtFsUO7FU7ITeSMrCJbEAqh98WSNbDcDJDMAVhNAIkUTAaQy8h5EfFv9lpHRLqngj3t9aJEtRpFrshgBzNj7E3hFEKJ4nfGTS0XJJhY7YVYCkGQZonEZRJ6HKhsHJoOMIHBNiHjT6R3ePfhOM1pEeJw17hR42Iku2UQWScLTNZog3iTkjUM+i9Zr8QBwnNyKEzeaRBn6YhLYzRgQEARCnDpaQ1MiJa87tcO7G81v1/xHhwai64+uQYOp+6Hu1uHiEJr6ZqMAm8xGzqkJTnPHUjJcjkpMIWgR9Lu15ACgUCDwitbRACDUK8E1Lh6BoHscM8F4EpwIREsiLW/CoLR7UmVmD35Kwq6g2EGdE0zAW72DztH9nAnkbJIFc7UfxN56sVdcR35u0QuOV4OALpmWGS+kGINAvHForXLpLYCYQbqNJpoELSyNgIT6JJhUJTBGkEFkQgEILcHJyVILZ6xoESpnAm+fAjgG3uItaiIp3uGXU31+KfplU7b3LFQ7IoCzgtnEMeHR/FnwwowEnb1k9orw1El29NRAyQGgGEDdhJGHw4ECgowMANQgCMRQNptFBkQwe2aD6J7PhC6ULFXUXLypCieqAsFRC4aJNwOCAZmuEyCF23CODJq5wN4L9aEWZNI+MBBE5C2Jt5Ct3vGwgFaUr4VTv6AJFRAk6Ikg04IIXJUfjK4b0FdM7B15gMBcPq0OkoQUs5VlbaTn0gxiTQOAZwGkuj+C5OXTICEQmYxi+hibcnRJSeNmATgfspxnmgAwIgOcsRLEyauBM9jVl1M5hjj8o1yVbxXhuUL55TwI2pAyDgNDvWofiK56kCtmQPqbQ2DKXtKBqdBHJZFrFJ2JuNGkoHNP1chuuwypdCZ3T6iYDuLEJQUEiSmeBEeEeE67x10h92BNVv8wwVWLIDAkKX8vF5gvHoFs37ncb6NRhK4IB70xuWq4LDRWF1DMS8e94PCBWL0YH6RzGhc0ofEHr9MMV6DpkTUi6+yB6Ej4QAICQgGDMU9zYwzIRoI59yEeixV+1ACgBgIolp8xZXbDF5l66G6LQ3dUZpwzrWs+jn88FdR58Ll5rB65Af4/tAnIKhBtX2ehEzNNqE8J7ZpFaG7hsnPgctTDdGsSpNhFtDge70uB0chUNAB33X2v82jHJxD9xgFnepzwVcSBd5NFT1SLIMyejP0ajoHhwc9DEeUZjWNJ+i3DJ19j/0qC9i5pFGLUw2THdLh2QhgcQgR5Xe18ed9L4auOASg0LSg2qcWM/4riKJ1mqS+TUWJCGn/Lqn2SNgwGZXUiiiKIOBYEoThXI5pIqxi6RFNUfw9cGVPmwr4bwQiO1QKeq62tbWxvb8/dSKVSEOvvZwySnxMD1GlsEEXNVdBPJUjju3SNY6er0WSCyspKJsSg1o/vRPr6IJlM5oTjSWAxzybRobkZ3ViMzUXNYDSC1WbDQGjUXvV7PB5/KBQixa0cswssXrQQNADi8ThEkUG73Q4TqpxgMpkZo+TXitAy016W5egs0xxpUbumULBoNAqOiopB56Jn9L3b7Qar1aqjrQiu0M7TJ5p6+uGeHnAgwBaLhdG7447b4Zln/lCiOgAnJuFJgy7XBHA6qxiDFJokDL3ERF7gFDKe0QfPnFWQ9ZCmBroD0U8gwESbALA77Ez7MoLKaGaQdjqTm0cQ0uw5x2nBVbn2hcPMCop1N36kFz48eoxdk4kE8z2z2Qw2tACD0aDkeWRCNOTNVSl8lCuvPlfGfG5MwlKzGmXWNQAIUKPRxITX3IoXCumP1Okb4pXaK6+8etUANKP5BzUtKhMokZO0oe8woNjR8vLA5M/p8uCWVd2s65/RPFkybx1tsjClilToF1R/HFdgBRoNtlYIhYj35jEDgNEzoAUQHjUgsWAmowlmWDDM9yQzUYmVa2pJmzN7ucANqFNQ89gzMNsbZZ3GdE/LKMlkgtHM0UeXIr+X1YWCLMMV7qWNNV7VtlKVYewuoKaQIDGoBSKK0oUApNk1zdJiBrtUILCkZgEamzATUBZYO/08QOQc6zTW0hvRiGEsSCZTV8xB4Gh08gXRlV3NBMHh0l/RAFCrq+oJUq4l4oqGkjkQiGF2TaVZ8CPr0KK1XnANCCPGEGqLJoVy9LWxAcFJoP/GY3F2zc3B5knlgqxCO5ujrde+lpqJ55IEQZZO6toatVxLDOmZY+afzmuJxplMnlE9GMQYpagVtRfBY03k6NOY7tEzlt/jBEB8EEvLg0BpUANYA4KuJhVgjeeSlMKTHX1gEVEgjP6UaykY0mSiKKgBiFP9HlRmJOYGegCoV02YoDB3/fkrQcZ7B9snYgZwsGKIxQq0unxmKZyjsC7Ig0wZinglnktiAdoG5vK6hKJBLFA0FyA/zftqWucS6YK6gDoVP+RGd6Kgeu3rrYCe0Ts0h2IFiQFWcCXdvEtIDDzi8cYpvcNuvo7aBSTRDgt/8DNmolTEkCvo44DePPVdY64Ciyczfjtreg2sXTJlyHnoGb1D71pRk3mgB59HDwCZPvFGPC6585eM55K5QNzzfbBXTYKHH3oQfv/EkwzpJGqqH0tXrT4YrOojphz4LkV4XFPAYz//BYSxUvvr31+FxJdvgSlxVimyzDPBPGUlrF5yOzzW4IRf/fo3rPymaB6NRFhho6/69OsNukfWpfn+ww9sZLwSz7aLfxlRthHrxcd+aPXFp9zXZKiaBZMn1UDD3OvgvWMBlu7JVLXFB6fue9FvYqYCmSJN0v21a9fAlkea4fix4/D83hcgneUgLl4DUfM81mkciaXg0KHDUO3xwIYN61lU+fTTNpY2SatapUfzkplrix/mWpiirWYTPPrgepg5sw7SWIlmkv1g7npj72//Fg9etQXIBofCAK3rJ3lh1+aH4dAHH8Lh059De2f3oMtRXInBIlxIrV2zBsdudu+zM2eYufb0XB5yrvc/+AAW4ne0kFm+fDn848ABOIrlOFZ1g+8zVLtg2Zw6WOafDbZq1DxtzJBFGhwlc4GgtplJpkzdarPCrYvr4dYFc1EdIlyIplCLWODYKkk94ENzp9XcwGbDex0dHfola0Ej/77xxu/oQHTDhvvWsx7DpW+QVqVkAqk4WDJJmGrH2iTer5TbRguVgKxztDVmmghXdTj63VWrnbjwWYdr+BXXTp/Y9HmwI+frmi+6KxzgmVAJs+tmwqKbGmDGnHnD7nnRcvfee9bnNjMKNlfUzY+X/vwiW24PuzmLlvThkbfhk7bPIITW1NUbKSiGKDbU+bxw5tzFPbgEP4jZZP+/33wjXDQAKPw6QRQ3IpMnkVjw/gcf2DTB6fST5q1UymZSEO0Nw/n2C9DZfRm6w71w6vTH4MJl7N133wW33PK9IZk/e/YLeKT5EejHZbEGJDFuQ3/esXMH+vCMIb99/fV/wb59L0N3VxfMmzcP3M4KVIATpk2ZzAKzbDBBLJ3FUjoGPZfDgef+9OxuVJoPwa3PZjJ7EYT9Y9oW/zRwcKfZ6dtcgRqnqG6gk4isciqDPsHcgDR/5MgReOftI3AfBrGampoh6V26dAn27n0eTgZOKjt6/nrYuHHDiN+88PyLsPTmJbBkiboNL9ExkLrvgKafQQPow6zR1xeBRDi463r/iuaSnAt8dPpjv8VsPuHAdbqDVWoRuHDhArRj59QFL8vF6NsNDTeB11vcGSCBQI2EL6ZR/Hj33fcgibGC7Reoc9dOnQpTsTtQQZFIFHsE4onE/BvmzgmUBABqx95vPR/8+rLvnbffYTna5XKB2+1i0b66ujr33vHjx2Hr1i3DanMsAJAFbN/+OCxYsCB3r7Ozk2WHrq5u6O7uZrXG0puXwtTa2uDihQumlexk6NZb1qyrsvM758xf6rvuulmwbPky8KC/8zwPo21k9oGTJ9VxQHUBZcPZX1/P3GG0jYIegXDo8GFow9rh1KlTwd5wuPmfrx/Yf9UArGxc5cRg2IQmvueJp596zWa1NFqtNgxaVkC3KKjOimmkyY5LHYM+89Z4i7KcAYc1bM3Qj2mSAmt/LN760x/9+DZ0kSYMfnvean0zXLKzQYwFPoNBPIH53GmxYEawWsCMWWEsllCKRppP4DqBFk6xWJxACOMagXw/WCyNUXFOhPmeo7clIiGcNMaKE9q90XL4t9lozhgTPMaET0Q6QUDeRiP8qAGgNqvh3lbjl/vux0nD/f1kdjFmfolEku0BjHejOWguxeSVjiCEiadrG+5pHS09bqyMUGo0yP2vGW0eHy1Y2CIIO22XG9RTndHGh+H8nNJsWj0EoZJZ2YtIQro/FExxttuKSXklBUDdcHCGFr7awlknbjaZUHiDke3iYJxQzgNVIISCXR0YEhj9/h4TWt31yZ8CpfMApNIgx77ZlRJc2+rnzR3zv+aVREUUHDEQtogYeTUABEFkW2bKgQZdeXZgQoclOSD0/xQB+eM1bUuNNj41AGi3Oa2eDFFGQnC2jdbfxw0ArZ0/sNXXP/WBdTzHb+QFwS+qB6ckvLKhoQAA6iGHZgjaFjdAHgBlz69g3y8gydJe24Vn909bsz1YKp658QpWBEbCvaoxa51Wz3OcH6X149XJqRbADZha1g5T6D9AZDmMP1BgOYD3aEHWimYeHA8+OfiW28lTp+l/DnwD44Dq/8HxErTcyq3cyq3cyq3cym1g+48AAwDQ4puYcSrMSAAAAABJRU5ErkJggg=="},function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAERVJREFUeNrsWntwVFWa/917+/Yr6aTzIJ2EJLS8hkdCIo7CwioNCGspqziMuLO7Ao6ujoNVqKBT84eL1srW+hgJ687ULO6WMFs1WyXlyiBOQQAT1MHXrEmAMBIBAwkhIa/Oo5+3u+9+37ndnRASSDBxd6tyisPt3D73O9/3O7/vcc5tYKJNtIk20SbaRJtoE+06reY1l5t62f8DPT3Vr7qcIx1vGsmgWjLcpKBakYG67a6qSBRPl25prfm/ZPjxX7g2kI5bZQluLYoGunXTmAFAhjutqgSLCug6PIGwXk1A7CIgXiQgGv6XDfeYZGy3qFJZXD/4Q7p7pM/LIxkUI6GErujMgoxUCQ6btMFqxjcnX3dtJ9o5v2vDiZUeWoRKu0WqTE+RytLsQDQGmGlJJUnyjqkLkOCaGAmPRnV4/TpynTIyUiRYCfFAGE8RIzaceN21gxhRfvOzrd5xNfwXLjevuNkkrbaZAaNLaOvR4QvGYDFJIhSMVJ400oFn3sjVHTYdvYEYMUJCYbZMbJAQDDMIOgPBVy+7Rcnm1vLh5LT/WxazZchgmv1oR9W1gjAZvpVWeAMbnDCcae/16WjviUFVdKSnKAzG3tlPtd4/Zgww3EBvIBdwW0w6KMigpSuGomwFqVaQEqSIWYc1JDkJiO1/KndtojEv5qdH2KDV1JdQZ78skxQLZLtrGHCSH6viq1jbE5Sr/GF5g2rCJpsqOa1xw/lKgLC/o7OXV14X9Gd3pX+1Y+oC8TjQQL4lAKCFN0DwRpGfqYiJVYWUMjEYOrFCdytS7C3ZNglyaqHRbTmQzOkjm6vvgkcP93iifY1Ip24L9EKWZdissnA7VTHGhTQdraSDRcyv0yJICJNe5K7eMQeAomsDo8vGm5MgMPoSMh1GLI3FotCVFNgLSqGkTSOD0wZZFh5ZZLbnAtQV50zxtznQhkh7NSLdpxGTjUjMunTEaa+KWzoUSRKBUB9FDBgNA86LKEuTR6PGxAxCgCDvpcAY0U1QXLfDnDGrH7RBBkuJoCMNDkF68qL3/9X/nCUd6mQPkPtnCF7+I0LddQQ+P2tQX06IIQAiMRG0vePiAlGilyRfUR8QNXVErZNhzr+D/iDHjPYbTfpwSuq/xu8lDR9kPyRd5HEd8avoxufEA6acW6GnTYXUdARmve+KKM5zsI5loyjSRuUCzACJ4Y7231dzboGSMduwgVZciivCw+SE8UJ148MVaUcfYh4pwQRdfNaNACy6HmcIzA6Yp9wNrfkoYv7WwQs1qjQ8KgYwvWSp3wRTzm3k61RxRjXDdwUjJDFGHmCsZJg/pMHD5WXDFYwHWFZMEJ6AiOrC/3mkmu+BdvEDxChGGA/LBFJsVCW6PNKBRCvBgFjcCCV9GpTUyUZg08MUgDSYpAgUaKLL3HXuEWI2ARTTIHHXr915HOLj5ESPyxQ9PoeYl7rJdZvILgw8F2qs47gwYEAmcHN0VyjYcZDj1eZYoNCK9IWtaAhNQ8jiRlhyIFXqRLZejyLrhWvSfigGhKMmnOqdAd1egN5YhpCVFavHZPN5citd9EjcWFP2PEQufYSoIfvoOAKgN0QjEbcpZ4YIdkx5hf5j471hB07qq1A0cxbS0tJgMpkQiUTg9X4fn16oxnzzAZhlbUTzdIYcqIncjSkzZ18l678bazBP+T0pHhFoRinpxxQrJHs+9N4WAkUePwakmqOUkpyQVIegKOddY+VtqJP+ErNL5sPpdEJV1QRgSE1Nhd1ux8n6MOab9l93jp6QBbX6PUJWRkbGVbJSUlLwFcmah30ia4jMQbTkYkvxNSM7RR+fGMA1PBVAHtmaTb5Mvkc+r8R99MueWzB1ZjEyMzNhsVigKIrovHJWqxVZWVlwTlmExtCUpO8O1z/3zh+RrGbNLeY24gLpQQWSZMnk+mTTuABA7SnxADFATEgU5N4bUmDNvUUoHAqF8Jvf/Af++kd/g2VLl+Oxv3sMx/5wDGazGdnZ2ei0LkwGuaF6d0CGxTVfGBkOh4eUxYzg77tSFhmBk3RQdCMwyhZRantosdzjAcB6SU0xIjJNKFPkl6g3BXLhcrnEam1+ZjN279ot/LJoyhScP38Bzz//96ioOCRWT838HjR2XS6WhuiNPhdyc3OFrGcSsqiyGSjrUEJWxkz4Ixahh4ywWAzFnJLQddOYAkCI8vbVLZvsAmnaciRTVsSUIXxz77t7cebMWaHsS9tewrZ/3AbPsmViE/PKy6+gra0NDocDPRTRh6O/YnEIWYcOHcZZklVQWIh/iMtavmIFZHKFlwfICiG1P2WSToocg6SImLF6rBmw2ihIosn8bOTtMLq0DOGjx44dEwOZnhyo2PBJk7KJ/hZxn+nLfixLvFvRhuzNgWwxpqKiIimLATFkTRKuJGQdS8iKCh0YhETNoBgAuOOLNmZZYAnnZ9mkGsbHpGSx7zD1iAhdW3tclMBNFy/i7bf3iMjf1dWJ5Xcux/v796Ovr0+MQ7CdtpENvFMaVACYkGNqoh1lDMfjsi42NwtZDCjLWkEseG/fPvT1xmXFInEG6EIcX2UpWWh4RnIyNFIAyrgCTlR1mikHgbQF0GxTEe5KF8Evkaq0sCZ81OfrI6q2I7GT4e+CwSCc2sWrjRcDItBDXUIWG+zz+RDRNFp1FX6/Hy0trckyPCHLl7OO4s1ZmPzn4PB+kASAh9HH0jFhQDyiOsVujpRsd61HIG8NrBSomJKTs/uoQPFiwYIF+OyzzxAM+HHTTW50d3fjD0T77q6uJJ1DnWdg1zuGnWuydAJNNL64uFjICgQCcLvdBEAAH3/0EbwJWZRRGIC8aYuhabehLxRGp//HyDz/Osy+CsEeAsk9Vi4gBMVMqWie+QZUKjvT7DbYbDYBQnZWJj788EMs/vPFQmlewfLt5TBRXAhRKuMozitaMq8Eyunya06UpbTgRNNxkrVIyAqTrDf++Q0hKzxA1jyWRffSqUrkCjFAYARUEzqnb0UqeYX5kii4ysY0DfYW/BhKZjEpYEcq+bedJlR02hdHI5g1axYKCwvg8SwR9AwxPeMUZoU3PvlTBGn1833vX3eeOf6dKCgowJJBsjTNKKM3PrlRgJyXl0eMjEElyqdYzEihBUkhvXpmPI9Axu08dERH9dIIXOApLWX69t5bf4s0RyocNiusbLgWNPxbMUGy2tHc3gVvTw/q6k6h+ssv4SO/zaHI/YM1PxByuFawtu6D2rAbZn/9kHP5Jq2C5H4Q7dIM9JAszv1M/YGymN6FBFCKWQECPgodmjAjRnr4KDj3BcPwdXyNrC/W8CmzNBYu4PTnPwgLBSMzpR5zhAJeoBc6Tc6nj1ApNWlh5GdTOiRWzJr1PfLhuSI+8Eqxq3Bxw1dkPYzTyiJ8XvlfCDVVQtWMw4yQbTpy5t6HBTNXiJUtonsdHR0iIzy07qGrZSlkcG8XdF8PbRuDAgDZYiMdbQiTawRTixBOu5nuH/72MeDUZQf8WU7YpPOwm00whfwoycuiybuNaK5aRDqUzFbk5uSQgnnDynrnnXdQW3OcUiSBkbLsyh3gmWbU1u3E4z95XBjJQZP7UHtyMTevfh9dQwGDx8SEU1+fg6ba4KN9su6bhZUrFHfFoYMNo3KBv1h5V5lqNq+nQsMjyXKZFE87iTM3uifSkY38bk5RHmYW5GH5HYvhyCuClJ5NLqEMO9nL//QyrWznNQGfS+xZv37dNQ8ldFr93uYLOFJ1FPWNzTh14RIClAnEsRmxZqC+4mQpFquhYFmlhcO7D1YcqBmWAbTp2EAPuGnw0WAg8DuKujV7/ra2rOOOTyt5X55uNeN0zR+h+3tx7lwD2r3dqKyuw5vvHcbSxQvx7M9/fu2XrAQOl7FcxQ25Fe7pxn333Xtd2r72L79G5cfHML0wH3OL8nHvwjJMnVIE3ZaK6SWl6NFiCDZ9hBkLfyQt9Sxz0rxlJlV1km2rycayDyqP7BpNECxrv+PT6vQ0B9JSU2CjGKD3eeMxICpigI9wPPR5NRYv8Qj6Dvt6jer7J37yhMgMyiCmcJrLy8vFzjd3XlOflpYWHKO0u2LhfKopIvEYQM1iJ7dKQ5+kosdPmaOrqWb2vIU3f+sYQJG0pr62Gb3SZNSfrsflS804eeIEBLmIapFIFIVFhXBPm3FN47lNnz4NW7ZsFhsa47i8v7LjLPHcz3523dXnOVLT0/Gf+w+i8cIFUSNAFD7kPnPnIisvH9OmTYMSaqkZkzS4atW97uKSksqmpia3LX4gUVJSTIsfhStnklCo9sRJYcSdVPdvfmYL3XPhpxs3CoOHYwIHxFZaTW6lZWVYQymONz5DtYMHDuKXv/wVVq5ciR8+sEbsFhm8UiqIWi61oPXyZbFTPH78BDo6O6gaDcKR5qhqvND48P79+xpuGICVK+96QVXV+2bPmV2zdu3aDVyWci3A+/WhGqeqH655QBQud6+6Bw/+1YPIdDoF5UfbuOrr6e3FZdpPPPHY4+LePffcjc3EoGHOK0W90EsbpYaGBmx7advTfIZBBdTvKioOvDDqSpCCh5tWuer999+7+aF1656mIOhlP+XylvPzkMIoQ8yZO0d8dqSkUhUXwjdUzHxV/zUaaZfYRXsGBmeoFiGD+bt2yv8NRO1TX51GS+tlOAawgsvp4ZpGJTHrxz3d6dxFepez7mwD2zLqGFBZ9QFTR9CntKTYe/LUn3aEwqGtalAVUZzdQZKuJBAfVy1YcBu++PwLNDY1IpVWPo2CJ9fqDAYbGIvp8dddV56Pi7dJfMKsyFBp252VmUG7ShsFvUvie2ZRaWnZsGwJknxmIC+Que3IjsR3h48cqhqTH0iQnzvJwGqqt92sDO8JLFShDQaB9/2PPPIo2i63CZ/mPfyChQuIGXMpYGoiaMYG5Or+FMk/uDAOP7kKrKurw2Hy9dpa41X/2rUP4JFHH0meEiffWJGsAPm8z+8TAPsDwfLiObOfHvNfiHCr/+S3Hj3r1ko+7DC67SoQWKGKgxV45ZVXh8wCYjdXWpr0Wyl+sHL27Fn4+nziyiAObPzMzjf/VZTJV6485ftQUJwX8JbZHwjUkM8vZcaOCwDcTtSd2kC1+Vt2m7EltlktyePrRON9/Kuvvoaqyqox+V3Qc889iztX3JksoBi4iKB9UKw+z0fda2o9tHTGkidH9V5AuhGFBAiq+haf/IhuMUBQaTPEfmxUdT0oL98xJAguWcUiNQ1psgFafSSAT7TeIefirfSqVauSmYf9PRGM2e8ZhFBfmzcM29J5xXNH/dtF6UZX5avP3l2tp895ixRzWgQAZpipKlRp16jSSrFbsE++++5e7Hl7j/g8W7HhYZsL3zdfne+7YhH8u68Fv9cM9nLKZeP5dEgluVGqOvlMgLsAIBQWQU/ztdVYm/fcf9NdrzXciB3St6HmNwe2uIN592+X7TmrORawohykmAlMV67SWGHeAB0/+jFKPzkN+8XLtJ2lYCfJyRwcpaoyTLHDZ1FRO3USYrfPx0IKnDaKM1I8RWpaRARRAwCNGeDVfU075sxf9sK3sUEaCx89frLOo8Z6tsrWbA8DIIwXXRGvrPjVNSvOx1dRygLa6XNkfP8PCDghBGxmpE0pgInBU0xQ6Hmme6Lzs4IBkYhX7jm119zx8Ys3uupjDsAAINxqpH2Tbs1dTWnNLQyh9GaAIAsgjJ+xxOLvyZM/BxGlbCLAcSYxOhlOY6NkvORrqKESYnfYnL9rNFH+OwVgMBhkrMcU6VyiWya55WifB/xWmahv/GxGuqqUHdAb+HeJdD1KvYbAqBpLo78TAK5RUDEw7qFqeX6RMV6GTrSJNtEm2kSbaBNtog1u/yPAAMsIZ4ss8i8RAAAAAElFTkSuQmCC"},function(e,t,n){(t=e.exports=n(12)(!1)).push([e.i,'/* DO NOT EDIT\n@todo This file is copied from GUI and should be pulled out into a shared library.\nSee #13 */\n\n/*\n * NOTE: the copious use of `important` is needed to overwrite\n * the default tooltip styling, and is required by the 3rd party\n * library being used, `react-tooltip`\n */\n\n/* DO NOT EDIT\n@todo This file is copied from GUI and should be pulled out into a shared library.\nSee https://github.com/LLK/scratch-paint/issues/13 */\n\n.coming-soon_coming-soon_3x7RD {\n    background-color: #FF8C1A !important;\n    border: 1px solid hsla(0, 0%, 0%, .1) !important;\n    border-radius: .25rem !important;\n    -webkit-box-shadow: 0 0 .5rem hsla(0, 0%, 0%, .25) !important;\n            box-shadow: 0 0 .5rem hsla(0, 0%, 0%, .25) !important;\n    padding: .75rem 1rem !important;\n    font-family: "Helvetica Neue", Helvetica, Arial, sans-serif !important;\n    font-size: 1rem !important;\n    line-height: 1.25rem !important;\n    z-index: 100 !important;\n}\n\n.coming-soon_coming-soon_3x7RD:after {\n    content: "";\n    border-top: 1px solid hsla(0, 0%, 0%, .1) !important;\n    border-left: 0 !important;\n    border-bottom: 0 !important;\n    border-right: 1px solid hsla(0, 0%, 0%, .1) !important;\n    border-radius: .25rem;\n    background-color: #FF8C1A !important;\n    height: 1rem !important;\n    width: 1rem !important;\n}\n\n.coming-soon_show_1Kszm,\n.coming-soon_show_1Kszm:before,\n.coming-soon_show_1Kszm:after {\n    opacity: 1 !important;\n}\n\n.coming-soon_left_O4X9A:after {\n    margin-top: -.5rem !important;\n    right: -.5rem !important;\n    -webkit-transform: rotate(45deg) !important;\n        -ms-transform: rotate(45deg) !important;\n            transform: rotate(45deg) !important;\n}\n\n.coming-soon_right_1PkI6:after {\n    margin-top: -.5rem !important;\n    left: -.5rem !important;\n    -webkit-transform: rotate(-135deg) !important;\n        -ms-transform: rotate(-135deg) !important;\n            transform: rotate(-135deg) !important;\n}\n\n.coming-soon_top_13j8p:after {\n    margin-right: -.5rem !important;\n    bottom: -.5rem !important;\n    -webkit-transform: rotate(135deg) !important;\n        -ms-transform: rotate(135deg) !important;\n            transform: rotate(135deg) !important;\n}\n\n.coming-soon_bottom_2raz4:after {\n    margin-left: -.5rem !important;\n    top: -.5rem !important;\n    -webkit-transform: rotate(-45deg) !important;\n        -ms-transform: rotate(-45deg) !important;\n            transform: rotate(-45deg) !important;\n}\n\n.coming-soon_coming-soon-image_255bz {\n    margin-left: .125rem;\n    width: 1.25rem;\n    height: 1.25rem;\n    vertical-align: middle;\n}\n',""]),t.locals={"coming-soon":"coming-soon_coming-soon_3x7RD",comingSoon:"coming-soon_coming-soon_3x7RD",show:"coming-soon_show_1Kszm",left:"coming-soon_left_O4X9A",right:"coming-soon_right_1PkI6",top:"coming-soon_top_13j8p",bottom:"coming-soon_bottom_2raz4","coming-soon-image":"coming-soon_coming-soon-image_255bz",comingSoonImage:"coming-soon_coming-soon-image_255bz"}},function(e,t,n){var i=n(218);"string"==typeof i&&(i=[[e.i,i,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};n(11)(i,r);i.locals&&(e.exports=i.locals)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default='.__react_component_tooltip{border-radius:3px;display:inline-block;font-size:13px;left:-999em;opacity:0;padding:8px 21px;position:fixed;pointer-events:none;transition:opacity 0.3s ease-out;top:-999em;visibility:hidden;z-index:999}.__react_component_tooltip:before,.__react_component_tooltip:after{content:"";width:0;height:0;position:absolute}.__react_component_tooltip.show{opacity:0.9;margin-top:0px;margin-left:0px;visibility:visible}.__react_component_tooltip.type-dark{color:#fff;background-color:#222}.__react_component_tooltip.type-dark.place-top:after{border-top-color:#222;border-top-style:solid;border-top-width:6px}.__react_component_tooltip.type-dark.place-bottom:after{border-bottom-color:#222;border-bottom-style:solid;border-bottom-width:6px}.__react_component_tooltip.type-dark.place-left:after{border-left-color:#222;border-left-style:solid;border-left-width:6px}.__react_component_tooltip.type-dark.place-right:after{border-right-color:#222;border-right-style:solid;border-right-width:6px}.__react_component_tooltip.type-dark.border{border:1px solid #fff}.__react_component_tooltip.type-dark.border.place-top:before{border-top:8px solid #fff}.__react_component_tooltip.type-dark.border.place-bottom:before{border-bottom:8px solid #fff}.__react_component_tooltip.type-dark.border.place-left:before{border-left:8px solid #fff}.__react_component_tooltip.type-dark.border.place-right:before{border-right:8px solid #fff}.__react_component_tooltip.type-success{color:#fff;background-color:#8DC572}.__react_component_tooltip.type-success.place-top:after{border-top-color:#8DC572;border-top-style:solid;border-top-width:6px}.__react_component_tooltip.type-success.place-bottom:after{border-bottom-color:#8DC572;border-bottom-style:solid;border-bottom-width:6px}.__react_component_tooltip.type-success.place-left:after{border-left-color:#8DC572;border-left-style:solid;border-left-width:6px}.__react_component_tooltip.type-success.place-right:after{border-right-color:#8DC572;border-right-style:solid;border-right-width:6px}.__react_component_tooltip.type-success.border{border:1px solid #fff}.__react_component_tooltip.type-success.border.place-top:before{border-top:8px solid #fff}.__react_component_tooltip.type-success.border.place-bottom:before{border-bottom:8px solid #fff}.__react_component_tooltip.type-success.border.place-left:before{border-left:8px solid #fff}.__react_component_tooltip.type-success.border.place-right:before{border-right:8px solid #fff}.__react_component_tooltip.type-warning{color:#fff;background-color:#F0AD4E}.__react_component_tooltip.type-warning.place-top:after{border-top-color:#F0AD4E;border-top-style:solid;border-top-width:6px}.__react_component_tooltip.type-warning.place-bottom:after{border-bottom-color:#F0AD4E;border-bottom-style:solid;border-bottom-width:6px}.__react_component_tooltip.type-warning.place-left:after{border-left-color:#F0AD4E;border-left-style:solid;border-left-width:6px}.__react_component_tooltip.type-warning.place-right:after{border-right-color:#F0AD4E;border-right-style:solid;border-right-width:6px}.__react_component_tooltip.type-warning.border{border:1px solid #fff}.__react_component_tooltip.type-warning.border.place-top:before{border-top:8px solid #fff}.__react_component_tooltip.type-warning.border.place-bottom:before{border-bottom:8px solid #fff}.__react_component_tooltip.type-warning.border.place-left:before{border-left:8px solid #fff}.__react_component_tooltip.type-warning.border.place-right:before{border-right:8px solid #fff}.__react_component_tooltip.type-error{color:#fff;background-color:#BE6464}.__react_component_tooltip.type-error.place-top:after{border-top-color:#BE6464;border-top-style:solid;border-top-width:6px}.__react_component_tooltip.type-error.place-bottom:after{border-bottom-color:#BE6464;border-bottom-style:solid;border-bottom-width:6px}.__react_component_tooltip.type-error.place-left:after{border-left-color:#BE6464;border-left-style:solid;border-left-width:6px}.__react_component_tooltip.type-error.place-right:after{border-right-color:#BE6464;border-right-style:solid;border-right-width:6px}.__react_component_tooltip.type-error.border{border:1px solid #fff}.__react_component_tooltip.type-error.border.place-top:before{border-top:8px solid #fff}.__react_component_tooltip.type-error.border.place-bottom:before{border-bottom:8px solid #fff}.__react_component_tooltip.type-error.border.place-left:before{border-left:8px solid #fff}.__react_component_tooltip.type-error.border.place-right:before{border-right:8px solid #fff}.__react_component_tooltip.type-info{color:#fff;background-color:#337AB7}.__react_component_tooltip.type-info.place-top:after{border-top-color:#337AB7;border-top-style:solid;border-top-width:6px}.__react_component_tooltip.type-info.place-bottom:after{border-bottom-color:#337AB7;border-bottom-style:solid;border-bottom-width:6px}.__react_component_tooltip.type-info.place-left:after{border-left-color:#337AB7;border-left-style:solid;border-left-width:6px}.__react_component_tooltip.type-info.place-right:after{border-right-color:#337AB7;border-right-style:solid;border-right-width:6px}.__react_component_tooltip.type-info.border{border:1px solid #fff}.__react_component_tooltip.type-info.border.place-top:before{border-top:8px solid #fff}.__react_component_tooltip.type-info.border.place-bottom:before{border-bottom:8px solid #fff}.__react_component_tooltip.type-info.border.place-left:before{border-left:8px solid #fff}.__react_component_tooltip.type-info.border.place-right:before{border-right:8px solid #fff}.__react_component_tooltip.type-light{color:#222;background-color:#fff}.__react_component_tooltip.type-light.place-top:after{border-top-color:#fff;border-top-style:solid;border-top-width:6px}.__react_component_tooltip.type-light.place-bottom:after{border-bottom-color:#fff;border-bottom-style:solid;border-bottom-width:6px}.__react_component_tooltip.type-light.place-left:after{border-left-color:#fff;border-left-style:solid;border-left-width:6px}.__react_component_tooltip.type-light.place-right:after{border-right-color:#fff;border-right-style:solid;border-right-width:6px}.__react_component_tooltip.type-light.border{border:1px solid #222}.__react_component_tooltip.type-light.border.place-top:before{border-top:8px solid #222}.__react_component_tooltip.type-light.border.place-bottom:before{border-bottom:8px solid #222}.__react_component_tooltip.type-light.border.place-left:before{border-left:8px solid #222}.__react_component_tooltip.type-light.border.place-right:before{border-right:8px solid #222}.__react_component_tooltip.place-top{margin-top:-10px}.__react_component_tooltip.place-top:before{border-left:10px solid transparent;border-right:10px solid transparent;bottom:-8px;left:50%;margin-left:-10px}.__react_component_tooltip.place-top:after{border-left:8px solid transparent;border-right:8px solid transparent;bottom:-6px;left:50%;margin-left:-8px}.__react_component_tooltip.place-bottom{margin-top:10px}.__react_component_tooltip.place-bottom:before{border-left:10px solid transparent;border-right:10px solid transparent;top:-8px;left:50%;margin-left:-10px}.__react_component_tooltip.place-bottom:after{border-left:8px solid transparent;border-right:8px solid transparent;top:-6px;left:50%;margin-left:-8px}.__react_component_tooltip.place-left{margin-left:-10px}.__react_component_tooltip.place-left:before{border-top:6px solid transparent;border-bottom:6px solid transparent;right:-8px;top:50%;margin-top:-5px}.__react_component_tooltip.place-left:after{border-top:5px solid transparent;border-bottom:5px solid transparent;right:-6px;top:50%;margin-top:-4px}.__react_component_tooltip.place-right{margin-left:10px}.__react_component_tooltip.place-right:before{border-top:6px solid transparent;border-bottom:6px solid transparent;left:-8px;top:50%;margin-top:-5px}.__react_component_tooltip.place-right:after{border-top:5px solid transparent;border-bottom:5px solid transparent;left:-6px;top:50%;margin-top:-4px}.__react_component_tooltip .multi-line{display:block;padding:2px 0px;text-align:center}'},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.length;return e.hasOwnProperty?Array.prototype.slice.call(e):new Array(t).fill().map(function(t){return e[t]})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseAria=function(e){var t={};return Object.keys(e).filter(function(e){return/(^aria-\w+$|^role$)/.test(e)}).forEach(function(n){t[n]=e[n]}),t}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n,i){if(t)return t;if(void 0!==n&&null!==n)return n;if(null===n)return null;var r=/<br\s*\/?>/;return i&&"false"!==i&&r.test(e)?e.split(r).map(function(e,t){return o.default.createElement("span",{key:t,className:"multi-line"},e)}):e};var i,r=n(0),o=(i=r)&&i.__esModule?i:{default:i}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n,s,l,u){var c,d,h,f=n.clientWidth,p=n.clientHeight,m=i(e,t,l),g=m.mouseX,v=m.mouseY,y=r(l,t.clientWidth,t.clientHeight,f,p),_=o(u),b=_.extraOffset_X,w=_.extraOffset_Y,C=window.innerWidth,x=window.innerHeight,S=a(n),k=S.parentTop,E=S.parentLeft,M=function(e){var t=y[e].l;return g+t+b},O=function(e){var t=y[e].r;return g+t+b},T=function(e){var t=y[e].t;return v+t+w},I=function(e){var t=y[e].b;return v+t+w},P=function(){var e=!1,t=void 0;return T("left")<0&&I("left")<=x&&I("bottom")<=x?(e=!0,t="bottom"):I("left")>x&&T("left")>=0&&T("top")>=0&&(e=!0,t="top"),{result:e,newPlace:t}},L=function(){var e=!1,t=void 0;return M("top")<0&&O("top")<=C&&O("right")<=C?(e=!0,t="right"):O("top")>C&&M("top")>=0&&M("left")>=0&&(e=!0,t="left"),{result:e,newPlace:t}},A=(c=P(),d=c.result,h=c.newPlace,d&&L().result?{result:!1}:(!d&&M("left")<0&&O("right")<=C&&(d=!0,h="right"),{result:d,newPlace:h})),R=function(){var e=P(),t=e.result,n=e.newPlace;return t&&L().result?{result:!1}:(!t&&O("right")>C&&M("left")>=0&&(t=!0,n="left"),{result:t,newPlace:n})}(),B=function(){var e=L(),t=e.result,n=e.newPlace;return t&&P().result?{result:!1}:(!t&&T("top")<0&&I("bottom")<=x&&(t=!0,n="bottom"),{result:t,newPlace:n})}(),D=function(){var e=L(),t=e.result,n=e.newPlace;return t&&P().result?{result:!1}:(!t&&I("bottom")>x&&T("top")>=0&&(t=!0,n="top"),{result:t,newPlace:n})}();return"left"===s&&A.result?{isNewState:!0,newState:{place:A.newPlace}}:"right"===s&&R.result?{isNewState:!0,newState:{place:R.newPlace}}:"top"===s&&B.result?{isNewState:!0,newState:{place:B.newPlace}}:"bottom"===s&&D.result?{isNewState:!0,newState:{place:D.newPlace}}:{isNewState:!1,position:{left:parseInt(M(s)-E,10),top:parseInt(T(s)-k,10)}}};var i=function(e,t,n){var i=t.getBoundingClientRect(),r=i.top,o=i.left,a=t.clientWidth,s=t.clientHeight;return"float"===n?{mouseX:e.clientX,mouseY:e.clientY}:{mouseX:o+a/2,mouseY:r+s/2}},r=function(e,t,n,i,r){var o=void 0,a=void 0,s=void 0,l=void 0;return"float"===e?(o={l:-i/2,r:i/2,t:-(r+3+2),b:-3},s={l:-i/2,r:i/2,t:15,b:r+3+2+12},l={l:-(i+3+2),r:-3,t:-r/2,b:r/2},a={l:3,r:i+3+2,t:-r/2,b:r/2}):"solid"===e&&(o={l:-i/2,r:i/2,t:-(n/2+r+2),b:-n/2},s={l:-i/2,r:i/2,t:n/2,b:n/2+r+2},l={l:-(i+t/2+2),r:-t/2,t:-r/2,b:r/2},a={l:t/2,r:i+t/2+2,t:-r/2,b:r/2}),{top:o,bottom:s,left:l,right:a}},o=function(e){var t=0,n=0;for(var i in"[object String]"===Object.prototype.toString.apply(e)&&(e=JSON.parse(e.toString().replace(/\'/g,'"'))),e)"top"===i?n-=parseInt(e[i],10):"bottom"===i?n+=parseInt(e[i],10):"left"===i?t-=parseInt(e[i],10):"right"===i&&(t+=parseInt(e[i],10));return{extraOffset_X:t,extraOffset_Y:n}},a=function(e){for(var t=e;t&&"none"===window.getComputedStyle(t).getPropertyValue("transform");)t=t.parentElement;return{parentTop:t&&t.getBoundingClientRect().top||0,parentLeft:t&&t.getBoundingClientRect().left||0}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){e.prototype.bindRemovalTracker=function(){var e=this,t=i();if(null!=t){var n=new t(function(t){var n=!0,i=!1,r=void 0;try{for(var o,a=t[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var s=o.value,l=!0,u=!1,c=void 0;try{for(var d,h=s.removedNodes[Symbol.iterator]();!(l=(d=h.next()).done);l=!0){if(d.value===e.state.currentTarget)return void e.hideTooltip()}}catch(e){u=!0,c=e}finally{try{!l&&h.return&&h.return()}finally{if(u)throw c}}}}catch(e){i=!0,r=e}finally{try{!n&&a.return&&a.return()}finally{if(i)throw r}}});n.observe(window.document,{childList:!0,subtree:!0}),this.removalTracker=n}},e.prototype.unbindRemovalTracker=function(){this.removalTracker&&(this.removalTracker.disconnect(),this.removalTracker=null)}};var i=function(){return window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){e.prototype.getEffect=function(e){return e.getAttribute("data-effect")||this.props.effect||"float"}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){e.prototype.isCapture=function(e){var t=e.getAttribute("data-iscapture");return t&&"true"===t||this.props.isCapture||!1}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){e.prototype.isCustomEvent=function(e){return this.state.event||!!e.getAttribute("data-event")},e.prototype.customBindListener=function(e){var t=this,n=this.state,r=n.event,a=n.eventOff,s=e.getAttribute("data-event")||r,l=e.getAttribute("data-event-off")||a;s.split(" ").forEach(function(n){e.removeEventListener(n,o),o=i.bind(t,l),e.addEventListener(n,o,!1)}),l&&l.split(" ").forEach(function(n){e.removeEventListener(n,t.hideTooltip),e.addEventListener(n,t.hideTooltip,!1)})},e.prototype.customUnbindListener=function(e){var t=this.state,n=t.event,i=t.eventOff,r=n||e.getAttribute("data-event"),a=i||e.getAttribute("data-event-off");e.removeEventListener(r,o),a&&e.removeEventListener(a,this.hideTooltip)}};var i=function(e,t){var n=this.state.show,i=this.props.id,o=t.currentTarget.getAttribute("data-iscapture"),a=o&&"true"===o||this.props.isCapture,s=t.currentTarget.getAttribute("currentItem");a||t.stopPropagation(),n&&"true"===s?e||this.hideTooltip(t):(t.currentTarget.setAttribute("currentItem","true"),r(t.currentTarget,this.getTargetArray(i)),this.showTooltip(t))},r=function(e,t){for(var n=0;n<t.length;n++)e!==t[n]?t[n].setAttribute("currentItem","false"):t[n].setAttribute("currentItem","true")},o=void 0},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){e.prototype.bindWindowEvents=function(e){window.removeEventListener(o.default.GLOBAL.HIDE,this.globalHide),window.addEventListener(o.default.GLOBAL.HIDE,this.globalHide,!1),window.removeEventListener(o.default.GLOBAL.REBUILD,this.globalRebuild),window.addEventListener(o.default.GLOBAL.REBUILD,this.globalRebuild,!1),window.removeEventListener(o.default.GLOBAL.SHOW,this.globalShow),window.addEventListener(o.default.GLOBAL.SHOW,this.globalShow,!1),e&&(window.removeEventListener("resize",this.onWindowResize),window.addEventListener("resize",this.onWindowResize,!1))},e.prototype.unbindWindowEvents=function(){window.removeEventListener(o.default.GLOBAL.HIDE,this.globalHide),window.removeEventListener(o.default.GLOBAL.REBUILD,this.globalRebuild),window.removeEventListener(o.default.GLOBAL.SHOW,this.globalShow),window.removeEventListener("resize",this.onWindowResize)},e.prototype.onWindowResize=function(){this.mount&&this.hideTooltip()}};var i,r=n(74),o=(i=r)&&i.__esModule?i:{default:i}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){e.hide=function(e){a(o.default.GLOBAL.HIDE,{target:e})},e.rebuild=function(){a(o.default.GLOBAL.REBUILD)},e.show=function(e){a(o.default.GLOBAL.SHOW,{target:e})},e.prototype.globalRebuild=function(){this.mount&&(this.unbindListener(),this.bindListener())},e.prototype.globalShow=function(e){if(this.mount){var t={currentTarget:e.detail.target};this.showTooltip(t,!0)}},e.prototype.globalHide=function(e){if(this.mount){var t=!!(e&&e.detail&&e.detail.target);this.hideTooltip({currentTarget:t&&e.detail.target},t)}}};var i,r=n(74),o=(i=r)&&i.__esModule?i:{default:i};var a=function(e,t){var n=void 0;"function"==typeof window.CustomEvent?n=new window.CustomEvent(e,{detail:t}):((n=document.createEvent("Event")).initEvent(e,!1,!0),n.detail=t),window.dispatchEvent(n)}},function(e,t,n){"use strict";var i,r,o,a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},s=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),l=n(0),u=S(l),c=S(n(1)),d=S(n(75)),h=S(n(13)),f=S(n(230)),p=S(n(229)),m=S(n(228)),g=S(n(227)),v=S(n(226)),y=S(n(225)),_=S(n(224)),b=S(n(223)),w=n(222),C=S(n(221)),x=S(n(220));function S(e){return e&&e.__esModule?e:{default:e}}var k=(0,f.default)(i=(0,p.default)(i=(0,m.default)(i=(0,g.default)(i=(0,v.default)(i=(0,y.default)((o=r=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={place:"top",type:"dark",effect:"float",show:!1,border:!1,placeholder:"",offset:{},extraClass:"",html:!1,delayHide:0,delayShow:0,event:e.event||null,eventOff:e.eventOff||null,currentEvent:null,currentTarget:null,ariaProps:(0,w.parseAria)(e),isEmptyTip:!1,disable:!1},n.bind(["showTooltip","updateTooltip","hideTooltip","globalRebuild","globalShow","globalHide","onWindowResize"]),n.mount=!0,n.delayShowLoop=null,n.delayHideLoop=null,n.intervalUpdateContent=null,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,l.Component),s(t,[{key:"bind",value:function(e){var t=this;e.forEach(function(e){t[e]=t[e].bind(t)})}},{key:"componentDidMount",value:function(){var e=this.props,t=e.insecure,n=e.resizeHide;t&&this.setStyleHeader(),this.bindListener(),this.bindWindowEvents(n)}},{key:"componentWillReceiveProps",value:function(e){var t=this.state.ariaProps,n=(0,w.parseAria)(e);Object.keys(n).some(function(e){return n[e]!==t[e]})&&this.setState({ariaProps:n})}},{key:"componentWillUnmount",value:function(){this.mount=!1,this.clearTimer(),this.unbindListener(),this.removeScrollListener(),this.unbindWindowEvents()}},{key:"getTargetArray",value:function(e){var t=void 0;if(e){var n=e.replace(/\\/g,"\\\\").replace(/"/g,'\\"');t=document.querySelectorAll('[data-tip][data-for="'+n+'"]')}else t=document.querySelectorAll("[data-tip]:not([data-for])");return(0,C.default)(t)}},{key:"bindListener",value:function(){var e=this,t=this.props,n=t.id,i=t.globalEventOff;this.getTargetArray(n).forEach(function(t){var n=e.isCapture(t),i=e.getEffect(t);null===t.getAttribute("currentItem")&&t.setAttribute("currentItem","false"),e.unbindBasicListener(t),e.isCustomEvent(t)?e.customBindListener(t):(t.addEventListener("mouseenter",e.showTooltip,n),"float"===i&&t.addEventListener("mousemove",e.updateTooltip,n),t.addEventListener("mouseleave",e.hideTooltip,n))}),i&&(window.removeEventListener(i,this.hideTooltip),window.addEventListener(i,this.hideTooltip,!1)),this.bindRemovalTracker()}},{key:"unbindListener",value:function(){var e=this,t=this.props,n=t.id,i=t.globalEventOff;this.getTargetArray(n).forEach(function(t){e.unbindBasicListener(t),e.isCustomEvent(t)&&e.customUnbindListener(t)}),i&&window.removeEventListener(i,this.hideTooltip),this.unbindRemovalTracker()}},{key:"unbindBasicListener",value:function(e){var t=this.isCapture(e);e.removeEventListener("mouseenter",this.showTooltip,t),e.removeEventListener("mousemove",this.updateTooltip,t),e.removeEventListener("mouseleave",this.hideTooltip,t)}},{key:"showTooltip",value:function(e,t){var n=this;if(t&&(!this.getTargetArray(this.props.id).some(function(t){return t===e.currentTarget})||this.state.show))return;var i=this.props,r=i.children,o=i.multiline,a=i.getContent,s=e.currentTarget.getAttribute("data-tip"),l=e.currentTarget.getAttribute("data-multiline")||o||!1,u=void 0;a&&(u=Array.isArray(a)?a[0]&&a[0]():a());var c=(0,b.default)(s,r,u,l),d="string"==typeof c&&""===c||null===c,h=e instanceof window.FocusEvent||t,f=!0;e.currentTarget.getAttribute("data-scroll-hide")?f="true"===e.currentTarget.getAttribute("data-scroll-hide"):null!=this.props.scrollHide&&(f=this.props.scrollHide),this.clearTimer(),this.setState({placeholder:c,isEmptyTip:d,place:e.currentTarget.getAttribute("data-place")||this.props.place||"top",type:e.currentTarget.getAttribute("data-type")||this.props.type||"dark",effect:h?"solid":this.getEffect(e.currentTarget),offset:e.currentTarget.getAttribute("data-offset")||this.props.offset||{},html:e.currentTarget.getAttribute("data-html")?"true"===e.currentTarget.getAttribute("data-html"):this.props.html||!1,delayShow:e.currentTarget.getAttribute("data-delay-show")||this.props.delayShow||0,delayHide:e.currentTarget.getAttribute("data-delay-hide")||this.props.delayHide||0,border:e.currentTarget.getAttribute("data-border")?"true"===e.currentTarget.getAttribute("data-border"):this.props.border||!1,extraClass:e.currentTarget.getAttribute("data-class")||this.props.class||this.props.className||"",disable:e.currentTarget.getAttribute("data-tip-disable")?"true"===e.currentTarget.getAttribute("data-tip-disable"):this.props.disable||!1},function(){f&&n.addScrollListener(e),n.updateTooltip(e),a&&Array.isArray(a)&&(n.intervalUpdateContent=setInterval(function(){if(n.mount){var e=n.props.getContent,t=(0,b.default)(s,e[0](),l),i="string"==typeof t&&""===t;n.setState({placeholder:t,isEmptyTip:i})}},a[1]))})}},{key:"updateTooltip",value:function(e){var t=this,n=this.state,i=n.delayShow,r=n.show,o=n.isEmptyTip,a=n.disable,s=this.props.afterShow,l=this.state.placeholder,u=r?0:parseInt(i,10),c=e.currentTarget;if(!o&&!a){var d=function(){if(Array.isArray(l)&&l.length>0||l){var n=!t.state.show;t.setState({currentEvent:e,currentTarget:c,show:!0},function(){t.updatePosition(),n&&s&&s()})}};clearTimeout(this.delayShowLoop),i?this.delayShowLoop=setTimeout(d,u):d()}}},{key:"hideTooltip",value:function(e,t){var n=this,i=this.state,r=i.delayHide,o=i.isEmptyTip,a=i.disable,s=this.props.afterHide;if(this.mount&&!o&&!a){if(t)if(!this.getTargetArray(this.props.id).some(function(t){return t===e.currentTarget})||!this.state.show)return;var l=function(){var e=n.state.show;n.setState({show:!1},function(){n.removeScrollListener(),e&&s&&s()})};this.clearTimer(),r?this.delayHideLoop=setTimeout(l,parseInt(r,10)):l()}}},{key:"addScrollListener",value:function(e){var t=this.isCapture(e.currentTarget);window.addEventListener("scroll",this.hideTooltip,t)}},{key:"removeScrollListener",value:function(){window.removeEventListener("scroll",this.hideTooltip)}},{key:"updatePosition",value:function(){var e=this,t=this.state,n=t.currentEvent,i=t.currentTarget,r=t.place,o=t.effect,a=t.offset,s=d.default.findDOMNode(this),l=(0,_.default)(n,i,s,r,o,a);if(l.isNewState)return this.setState(l.newState,function(){e.updatePosition()});s.style.left=l.position.left+"px",s.style.top=l.position.top+"px"}},{key:"setStyleHeader",value:function(){if(!document.getElementsByTagName("head")[0].querySelector('style[id="react-tooltip"]')){var e=document.createElement("style");e.id="react-tooltip",e.innerHTML=x.default,document.getElementsByTagName("head")[0].appendChild(e)}}},{key:"clearTimer",value:function(){clearTimeout(this.delayShowLoop),clearTimeout(this.delayHideLoop),clearInterval(this.intervalUpdateContent)}},{key:"render",value:function(){var e=this.state,n=e.placeholder,i=e.extraClass,r=e.html,o=e.ariaProps,s=e.disable,l=e.isEmptyTip,c=(0,h.default)("__react_component_tooltip",{show:this.state.show&&!s&&!l},{border:this.state.border},{"place-top":"top"===this.state.place},{"place-bottom":"bottom"===this.state.place},{"place-left":"left"===this.state.place},{"place-right":"right"===this.state.place},{"type-dark":"dark"===this.state.type},{"type-success":"success"===this.state.type},{"type-warning":"warning"===this.state.type},{"type-error":"error"===this.state.type},{"type-info":"info"===this.state.type},{"type-light":"light"===this.state.type}),d=this.props.wrapper;return t.supportedWrappers.indexOf(d)<0&&(d=t.defaultProps.wrapper),r?u.default.createElement(d,a({className:c+" "+i},o,{"data-id":"tooltip",dangerouslySetInnerHTML:{__html:n}})):u.default.createElement(d,a({className:c+" "+i},o,{"data-id":"tooltip"}),n)}}]),t}(),r.propTypes={children:c.default.any,place:c.default.string,type:c.default.string,effect:c.default.string,offset:c.default.object,multiline:c.default.bool,border:c.default.bool,insecure:c.default.bool,class:c.default.string,className:c.default.string,id:c.default.string,html:c.default.bool,delayHide:c.default.number,delayShow:c.default.number,event:c.default.string,eventOff:c.default.string,watchWindow:c.default.bool,isCapture:c.default.bool,globalEventOff:c.default.string,getContent:c.default.any,afterShow:c.default.func,afterHide:c.default.func,disable:c.default.bool,scrollHide:c.default.bool,resizeHide:c.default.bool,wrapper:c.default.string},r.defaultProps={insecure:!0,resizeHide:!0,wrapper:"div"},r.supportedWrappers=["div","span"],i=o))||i)||i)||i)||i)||i)||i;e.exports=k},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=s(n(0)),r=n(18),o=s(n(10)),a=s(n(215));function s(e){return e&&e.__esModule?e:{default:e}}t.default=function(){return i.default.createElement(r.ComingSoonTooltip,{place:"right",tooltipId:"bit-line-mode"},i.default.createElement(o.default,{disabled:!0,imgDescriptor:{defaultMessage:"Line",description:"Label for the line tool, which draws straight line segments",id:"paint.lineMode.line"},imgSrc:a.default,isSelected:!1,onMouseDown:function(){}}))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=n(2),a=(i=o)&&i.__esModule?i:{default:i},s=n(20),l=n(54);var u=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return n.onUpdateSvg=e,n.onMouseMove=n.handleMouseMove,n.onMouseDown=n.handleMouseDown,n.onMouseDrag=n.handleMouseDrag,n.onMouseUp=n.handleMouseUp,n.colorState=null,n.active=!1,n.lastPoint=null,n.cursorPreview=null,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default.Tool),r(t,[{key:"setColor",value:function(e){this.color=e}},{key:"setBrushSize",value:function(e){this.size=Math.max(1,~~e)}},{key:"draw",value:function(e,t){var n=Math.ceil(this.size/2);(0,s.getRaster)().drawImage(this.tmpCanvas,new a.default.Point(~~e-n,~~t-n))}},{key:"updateCursorIfNeeded",value:function(){if(this.size){if(this.cursorPreview&&!this.cursorPreview.parent&&(this.cursorPreview=null),!this.cursorPreview||this.lastSize!==this.size||this.lastColor!==this.color){this.cursorPreview&&this.cursorPreview.remove(),this.tmpCanvas=document.createElement("canvas");var e=Math.ceil(this.size/2);this.tmpCanvas.width=2*e,this.tmpCanvas.height=2*e;var t=this.tmpCanvas.getContext("2d");if(t.imageSmoothingEnabled=!1,t.fillStyle=this.color,this.size<=5)this.size%2?t.fillRect(1,1,this.size,this.size):t.fillRect(0,0,this.size,this.size);else{var n=~~(this.size/2);(0,l.fillEllipse)(n,n,n,n,t)}this.cursorPreview=new a.default.Raster(this.tmpCanvas),this.cursorPreview.guide=!0,this.cursorPreview.parent=(0,s.getGuideLayer)(),this.cursorPreview.data.isHelperItem=!0}this.lastSize=this.size,this.lastColor=this.color}}},{key:"handleMouseMove",value:function(e){this.updateCursorIfNeeded(),this.cursorPreview.position=new a.default.Point(~~e.point.x,~~e.point.y)}},{key:"handleMouseDown",value:function(e){e.event.button>0||(this.active=!0,this.cursorPreview.remove(),this.draw(e.point.x,e.point.y),this.lastPoint=e.point)}},{key:"handleMouseDrag",value:function(e){e.event.button>0||!this.active||(this.isBoundingBoxMode?this.boundingBoxTool.onMouseDrag(e):((0,l.forEachLinePoint)(this.lastPoint,e.point,this.draw.bind(this)),this.lastPoint=e.point))}},{key:"handleMouseUp",value:function(e){e.event.button>0||!this.active||((0,l.forEachLinePoint)(this.lastPoint,e.point,this.draw.bind(this)),this.onUpdateSvg(),this.lastPoint=null,this.active=!1,this.updateCursorIfNeeded(),this.cursorPreview.position=new a.default.Point(~~e.point.x,~~e.point.y))}},{key:"deactivateTool",value:function(){this.active=!1,this.tmpCanvas=null,this.cursorPreview&&(this.cursorPreview.remove(),this.cursorPreview=null)}}]),t}();t.default=u},function(e,t,n){(t=e.exports=n(12)(!1)).push([e.i,"/* DO NOT EDIT\n@todo This file is copied from GUI and should be pulled out into a shared library.\nSee https://github.com/LLK/scratch-paint/issues/13 */\n\n/* DO NOT EDIT\n@todo This file is copied from GUI and should be pulled out into a shared library.\nSee https://github.com/LLK/scratch-paint/issues/13 */\n\n/* ACTUALLY, THIS IS EDITED ;)\nTHIS WAS CHANGED ON 10/25/2017 BY @mewtaylor TO ADD A VARIABLE FOR THE SMALLEST\nGRID UNITS.\n\nALSO EDITED ON 11/13/2017 TO ADD IN CONTANTS FOR LAYOUT FROM `layout-contents.js`*/\n\n/* layout contants from `layout-constants.js`, minus 1px */\n\n.tool-select-base_mod-tool-select_1RQKn {\n    display: inline-block;\n    margin: .25rem;\n    border: none;\n    border-radius: .25rem;\n    outline: none;\n    background: none;\n    padding: .25rem;\n    font-size: 0.85rem;\n    -webkit-transition: 0.2s;\n    -o-transition: 0.2s;\n    transition: 0.2s;\n}\n\n.tool-select-base_mod-tool-select_1RQKn.tool-select-base_is-selected_3Le38 {\n    background-color: hsla(215, 100%, 65%, 0.20);\n}\n\n.tool-select-base_mod-tool-select_1RQKn:focus {\n    outline: none;\n}\n\nimg.tool-select-base_tool-select-icon_2TT3t {\n    width: 2rem;\n    height: 2rem;\n    -webkit-box-flex: 1;\n    -webkit-flex-grow: 1;\n        -ms-flex-positive: 1;\n            flex-grow: 1;\n    vertical-align: middle;\n}\n\n@media only screen and (max-width: 1249px) {\n    .tool-select-base_mod-tool-select_1RQKn {\n        margin: 0;\n    }\n}\n",""]),t.locals={"mod-tool-select":"tool-select-base_mod-tool-select_1RQKn",modToolSelect:"tool-select-base_mod-tool-select_1RQKn","is-selected":"tool-select-base_is-selected_3Le38",isSelected:"tool-select-base_is-selected_3Le38","tool-select-icon":"tool-select-base_tool-select-icon_2TT3t",toolSelectIcon:"tool-select-base_tool-select-icon_2TT3t"}},function(e,t,n){var i=n(234);"string"==typeof i&&(i=[[e.i,i,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};n(11)(i,r);i.locals&&(e.exports=i.locals)},function(e,t,n){(t=e.exports=n(12)(!1)).push([e.i,"/* DO NOT EDIT\n@todo This file is copied from GUI and should be pulled out into a shared library.\nSee https://github.com/LLK/scratch-paint/issues/13 */\n\n.button_button_lmpwR {\n    background: none;\n    cursor: pointer;\n    -webkit-user-select: none;\n       -moz-user-select: none;\n        -ms-user-select: none;\n            user-select: none;\n}\n\n.button_button_lmpwR:active {\n    background-color: hsla(215, 100%, 65%, 0.20); \n}\n\n.button_mod-disabled_CFsZ2 {\n    cursor: auto;\n    opacity: .5;\n}\n\n.button_mod-disabled_CFsZ2:active {\n    background: none;\n}\n",""]),t.locals={button:"button_button_lmpwR","mod-disabled":"button_mod-disabled_CFsZ2",modDisabled:"button_mod-disabled_CFsZ2"}},function(e,t,n){var i=n(236);"string"==typeof i&&(i=[[e.i,i,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};n(11)(i,r);i.locals&&(e.exports=i.locals)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=s(n(0)),r=s(n(1)),o=s(n(10)),a=s(n(76));function s(e){return e&&e.__esModule?e:{default:e}}var l=function(e){return i.default.createElement(o.default,{imgDescriptor:{defaultMessage:"Brush",description:"Label for the brush tool",id:"paint.brushMode.brush"},imgSrc:a.default,isSelected:e.isSelected,onMouseDown:e.onMouseDown})};l.propTypes={isSelected:r.default.bool.isRequired,onMouseDown:r.default.func.isRequired},t.default=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=g(n(1)),o=g(n(0)),a=n(8),s=g(n(5)),l=g(n(4)),u=n(6),c=n(17),d=n(14),h=n(9),f=n(3),p=g(n(238)),m=g(n(233));function g(e){return e&&e.__esModule?e:{default:e}}var v=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return(0,s.default)(n,["activateTool","deactivateTool"]),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.default.Component),i(t,[{key:"componentDidMount",value:function(){this.props.isBitBrushModeActive&&this.activateTool(this.props)}},{key:"componentWillReceiveProps",value:function(e){this.tool&&e.color!==this.props.color&&this.tool.setColor(e.color),this.tool&&e.bitBrushSize!==this.props.bitBrushSize&&this.tool.setBrushSize(e.bitBrushSize),e.isBitBrushModeActive&&!this.props.isBitBrushModeActive?this.activateTool():!e.isBitBrushModeActive&&this.props.isBitBrushModeActive&&this.deactivateTool()}},{key:"shouldComponentUpdate",value:function(e){return e.isBitBrushModeActive!==this.props.isBitBrushModeActive}},{key:"activateTool",value:function(){(0,f.clearSelection)(this.props.clearSelectedItems);var e=this.props.color;e&&e!==u.MIXED||(this.props.onChangeFillColor(c.DEFAULT_COLOR),e=c.DEFAULT_COLOR),this.tool=new m.default(this.props.onUpdateSvg),this.tool.setColor(e),this.tool.setBrushSize(this.props.bitBrushSize),this.tool.activate()}},{key:"deactivateTool",value:function(){this.tool.deactivateTool(),this.tool.remove(),this.tool=null}},{key:"render",value:function(){return o.default.createElement(p.default,{isSelected:this.props.isBitBrushModeActive,onMouseDown:this.props.handleMouseDown})}}]),t}();v.propTypes={bitBrushSize:r.default.number.isRequired,clearSelectedItems:r.default.func.isRequired,color:r.default.string,handleMouseDown:r.default.func.isRequired,isBitBrushModeActive:r.default.bool.isRequired,onChangeFillColor:r.default.func.isRequired,onUpdateSvg:r.default.func.isRequired};t.default=(0,a.connect)(function(e){return{bitBrushSize:e.scratchPaint.bitBrushSize,color:e.scratchPaint.color.fillColor,isBitBrushModeActive:e.scratchPaint.mode===l.default.BIT_BRUSH}},function(e){return{clearSelectedItems:function(){e((0,h.clearSelectedItems)())},handleMouseDown:function(){e((0,d.changeMode)(l.default.BIT_BRUSH))},onChangeFillColor:function(t){e((0,c.changeFillColor)(t))}}})(v)},function(e,t){e.exports=function(e){var t="undefined"!=typeof window&&window.location;if(!t)throw new Error("fixUrls requires window.location");if(!e||"string"!=typeof e)return e;var n=t.protocol+"//"+t.host,i=n+t.pathname.replace(/\/[^\/]*$/,"/");return e.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,function(e,t){var r,o=t.trim().replace(/^"(.*)"$/,function(e,t){return t}).replace(/^'(.*)'$/,function(e,t){return t});return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/|\s*$)/i.test(o)?e:(r=0===o.indexOf("//")?o:0===o.indexOf("/")?n+o:i+o.replace(/^\.\//,""),"url("+JSON.stringify(r)+")")})}},function(e,t,n){(t=e.exports=n(12)(!1)).push([e.i,".paper-canvas_paper-canvas_2biXB {\n    width: 480px;\n    height: 360px;\n    margin: auto;  \n    position: absolute;\n    background-color: #fff;\n}\n",""]),t.locals={"paper-canvas":"paper-canvas_paper-canvas_2biXB",paperCanvas:"paper-canvas_paper-canvas_2biXB"}},function(e,t,n){var i=n(241);"string"==typeof i&&(i=[[e.i,i,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};n(11)(i,r);i.locals&&(e.exports=i.locals)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(e){return e&&"CompoundPath"===e.className};t.isCompoundPath=i,t.isCompoundPathChild=function(e){return!!e.parent&&"CompoundPath"===e.parent.className},t.getItemsCompoundPath=function(e){var t=e.parent;return i(t)?t:null}},function(e,t){e.exports=require("minilog")},function(e,t){e.exports=function(e){if(!e.webpackPolyfill){var t=Object.create(e);t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),Object.defineProperty(t,"exports",{enumerable:!0}),t.webpackPolyfill=1}return t}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=M(n(5)),o=M(n(1)),a=M(n(0)),s=n(8),l=M(n(2)),u=n(25),c=M(u),d=M(n(4)),h=M(n(7)),f=n(54),p=n(78),m=n(35),g=n(19),v=n(20),y=n(3),_=n(9),b=n(53),w=n(15),C=n(31),x=n(52),S=n(51),k=n(50),E=M(n(242));function M(e){return e&&e.__esModule?e:{default:e}}var O=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return(0,r.default)(n,["convertToBitmap","convertToVector","setCanvas","importSvg","handleKeyDown","handleWheel","switchCostume"]),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default.Component),i(t,[{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),l.default.setup(this.canvas),l.default.view.zoom=.5,(0,b.clampViewBounds)();var e=this.canvas.getContext("2d");e.webkitImageSmoothingEnabled=!1,e.imageSmoothingEnabled=!1,l.default.settings.handleSize=0,(0,v.setupLayers)(),this.props.svg?this.importSvg(this.props.svg,this.props.rotationCenterX,this.props.rotationCenterY):(0,p.performSnapshot)(this.props.undoSnapshot,this.props.format)}},{key:"componentWillReceiveProps",value:function(e){this.props.svgId!==e.svgId?this.switchCostume(e.svg,e.rotationCenterX,e.rotationCenterY):(0,u.isVector)(this.props.format)&&e.format===c.default.BITMAP?this.convertToBitmap():(0,u.isBitmap)(this.props.format)&&e.format===c.default.VECTOR&&this.convertToVector()}},{key:"componentWillUnmount",value:function(){l.default.remove(),document.removeEventListener("keydown",this.handleKeyDown)}},{key:"handleKeyDown",value:function(e){e.target instanceof HTMLInputElement||"Delete"!==e.key&&"Backspace"!==e.key||(0,y.deleteSelection)(this.props.mode,this.props.onUpdateSvg)&&this.props.setSelectedItems()}},{key:"convertToBitmap",value:function(){var e=this,t=l.default.project.view.zoom,n=l.default.project.view.center.clone();l.default.project.view.zoom=1;var i=(0,v.hideGuideLayers)(!0),r=l.default.project.activeLayer.bounds,o=l.default.project.exportSVG({bounds:"content",matrix:(new l.default.Matrix).translate(-r.x,-r.y)});(0,v.showGuideLayers)(i),o.setAttribute("shape-rendering","crispEdges");var a=(new XMLSerializer).serializeToString(o),s=new Image;s.onload=function(){var t=new l.default.Raster(s);t.onLoad=function(){var n=t.canvas;(0,v.getRaster)().drawImage(n,new l.default.Point(Math.floor(r.topLeft.x),Math.floor(r.topLeft.y))),l.default.project.activeLayer.removeChildren(),e.props.onUpdateSvg()}},s.src="data:image/svg+xml;charset=utf-8,"+a,l.default.project.view.zoom=t,l.default.project.view.center=n}},{key:"convertToVector",value:function(){this.props.clearSelectedItems();var e=(0,f.trim)((0,v.getRaster)());0===e.width||0===e.height?e.remove():l.default.project.activeLayer.addChild(e),(0,v.clearRaster)(),this.props.onUpdateSvg()}},{key:"switchCostume",value:function(e,t,n){var i=!0,r=!1,o=void 0;try{for(var a,s=l.default.project.layers[Symbol.iterator]();!(i=(a=s.next()).done);i=!0){var u=a.value;u.data.isRasterLayer?(0,v.clearRaster)():u.data.isBackgroundGuideLayer||u.removeChildren()}}catch(e){r=!0,o=e}finally{try{!i&&s.return&&s.return()}finally{if(r)throw o}}if(this.props.clearUndo(),this.props.clearSelectedItems(),this.props.clearHoveredItem(),this.props.clearPasteOffset(),e){this.props.changeFormat(c.default.VECTOR_SKIP_CONVERT);var d=l.default.project.view.zoom,h=l.default.project.view.center.clone();(0,b.resetZoom)(),this.props.updateViewBounds(l.default.view.matrix),this.importSvg(e,t,n),l.default.project.view.zoom=d,l.default.project.view.center=h}else(0,p.performSnapshot)(this.props.undoSnapshot,this.props.format)}},{key:"importSvg",value:function(e,t,n){var i=this,r=(e=(e=e.split(/<\s*svg:/).join("<")).split(/<\/\s*svg:/).join("</")).match(/<svg [^>]*>/);r&&-1===r[0].indexOf("xmlns=")&&(e=e.replace("<svg ",'<svg xmlns="http://www.w3.org/2000/svg" '));var o=(new DOMParser).parseFromString(e,"text/xml"),a=o.documentElement.attributes.viewBox?o.documentElement.attributes.viewBox.value.match(/\S+/g):null;if(a)for(var s=0;s<a.length;s++)a[s]=parseFloat(a[s]);l.default.project.importSVG(e,{expandShapes:!0,onLoad:function(r){if(!r)return h.default.error("SVG import failed:"),h.default.info(e),void(0,p.performSnapshot)(i.props.undoSnapshot,i.props.format);var o=r.bounds.width,s=r.bounds.height;if(r.clipped){var u=void 0,c=!0,d=!1,f=void 0;try{for(var m,v=r.children[Symbol.iterator]();!(c=(m=v.next()).done);c=!0){var y=m.value;if(y.isClipMask()){u=y;break}}}catch(e){d=!0,f=e}finally{try{!c&&v.return&&v.return()}finally{if(d)throw f}}r.clipped=!1,u.remove()}if(r.children&&1===r.children.length&&(r=r.reduce()),(0,w.ensureClockwise)(r),(0,w.scaleWithStrokes)(r,2,new l.default.Point),void 0!==t&&void 0!==n){var _=new l.default.Point(t,n);a&&a.length>=2&&!isNaN(a[0])&&!isNaN(a[1])&&(_=_.subtract(a[0],a[1])),r.translate(l.default.project.view.center.subtract(_.multiply(2)))}else r.translate(l.default.project.view.center.subtract(o/2,s/2));(0,g.isGroup)(r)&&(0,g.ungroupItems)([r]),(0,p.performSnapshot)(i.props.undoSnapshot,i.props.format)}})}},{key:"setCanvas",value:function(e){this.canvas=e,this.props.canvasRef&&this.props.canvasRef(e)}},{key:"handleWheel",value:function(e){if(e.metaKey||e.ctrlKey){var t=this.canvas.getBoundingClientRect(),n=e.clientX-t.left,i=e.clientY-t.top,r=l.default.project.view.viewToProject(new l.default.Point(n,i));(0,b.zoomOnFixedPoint)(-e.deltaY/100,r),this.props.updateViewBounds(l.default.view.matrix),this.props.setSelectedItems()}else if(e.shiftKey&&0===e.deltaX){var o=e.deltaY/l.default.project.view.zoom;(0,b.pan)(o,0),this.props.updateViewBounds(l.default.view.matrix)}else{var a=e.deltaX/l.default.project.view.zoom,s=e.deltaY/l.default.project.view.zoom;(0,b.pan)(a,s),this.props.updateViewBounds(l.default.view.matrix)}e.preventDefault()}},{key:"render",value:function(){return a.default.createElement("canvas",{className:E.default.paperCanvas,height:"360px",ref:this.setCanvas,width:"480px",onWheel:this.handleWheel})}}]),t}();O.propTypes={canvasRef:o.default.func,changeFormat:o.default.func.isRequired,clearHoveredItem:o.default.func.isRequired,clearPasteOffset:o.default.func.isRequired,clearSelectedItems:o.default.func.isRequired,clearUndo:o.default.func.isRequired,format:o.default.oneOf(Object.keys(c.default)).isRequired,mode:o.default.oneOf(Object.keys(d.default)),onUpdateSvg:o.default.func.isRequired,rotationCenterX:o.default.number,rotationCenterY:o.default.number,setSelectedItems:o.default.func.isRequired,svg:o.default.string,svgId:o.default.string,undoSnapshot:o.default.func.isRequired,updateViewBounds:o.default.func.isRequired};t.default=(0,s.connect)(function(e){return{mode:e.scratchPaint.mode,format:e.scratchPaint.format}},function(e){return{undoSnapshot:function(t){e((0,m.undoSnapshot)(t))},clearUndo:function(){e((0,m.clearUndoState)())},setSelectedItems:function(){e((0,_.setSelectedItems)((0,y.getSelectedLeafItems)()))},clearSelectedItems:function(){e((0,_.clearSelectedItems)())},clearHoveredItem:function(){e((0,C.clearHoveredItem)())},clearPasteOffset:function(){e((0,x.clearPasteOffset)())},changeFormat:function(t){e((0,k.changeFormat)(t))},updateViewBounds:function(t){e((0,S.updateViewBounds)(t))}}})(O)},function(e,t,n){var i;"undefined"!=typeof self&&self,e.exports=(i=n(0),function(e){function t(i){if(n[i])return n[i].exports;var r=n[i]={i:i,l:!1,exports:{}};return e[i].call(r.exports,r,r.exports,t),r.l=!0,r.exports}var n={};return t.m=e,t.c=n,t.d=function(e,n,i){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:i})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=7)}([function(e,t,n){var i="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103;e.exports=n(9)(function(e){return"object"==typeof e&&null!==e&&e.$$typeof===i},!0)},function(e,t,n){"use strict";function i(e){return function(){return e}}var r=function(){};r.thatReturns=i,r.thatReturnsFalse=i(!1),r.thatReturnsTrue=i(!0),r.thatReturnsNull=i(null),r.thatReturnsThis=function(){return this},r.thatReturnsArgument=function(e){return e},e.exports=r},function(e,t,n){"use strict";var i=function(e){};i=function(e){if(void 0===e)throw new Error("invariant requires an error message argument")},e.exports=function(e,t,n,r,o,a,s,l){if(i(t),!e){var u;if(void 0===t)u=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[n,r,o,a,s,l],d=0;(u=new Error(t.replace(/%s/g,function(){return c[d++]}))).name="Invariant Violation"}throw u.framesToPop=1,u}}},function(e,t,n){"use strict";var i=n(1),r=i;r=function(e,t){if(void 0===t)throw new Error("`warning(condition, format, ...args)` requires a warning message argument");if(0!==t.indexOf("Failed Composite propType: ")&&!e){for(var n=arguments.length,i=Array(n>2?n-2:0),r=2;r<n;r++)i[r-2]=arguments[r];(function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];var r=0,o="Warning: "+e.replace(/%s/g,function(){return n[r++]});"undefined"!=typeof console&&console.error(o);try{throw new Error(o)}catch(e){}}).apply(void 0,[t].concat(i))}},e.exports=r},function(e,t,n){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(e,t,n){"use strict";var i=/[A-Z]/g,r=/^ms-/,o={};e.exports=function(e){return e in o?o[e]:o[e]=e.replace(i,"-$&").toLowerCase().replace(r,"-ms-")}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},o=n(0),a=(i=o)&&i.__esModule?i:{default:i},s=a.default.oneOfType([a.default.string,a.default.number]),l={orientation:a.default.oneOf(["portrait","landscape"]),scan:a.default.oneOf(["progressive","interlace"]),aspectRatio:a.default.string,deviceAspectRatio:a.default.string,height:s,deviceHeight:s,width:s,deviceWidth:s,color:a.default.bool,colorIndex:a.default.bool,monochrome:a.default.bool,resolution:s},u=r({minAspectRatio:a.default.string,maxAspectRatio:a.default.string,minDeviceAspectRatio:a.default.string,maxDeviceAspectRatio:a.default.string,minHeight:s,maxHeight:s,minDeviceHeight:s,maxDeviceHeight:s,minWidth:s,maxWidth:s,minDeviceWidth:s,maxDeviceWidth:s,minColor:a.default.number,maxColor:a.default.number,minColorIndex:a.default.number,maxColorIndex:a.default.number,minMonochrome:a.default.number,maxMonochrome:a.default.number,minResolution:s,maxResolution:s},l),c={all:a.default.bool,grid:a.default.bool,aural:a.default.bool,braille:a.default.bool,handheld:a.default.bool,print:a.default.bool,projection:a.default.bool,screen:a.default.bool,tty:a.default.bool,tv:a.default.bool,embossed:a.default.bool},d=r({},c,u);l.type=Object.keys(c),t.default={all:d,types:c,matchers:l,features:u},e.exports=t.default},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){var n=s({},e);return t.forEach(function(e){return delete n[e]}),n}Object.defineProperty(t,"__esModule",{value:!0}),t.toQuery=t.default=void 0;var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},l=n(8),u=i(l),c=n(0),d=i(c),h=n(12),f=i(h),p=n(5),m=i(p),g=n(6),v=i(g),y=n(14),_=i(y),b={component:d.default.node,query:d.default.string,values:d.default.shape(v.default.matchers),children:d.default.oneOfType([d.default.node,d.default.func]),onChange:d.default.func,onBeforeChange:d.default.func},w=Object.keys(v.default.all),C=Object.keys(b),x=C.concat(w),S=function(e){function t(){var e,n,i;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,a=Array(o),s=0;s<o;s++)a[s]=arguments[s];return n=i=r(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(a))),i.state={matches:!1},i.updateMatches=function(){i._mql.matches!==i.state.matches&&i.setState({matches:i._mql.matches})},i.removeMql=function(){i._mql&&(i._mql.removeListener(i.updateMatches),i._mql.dispose())},r(i,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),a(t,[{key:"componentWillMount",value:function(){this.updateQuery(this.props)}},{key:"componentWillReceiveProps",value:function(e){this.updateQuery(e)}},{key:"updateQuery",value:function(e){var t=void 0;if(e.query?this.query=e.query:this.query=(0,_.default)(o(e,C)),!this.query)throw new Error("Invalid or missing MediaQuery!");e.values&&(t=Object.keys(e.values).reduce(function(t,n){return t[(0,m.default)(n)]=e.values[n],t},{})),this.removeMql(),this._mql=(0,f.default)(this.query,t),this._mql.addListener(this.updateMatches),this.updateMatches()}},{key:"componentWillUpdate",value:function(e,t){this.props.onBeforeChange&&this.state.matches!==t.matches&&this.props.onBeforeChange(this.state.matches)}},{key:"componentDidUpdate",value:function(e,t){this.props.onChange&&t.matches!==this.state.matches&&this.props.onChange(this.state.matches)}},{key:"componentWillUnmount",value:function(){this.removeMql()}},{key:"render",value:function(){if("function"==typeof this.props.children)return this.props.children(this.state.matches);if(!1===this.state.matches)return null;var e=o(this.props,x),t=Object.keys(e).length>0,n=u.default.Children.count(this.props.children);return this.props.component||null==this.props.children?u.default.createElement(this.props.component||"div",e,this.props.children):t?u.default.cloneElement(this.props.children,e):n?this.props.children:null}}]),t}(u.default.Component);S.displayName="MediaQuery",S.defaultProps={values:{}},t.default=S,t.toQuery=_.default},function(e,t){e.exports=i},function(e,t,n){"use strict";var i=n(1),r=n(2),o=n(3),a=n(10),s=n(4),l=n(11);e.exports=function(e,t){function n(e){this.message=e,this.stack=""}function u(e){function i(i,u,c,d,h,f,p){if(d=d||v,f=f||c,p!==s)if(t)r(!1,"Calling PropTypes validators directly is not supported by the `prop-types` package. Use `PropTypes.checkPropTypes()` to call them. Read more at http://fb.me/use-check-prop-types");else if("undefined"!=typeof console){var m=d+":"+c;!a[m]&&l<3&&(o(!1,"You are manually calling a React.PropTypes validation function for the `%s` prop on `%s`. This is deprecated and will throw in the standalone `prop-types` package. You may be seeing this warning due to a third-party PropTypes library. See https://fb.me/react-warning-dont-call-proptypes for details.",f,d),a[m]=!0,l++)}return null==u[c]?i?new n(null===u[c]?"The "+h+" `"+f+"` is marked as required in `"+d+"`, but its value is `null`.":"The "+h+" `"+f+"` is marked as required in `"+d+"`, but its value is `undefined`."):null:e(u,c,d,h,f)}var a={},l=0,u=i.bind(null,!1);return u.isRequired=i.bind(null,!0),u}function c(e){return u(function(t,i,r,o,a,s){var l=t[i];return h(l)!==e?new n("Invalid "+o+" `"+a+"` of type `"+f(l)+"` supplied to `"+r+"`, expected `"+e+"`."):null})}function d(t){switch(typeof t){case"number":case"string":case"undefined":return!0;case"boolean":return!t;case"object":if(Array.isArray(t))return t.every(d);if(null===t||e(t))return!0;var n=function(e){var t=e&&(m&&e[m]||e[g]);if("function"==typeof t)return t}(t);if(!n)return!1;var i,r=n.call(t);if(n!==t.entries){for(;!(i=r.next()).done;)if(!d(i.value))return!1}else for(;!(i=r.next()).done;){var o=i.value;if(o&&!d(o[1]))return!1}return!0;default:return!1}}function h(e){var t=typeof e;return Array.isArray(e)?"array":e instanceof RegExp?"object":function(e,t){return"symbol"===e||"Symbol"===t["@@toStringTag"]||"function"==typeof Symbol&&t instanceof Symbol}(t,e)?"symbol":t}function f(e){if(void 0===e||null===e)return""+e;var t=h(e);if("object"===t){if(e instanceof Date)return"date";if(e instanceof RegExp)return"regexp"}return t}function p(e){var t=f(e);switch(t){case"array":case"object":return"an "+t;case"boolean":case"date":case"regexp":return"a "+t;default:return t}}var m="function"==typeof Symbol&&Symbol.iterator,g="@@iterator",v="<<anonymous>>",y={array:c("array"),bool:c("boolean"),func:c("function"),number:c("number"),object:c("object"),string:c("string"),symbol:c("symbol"),any:u(i.thatReturnsNull),arrayOf:function(e){return u(function(t,i,r,o,a){if("function"!=typeof e)return new n("Property `"+a+"` of component `"+r+"` has invalid PropType notation inside arrayOf.");var l=t[i];if(!Array.isArray(l))return new n("Invalid "+o+" `"+a+"` of type `"+h(l)+"` supplied to `"+r+"`, expected an array.");for(var u=0;u<l.length;u++){var c=e(l,u,r,o,a+"["+u+"]",s);if(c instanceof Error)return c}return null})},element:u(function(t,i,r,o,a){var s=t[i];return e(s)?null:new n("Invalid "+o+" `"+a+"` of type `"+h(s)+"` supplied to `"+r+"`, expected a single ReactElement.")}),instanceOf:function(e){return u(function(t,i,r,o,a){if(!(t[i]instanceof e)){var s=e.name||v;return new n("Invalid "+o+" `"+a+"` of type `"+((l=t[i]).constructor&&l.constructor.name?l.constructor.name:v)+"` supplied to `"+r+"`, expected instance of `"+s+"`.")}var l;return null})},node:u(function(e,t,i,r,o){return d(e[t])?null:new n("Invalid "+r+" `"+o+"` supplied to `"+i+"`, expected a ReactNode.")}),objectOf:function(e){return u(function(t,i,r,o,a){if("function"!=typeof e)return new n("Property `"+a+"` of component `"+r+"` has invalid PropType notation inside objectOf.");var l=t[i],u=h(l);if("object"!==u)return new n("Invalid "+o+" `"+a+"` of type `"+u+"` supplied to `"+r+"`, expected an object.");for(var c in l)if(l.hasOwnProperty(c)){var d=e(l,c,r,o,a+"."+c,s);if(d instanceof Error)return d}return null})},oneOf:function(e){return Array.isArray(e)?u(function(t,i,r,o,a){for(var s=t[i],l=0;l<e.length;l++)if(u=s,c=e[l],u===c?0!==u||1/u==1/c:u!=u&&c!=c)return null;var u,c;return new n("Invalid "+o+" `"+a+"` of value `"+s+"` supplied to `"+r+"`, expected one of "+JSON.stringify(e)+".")}):(o(!1,"Invalid argument supplied to oneOf, expected an instance of array."),i.thatReturnsNull)},oneOfType:function(e){if(!Array.isArray(e))return o(!1,"Invalid argument supplied to oneOfType, expected an instance of array."),i.thatReturnsNull;for(var t=0;t<e.length;t++){var r=e[t];if("function"!=typeof r)return o(!1,"Invalid argument supplied to oneOfType. Expected an array of check functions, but received %s at index %s.",p(r),t),i.thatReturnsNull}return u(function(t,i,r,o,a){for(var l=0;l<e.length;l++)if(null==(0,e[l])(t,i,r,o,a,s))return null;return new n("Invalid "+o+" `"+a+"` supplied to `"+r+"`.")})},shape:function(e){return u(function(t,i,r,o,a){var l=t[i],u=h(l);if("object"!==u)return new n("Invalid "+o+" `"+a+"` of type `"+u+"` supplied to `"+r+"`, expected `object`.");for(var c in e){var d=e[c];if(d){var f=d(l,c,r,o,a+"."+c,s);if(f)return f}}return null})},exact:function(e){return u(function(t,i,r,o,l){var u=t[i],c=h(u);if("object"!==c)return new n("Invalid "+o+" `"+l+"` of type `"+c+"` supplied to `"+r+"`, expected `object`.");var d=a({},t[i],e);for(var f in d){var p=e[f];if(!p)return new n("Invalid "+o+" `"+l+"` key `"+f+"` supplied to `"+r+"`.\nBad object: "+JSON.stringify(t[i],null,"  ")+"\nValid keys: "+JSON.stringify(Object.keys(e),null,"  "));var m=p(u,f,r,o,l+"."+f,s);if(m)return m}return null})}};return n.prototype=Error.prototype,y.checkPropTypes=l,y.PropTypes=y,y}},function(e,t,n){"use strict";
/*
object-assign
(c) Sindre Sorhus
@license MIT
*/
var i=Object.getOwnPropertySymbols,r=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable;e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map(function(e){return t[e]}).join(""))return!1;var i={};return"abcdefghijklmnopqrst".split("").forEach(function(e){i[e]=e}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},i)).join("")}catch(e){return!1}}()?Object.assign:function(e,t){for(var n,a,s=function(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}(e),l=1;l<arguments.length;l++){for(var u in n=Object(arguments[l]))r.call(n,u)&&(s[u]=n[u]);if(i){a=i(n);for(var c=0;c<a.length;c++)o.call(n,a[c])&&(s[a[c]]=n[a[c]])}}return s}},function(e,t,n){"use strict";var i=n(2),r=n(3),o=n(4),a={};e.exports=function(e,t,n,s,l){for(var u in e)if(e.hasOwnProperty(u)){var c;try{i("function"==typeof e[u],"%s: %s type `%s` is invalid; it must be a function, usually from the `prop-types` package, but received `%s`.",s||"React class",n,u,typeof e[u]),c=e[u](t,u,s,n,null,o)}catch(e){c=e}if(r(!c||c instanceof Error,"%s: type specification of %s `%s` is invalid; the type checker function must return `null` or an `Error` but returned a %s. You may have forgotten to pass an argument to the type checker creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and shape all require an argument).",s||"React class",n,u,typeof c),c instanceof Error&&!(c.message in a)){a[c.message]=!0;var d=l?l():"";r(!1,"Failed %s type: %s%s",n,c.message,null!=d?d:"")}}}},function(e,t,n){"use strict";var i=n(13).match,r="undefined"!=typeof window?window.matchMedia:null;e.exports=function(e,t){return new function(e,t){function n(e){o.matches=e.matches,o.media=e.media}var o=this;if(r){var a=r.call(window,e);this.matches=a.matches,this.media=a.media,a.addListener(n)}else this.matches=i(e,t),this.media=e;this.addListener=function(e){a&&a.addListener(e)},this.removeListener=function(e){a&&a.removeListener(e)},this.dispose=function(){a&&a.removeListener(n)}}(e,t)}},function(e,t,n){"use strict";function i(e){return e.split(",").map(function(e){var t=(e=e.trim()).match(s),n=t[1],i=t[2],r=t[3]||"",o={};return o.inverse=!!n&&"not"===n.toLowerCase(),o.type=i?i.toLowerCase():"all",r=r.match(/\([^\)]+\)/g)||[],o.expressions=r.map(function(e){var t=e.match(l),n=t[1].toLowerCase().match(u);return{modifier:n[1],feature:n[2],value:t[2]}}),o})}function r(e){var t,n=Number(e);return n||(t=e.match(/^(\d+)\s*\/\s*(\d+)$/),n=t[1]/t[2]),n}function o(e){var t=parseFloat(e);switch(String(e).match(d)[1]){case"dpcm":return t/2.54;case"dppx":return 96*t;default:return t}}function a(e){var t=parseFloat(e);switch(String(e).match(c)[1]){case"em":case"rem":return 16*t;case"cm":return 96*t/2.54;case"mm":return 96*t/2.54/10;case"in":return 96*t;case"pt":return 72*t;case"pc":return 72*t/12;default:return t}}t.match=function(e,t){return i(e).some(function(e){var n=e.inverse,i="all"===e.type||t.type===e.type;if(i&&n||!i&&!n)return!1;var s=e.expressions.every(function(e){var n=e.feature,i=e.modifier,s=e.value,l=t[n];if(!l)return!1;switch(n){case"orientation":case"scan":return l.toLowerCase()===s.toLowerCase();case"width":case"height":case"device-width":case"device-height":s=a(s),l=a(l);break;case"resolution":s=o(s),l=o(l);break;case"aspect-ratio":case"device-aspect-ratio":case"device-pixel-ratio":s=r(s),l=r(l);break;case"grid":case"color":case"color-index":case"monochrome":s=parseInt(s,10)||1,l=parseInt(l,10)||0}switch(i){case"min":return l>=s;case"max":return l<=s;default:return l===s}});return s&&!n||!s&&n})},t.parse=i;var s=/(?:(only|not)?\s*([^\s\(\)]+)(?:\s*and)?\s*)?(.+)?/i,l=/\(\s*([^\s\:\)]+)\s*(?:\:\s*([^\s\)]+))?\s*\)/,u=/^(?:(min|max)-)?(.+)/,c=/(em|rem|px|cm|mm|in|pt|pc)?$/,d=/(dpi|dpcm|dppx)?$/},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=[];return Object.keys(s.default.all).forEach(function(n){var i=e[n];null!=i&&t.push(function(e,t){var n=(0,o.default)(e);return"number"==typeof t&&(t+="px"),!0===t?e:!1===t?l(e):"("+n+": "+t+")"}(n,i))}),t.join(" and ")};var r=n(5),o=i(r),a=n(6),s=i(a),l=function(e){return"not "+e};e.exports=t.default}]))},function(e,t,n){"use strict";var i=Function.prototype.bind||function(e){if("function"!=typeof this)throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");var t=Array.prototype.slice.call(arguments,1),n=this,i=function(){},r=function(){return n.apply(this instanceof i?this:e,t.concat(Array.prototype.slice.call(arguments)))};return this.prototype&&(i.prototype=this.prototype),r.prototype=new i,r},r=Object.prototype.hasOwnProperty,o=function(){try{return!!Object.defineProperty({},"a",{})}catch(e){return!1}}(),a=(!o&&Object.prototype.__defineGetter__,o?Object.defineProperty:function(e,t,n){"get"in n&&e.__defineGetter__?e.__defineGetter__(t,n.get):(!r.call(e,t)||"value"in n)&&(e[t]=n.value)}),s=Object.create||function(e,t){var n,i;function o(){}for(i in o.prototype=e,n=new o,t)r.call(t,i)&&a(n,i,t[i]);return n};t.bind=i,t.defineProperty=a,t.objCreate=s},function(e,t,n){"use strict";var i=n(248);function r(e){var t,n,i,r,o=[],a=[];for(t in e)e.hasOwnProperty(t)&&a.push(t);var s=a.sort();for(n=0,i=s.length;n<i;n+=1)(r={})[t=s[n]]=e[t],o[n]=r;return o}t.default=function(e){var t=i.objCreate(null);return function(){var n=Array.prototype.slice.call(arguments),o=function(e){if("undefined"==typeof JSON)return;var t,n,i,o=[];for(t=0,n=e.length;t<n;t+=1)(i=e[t])&&"object"==typeof i?o.push(r(i)):o.push(i);return JSON.stringify(o)}(n),a=o&&t[o];return a||(a=new(i.bind.apply(e,[null].concat(n))),o&&(t[o]=a)),a}}},function(e,t){},function(e,t,n){"use strict";t.default={locale:"en",pluralRuleFunction:function(e,t){var n=String(e).split("."),i=!n[1],r=Number(n[0])==e,o=r&&n[0].slice(-1),a=r&&n[0].slice(-2);return t?1==o&&11!=a?"one":2==o&&12!=a?"two":3==o&&13!=a?"few":"other":1==e&&i?"one":"other"},fields:{year:{displayName:"year",relative:{0:"this year",1:"next year","-1":"last year"},relativeTime:{future:{one:"in {0} year",other:"in {0} years"},past:{one:"{0} year ago",other:"{0} years ago"}}},"year-short":{displayName:"yr.",relative:{0:"this yr.",1:"next yr.","-1":"last yr."},relativeTime:{future:{one:"in {0} yr.",other:"in {0} yr."},past:{one:"{0} yr. ago",other:"{0} yr. ago"}}},month:{displayName:"month",relative:{0:"this month",1:"next month","-1":"last month"},relativeTime:{future:{one:"in {0} month",other:"in {0} months"},past:{one:"{0} month ago",other:"{0} months ago"}}},"month-short":{displayName:"mo.",relative:{0:"this mo.",1:"next mo.","-1":"last mo."},relativeTime:{future:{one:"in {0} mo.",other:"in {0} mo."},past:{one:"{0} mo. ago",other:"{0} mo. ago"}}},day:{displayName:"day",relative:{0:"today",1:"tomorrow","-1":"yesterday"},relativeTime:{future:{one:"in {0} day",other:"in {0} days"},past:{one:"{0} day ago",other:"{0} days ago"}}},"day-short":{displayName:"day",relative:{0:"today",1:"tomorrow","-1":"yesterday"},relativeTime:{future:{one:"in {0} day",other:"in {0} days"},past:{one:"{0} day ago",other:"{0} days ago"}}},hour:{displayName:"hour",relative:{0:"this hour"},relativeTime:{future:{one:"in {0} hour",other:"in {0} hours"},past:{one:"{0} hour ago",other:"{0} hours ago"}}},"hour-short":{displayName:"hr.",relative:{0:"this hour"},relativeTime:{future:{one:"in {0} hr.",other:"in {0} hr."},past:{one:"{0} hr. ago",other:"{0} hr. ago"}}},minute:{displayName:"minute",relative:{0:"this minute"},relativeTime:{future:{one:"in {0} minute",other:"in {0} minutes"},past:{one:"{0} minute ago",other:"{0} minutes ago"}}},"minute-short":{displayName:"min.",relative:{0:"this minute"},relativeTime:{future:{one:"in {0} min.",other:"in {0} min."},past:{one:"{0} min. ago",other:"{0} min. ago"}}},second:{displayName:"second",relative:{0:"now"},relativeTime:{future:{one:"in {0} second",other:"in {0} seconds"},past:{one:"{0} second ago",other:"{0} seconds ago"}}},"second-short":{displayName:"sec.",relative:{0:"now"},relativeTime:{future:{one:"in {0} sec.",other:"in {0} sec."},past:{one:"{0} sec. ago",other:"{0} sec. ago"}}}}}},function(e,t,n){"use strict";var i=Object.prototype.hasOwnProperty,r=Object.prototype.toString,o=function(){try{return!!Object.defineProperty({},"a",{})}catch(e){return!1}}(),a=(!o&&Object.prototype.__defineGetter__,o?Object.defineProperty:function(e,t,n){"get"in n&&e.__defineGetter__?e.__defineGetter__(t,n.get):(!i.call(e,t)||"value"in n)&&(e[t]=n.value)}),s=Object.create||function(e,t){var n,r;function o(){}for(r in o.prototype=e,n=new o,t)i.call(t,r)&&a(n,r,t[r]);return n},l=Array.prototype.indexOf||function(e,t){if(!this.length)return-1;for(var n=t||0,i=this.length;n<i;n++)if(this[n]===e)return n;return-1},u=Array.isArray||function(e){return"[object Array]"===r.call(e)},c=Date.now||function(){return(new Date).getTime()};t.defineProperty=a,t.objCreate=s,t.arrIndexOf=l,t.isArray=u,t.dateNow=c},function(e,t,n){"use strict";var i=Math.round;t.default=function(e,t){var n=i((t=+t)-(e=+e)),r=i(n/1e3),o=i(r/60),a=i(o/60),s=i(a/24),l=i(s/7),u=400*s/146097,c=i(12*u),d=i(u);return{millisecond:n,second:r,"second-short":r,minute:o,"minute-short":o,hour:a,"hour-short":a,day:s,"day-short":s,week:l,"week-short":l,month:c,"month-short":c,year:d,"year-short":d}}},function(e,t,n){"use strict";var i=n(22),r=n(253),o=n(252);t.default=l;var a=["second","second-short","minute","minute-short","hour","hour-short","day","day-short","month","month-short","year","year-short"],s=["best fit","numeric"];function l(e,t){t=t||{},o.isArray(e)&&(e=e.concat()),o.defineProperty(this,"_locale",{value:this._resolveLocale(e)}),o.defineProperty(this,"_options",{value:{style:this._resolveStyle(t.style),units:this._isValidUnits(t.units)&&t.units}}),o.defineProperty(this,"_locales",{value:e}),o.defineProperty(this,"_fields",{value:this._findFields(this._locale)}),o.defineProperty(this,"_messages",{value:o.objCreate(null)});var n=this;this.format=function(e,t){return n._format(e,t)}}o.defineProperty(l,"__localeData__",{value:o.objCreate(null)}),o.defineProperty(l,"__addLocaleData",{value:function(e){if(!e||!e.locale)throw new Error("Locale data provided to IntlRelativeFormat is missing a `locale` property value");l.__localeData__[e.locale.toLowerCase()]=e,i.default.__addLocaleData(e)}}),o.defineProperty(l,"defaultLocale",{enumerable:!0,writable:!0,value:void 0}),o.defineProperty(l,"thresholds",{enumerable:!0,value:{second:45,"second-short":45,minute:45,"minute-short":45,hour:22,"hour-short":22,day:26,"day-short":26,month:11,"month-short":11}}),l.prototype.resolvedOptions=function(){return{locale:this._locale,style:this._options.style,units:this._options.units}},l.prototype._compileMessage=function(e){var t,n=this._locales,r=(this._locale,this._fields[e].relativeTime),o="",a="";for(t in r.future)r.future.hasOwnProperty(t)&&(o+=" "+t+" {"+r.future[t].replace("{0}","#")+"}");for(t in r.past)r.past.hasOwnProperty(t)&&(a+=" "+t+" {"+r.past[t].replace("{0}","#")+"}");var s="{when, select, future {{0, plural, "+o+"}}past {{0, plural, "+a+"}}}";return new i.default(s,n)},l.prototype._getMessage=function(e){var t=this._messages;return t[e]||(t[e]=this._compileMessage(e)),t[e]},l.prototype._getRelativeUnits=function(e,t){var n=this._fields[t];if(n.relative)return n.relative[e]},l.prototype._findFields=function(e){for(var t=l.__localeData__,n=t[e.toLowerCase()];n;){if(n.fields)return n.fields;n=n.parentLocale&&t[n.parentLocale.toLowerCase()]}throw new Error("Locale data added to IntlRelativeFormat is missing `fields` for :"+e)},l.prototype._format=function(e,t){var n=t&&void 0!==t.now?t.now:o.dateNow();if(void 0===e&&(e=n),!isFinite(n))throw new RangeError("The `now` option provided to IntlRelativeFormat#format() is not in valid range.");if(!isFinite(e))throw new RangeError("The date value provided to IntlRelativeFormat#format() is not in valid range.");var i=r.default(n,e),a=this._options.units||this._selectUnits(i),s=i[a];if("numeric"!==this._options.style){var l=this._getRelativeUnits(s,a);if(l)return l}return this._getMessage(a).format({0:Math.abs(s),when:s<0?"past":"future"})},l.prototype._isValidUnits=function(e){if(!e||o.arrIndexOf.call(a,e)>=0)return!0;if("string"==typeof e){var t=/s$/.test(e)&&e.substr(0,e.length-1);if(t&&o.arrIndexOf.call(a,t)>=0)throw new Error('"'+e+'" is not a valid IntlRelativeFormat `units` value, did you mean: '+t)}throw new Error('"'+e+'" is not a valid IntlRelativeFormat `units` value, it must be one of: "'+a.join('", "')+'"')},l.prototype._resolveLocale=function(e){"string"==typeof e&&(e=[e]),e=(e||[]).concat(l.defaultLocale);var t,n,i,r,o=l.__localeData__;for(t=0,n=e.length;t<n;t+=1)for(i=e[t].toLowerCase().split("-");i.length;){if(r=o[i.join("-")])return r.locale;i.pop()}var a=e.pop();throw new Error("No locale data has been added to IntlRelativeFormat for: "+e.join(", ")+", or the default locale: "+a)},l.prototype._resolveStyle=function(e){if(!e)return s[0];if(o.arrIndexOf.call(s,e)>=0)return e;throw new Error('"'+e+'" is not a valid IntlRelativeFormat `style` value, it must be one of: "'+s.join('", "')+'"')},l.prototype._selectUnits=function(e){var t,n,i,r=a.filter(function(e){return e.indexOf("-short")<1});for(t=0,n=r.length;t<n&&(i=r[t],!(Math.abs(e[i])<l.thresholds[i]));t+=1);return i}},function(e,t,n){"use strict";var i=n(254),r=n(251);i.default.__addLocaleData(r.default),i.default.defaultLocale="en",t.default=i.default},function(e,t){},function(e,t,n){"use strict";t.default={locale:"en",pluralRuleFunction:function(e,t){var n=String(e).split("."),i=!n[1],r=Number(n[0])==e,o=r&&n[0].slice(-1),a=r&&n[0].slice(-2);return t?1==o&&11!=a?"one":2==o&&12!=a?"two":3==o&&13!=a?"few":"other":1==e&&i?"one":"other"}}},function(e,t,n){"use strict";t.default=function(){function e(t,n,i,r){this.message=t,this.expected=n,this.found=i,this.location=r,this.name="SyntaxError","function"==typeof Error.captureStackTrace&&Error.captureStackTrace(this,e)}return function(e,t){function n(){this.constructor=e}n.prototype=t.prototype,e.prototype=new n}(e,Error),{SyntaxError:e,parse:function(t){var n,i=arguments.length>1?arguments[1]:{},r={},o={start:Ie},a=Ie,s=function(e){return{type:"messageFormatPattern",elements:e,location:ke()}},l=function(e){var t,n,i,r,o,a="";for(t=0,i=e.length;t<i;t+=1)for(n=0,o=(r=e[t]).length;n<o;n+=1)a+=r[n];return a},u=function(e){return{type:"messageTextElement",value:e,location:ke()}},c=/^[^ \t\n\r,.+={}#]/,d={type:"class",value:"[^ \\t\\n\\r,.+={}#]",description:"[^ \\t\\n\\r,.+={}#]"},h="{",f={type:"literal",value:"{",description:'"{"'},p=",",m={type:"literal",value:",",description:'","'},g="}",v={type:"literal",value:"}",description:'"}"'},y=function(e,t){return{type:"argumentElement",id:e,format:t&&t[2],location:ke()}},_="number",b={type:"literal",value:"number",description:'"number"'},w="date",C={type:"literal",value:"date",description:'"date"'},x="time",S={type:"literal",value:"time",description:'"time"'},k=function(e,t){return{type:e+"Format",style:t&&t[2],location:ke()}},E="plural",M={type:"literal",value:"plural",description:'"plural"'},O=function(e){return{type:e.type,ordinal:!1,offset:e.offset||0,options:e.options,location:ke()}},T="selectordinal",I={type:"literal",value:"selectordinal",description:'"selectordinal"'},P=function(e){return{type:e.type,ordinal:!0,offset:e.offset||0,options:e.options,location:ke()}},L="select",A={type:"literal",value:"select",description:'"select"'},R=function(e){return{type:"selectFormat",options:e,location:ke()}},B="=",D={type:"literal",value:"=",description:'"="'},F=function(e,t){return{type:"optionalFormatPattern",selector:e,value:t,location:ke()}},z="offset:",j={type:"literal",value:"offset:",description:'"offset:"'},N=function(e){return e},W=function(e,t){return{type:"pluralFormat",offset:e,options:t,location:ke()}},U={type:"other",description:"whitespace"},H=/^[ \t\n\r]/,V={type:"class",value:"[ \\t\\n\\r]",description:"[ \\t\\n\\r]"},q={type:"other",description:"optionalWhitespace"},G=/^[0-9]/,Z={type:"class",value:"[0-9]",description:"[0-9]"},K=/^[0-9a-f]/i,X={type:"class",value:"[0-9a-f]i",description:"[0-9a-f]i"},Y="0",Q={type:"literal",value:"0",description:'"0"'},J=/^[1-9]/,$={type:"class",value:"[1-9]",description:"[1-9]"},ee=function(e){return parseInt(e,10)},te=/^[^{}\\\0-\x1F \t\n\r]/,ne={type:"class",value:"[^{}\\\\\\0-\\x1F\\x7f \\t\\n\\r]",description:"[^{}\\\\\\0-\\x1F\\x7f \\t\\n\\r]"},ie="\\\\",re={type:"literal",value:"\\\\",description:'"\\\\\\\\"'},oe=function(){return"\\"},ae="\\#",se={type:"literal",value:"\\#",description:'"\\\\#"'},le=function(){return"\\#"},ue="\\{",ce={type:"literal",value:"\\{",description:'"\\\\{"'},de=function(){return"{"},he="\\}",fe={type:"literal",value:"\\}",description:'"\\\\}"'},pe=function(){return"}"},me="\\u",ge={type:"literal",value:"\\u",description:'"\\\\u"'},ve=function(e){return String.fromCharCode(parseInt(e,16))},ye=function(e){return e.join("")},_e=0,be=0,we=[{line:1,column:1,seenCR:!1}],Ce=0,xe=[],Se=0;if("startRule"in i){if(!(i.startRule in o))throw new Error("Can't start parsing from rule \""+i.startRule+'".');a=o[i.startRule]}function ke(){return Me(be,_e)}function Ee(e){var n,i,r=we[e];if(r)return r;for(n=e-1;!we[n];)n--;for(r={line:(r=we[n]).line,column:r.column,seenCR:r.seenCR};n<e;)"\n"===(i=t.charAt(n))?(r.seenCR||r.line++,r.column=1,r.seenCR=!1):"\r"===i||"\u2028"===i||"\u2029"===i?(r.line++,r.column=1,r.seenCR=!0):(r.column++,r.seenCR=!1),n++;return we[e]=r,r}function Me(e,t){var n=Ee(e),i=Ee(t);return{start:{offset:e,line:n.line,column:n.column},end:{offset:t,line:i.line,column:i.column}}}function Oe(e){_e<Ce||(_e>Ce&&(Ce=_e,xe=[]),xe.push(e))}function Te(t,n,i,r){return null!==n&&function(e){var t=1;for(e.sort(function(e,t){return e.description<t.description?-1:e.description>t.description?1:0});t<e.length;)e[t-1]===e[t]?e.splice(t,1):t++}(n),new e(null!==t?t:function(e,t){var n,i=new Array(e.length);for(n=0;n<e.length;n++)i[n]=e[n].description;return"Expected "+(e.length>1?i.slice(0,-1).join(", ")+" or "+i[e.length-1]:i[0])+" but "+(t?'"'+function(e){function t(e){return e.charCodeAt(0).toString(16).toUpperCase()}return e.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\x08/g,"\\b").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\f/g,"\\f").replace(/\r/g,"\\r").replace(/[\x00-\x07\x0B\x0E\x0F]/g,function(e){return"\\x0"+t(e)}).replace(/[\x10-\x1F\x80-\xFF]/g,function(e){return"\\x"+t(e)}).replace(/[\u0100-\u0FFF]/g,function(e){return"\\u0"+t(e)}).replace(/[\u1000-\uFFFF]/g,function(e){return"\\u"+t(e)})}(t)+'"':"end of input")+" found."}(n,i),n,i,r)}function Ie(){return Pe()}function Pe(){var e,t,n;for(e=_e,t=[],n=Le();n!==r;)t.push(n),n=Le();return t!==r&&(be=e,t=s(t)),e=t}function Le(){var e;return(e=function(){var e,n;return e=_e,(n=function(){var e,n,i,o,a,s;if(e=_e,n=[],i=_e,(o=De())!==r&&(a=We())!==r&&(s=De())!==r?i=o=[o,a,s]:(_e=i,i=r),i!==r)for(;i!==r;)n.push(i),i=_e,(o=De())!==r&&(a=We())!==r&&(s=De())!==r?i=o=[o,a,s]:(_e=i,i=r);else n=r;return n!==r&&(be=e,n=l(n)),(e=n)===r&&(e=_e,n=Be(),e=n!==r?t.substring(e,_e):n),e}())!==r&&(be=e,n=u(n)),e=n}())===r&&(e=function(){var e,n,i,o,a,s,l;return e=_e,123===t.charCodeAt(_e)?(n=h,_e++):(n=r,0===Se&&Oe(f)),n!==r&&De()!==r&&(i=function(){var e,n,i;if((e=je())===r){if(e=_e,n=[],c.test(t.charAt(_e))?(i=t.charAt(_e),_e++):(i=r,0===Se&&Oe(d)),i!==r)for(;i!==r;)n.push(i),c.test(t.charAt(_e))?(i=t.charAt(_e),_e++):(i=r,0===Se&&Oe(d));else n=r;e=n!==r?t.substring(e,_e):n}return e}())!==r&&De()!==r?(o=_e,44===t.charCodeAt(_e)?(a=p,_e++):(a=r,0===Se&&Oe(m)),a!==r&&(s=De())!==r&&(l=function(){var e;return(e=function(){var e,n,i,o,a,s;return e=_e,t.substr(_e,6)===_?(n=_,_e+=6):(n=r,0===Se&&Oe(b)),n===r&&(t.substr(_e,4)===w?(n=w,_e+=4):(n=r,0===Se&&Oe(C)),n===r&&(t.substr(_e,4)===x?(n=x,_e+=4):(n=r,0===Se&&Oe(S)))),n!==r&&De()!==r?(i=_e,44===t.charCodeAt(_e)?(o=p,_e++):(o=r,0===Se&&Oe(m)),o!==r&&(a=De())!==r&&(s=We())!==r?i=o=[o,a,s]:(_e=i,i=r),i===r&&(i=null),i!==r?(be=e,n=k(n,i),e=n):(_e=e,e=r)):(_e=e,e=r),e}())===r&&(e=function(){var e,n,i,o;return e=_e,t.substr(_e,6)===E?(n=E,_e+=6):(n=r,0===Se&&Oe(M)),n!==r&&De()!==r?(44===t.charCodeAt(_e)?(i=p,_e++):(i=r,0===Se&&Oe(m)),i!==r&&De()!==r&&(o=Re())!==r?(be=e,n=O(o),e=n):(_e=e,e=r)):(_e=e,e=r),e}())===r&&(e=function(){var e,n,i,o;return e=_e,t.substr(_e,13)===T?(n=T,_e+=13):(n=r,0===Se&&Oe(I)),n!==r&&De()!==r?(44===t.charCodeAt(_e)?(i=p,_e++):(i=r,0===Se&&Oe(m)),i!==r&&De()!==r&&(o=Re())!==r?(be=e,n=P(o),e=n):(_e=e,e=r)):(_e=e,e=r),e}())===r&&(e=function(){var e,n,i,o,a;if(e=_e,t.substr(_e,6)===L?(n=L,_e+=6):(n=r,0===Se&&Oe(A)),n!==r)if(De()!==r)if(44===t.charCodeAt(_e)?(i=p,_e++):(i=r,0===Se&&Oe(m)),i!==r)if(De()!==r){if(o=[],(a=Ae())!==r)for(;a!==r;)o.push(a),a=Ae();else o=r;o!==r?(be=e,n=R(o),e=n):(_e=e,e=r)}else _e=e,e=r;else _e=e,e=r;else _e=e,e=r;else _e=e,e=r;return e}()),e}())!==r?o=a=[a,s,l]:(_e=o,o=r),o===r&&(o=null),o!==r&&(a=De())!==r?(125===t.charCodeAt(_e)?(s=g,_e++):(s=r,0===Se&&Oe(v)),s!==r?(be=e,n=y(i,o),e=n):(_e=e,e=r)):(_e=e,e=r)):(_e=e,e=r),e}()),e}function Ae(){var e,n,i,o,a;return e=_e,De()!==r&&(n=function(){var e,n,i,o;return e=_e,n=_e,61===t.charCodeAt(_e)?(i=B,_e++):(i=r,0===Se&&Oe(D)),i!==r&&(o=je())!==r?n=i=[i,o]:(_e=n,n=r),(e=n!==r?t.substring(e,_e):n)===r&&(e=We()),e}())!==r&&De()!==r?(123===t.charCodeAt(_e)?(i=h,_e++):(i=r,0===Se&&Oe(f)),i!==r&&De()!==r&&(o=Pe())!==r&&De()!==r?(125===t.charCodeAt(_e)?(a=g,_e++):(a=r,0===Se&&Oe(v)),a!==r?(be=e,e=F(n,o)):(_e=e,e=r)):(_e=e,e=r)):(_e=e,e=r),e}function Re(){var e,n,i,o;if(e=_e,(n=function(){var e,n,i;return e=_e,t.substr(_e,7)===z?(n=z,_e+=7):(n=r,0===Se&&Oe(j)),n!==r&&De()!==r&&(i=je())!==r?(be=e,e=n=N(i)):(_e=e,e=r),e}())===r&&(n=null),n!==r)if(De()!==r){if(i=[],(o=Ae())!==r)for(;o!==r;)i.push(o),o=Ae();else i=r;i!==r?(be=e,e=n=W(n,i)):(_e=e,e=r)}else _e=e,e=r;else _e=e,e=r;return e}function Be(){var e,n;if(Se++,e=[],H.test(t.charAt(_e))?(n=t.charAt(_e),_e++):(n=r,0===Se&&Oe(V)),n!==r)for(;n!==r;)e.push(n),H.test(t.charAt(_e))?(n=t.charAt(_e),_e++):(n=r,0===Se&&Oe(V));else e=r;return Se--,e===r&&(n=r,0===Se&&Oe(U)),e}function De(){var e,n,i;for(Se++,e=_e,n=[],i=Be();i!==r;)n.push(i),i=Be();return e=n!==r?t.substring(e,_e):n,Se--,e===r&&(n=r,0===Se&&Oe(q)),e}function Fe(){var e;return G.test(t.charAt(_e))?(e=t.charAt(_e),_e++):(e=r,0===Se&&Oe(Z)),e}function ze(){var e;return K.test(t.charAt(_e))?(e=t.charAt(_e),_e++):(e=r,0===Se&&Oe(X)),e}function je(){var e,n,i,o,a,s;if(e=_e,48===t.charCodeAt(_e)?(n=Y,_e++):(n=r,0===Se&&Oe(Q)),n===r){if(n=_e,i=_e,J.test(t.charAt(_e))?(o=t.charAt(_e),_e++):(o=r,0===Se&&Oe($)),o!==r){for(a=[],s=Fe();s!==r;)a.push(s),s=Fe();a!==r?i=o=[o,a]:(_e=i,i=r)}else _e=i,i=r;n=i!==r?t.substring(n,_e):i}return n!==r&&(be=e,n=ee(n)),e=n}function Ne(){var e,n,i,o,a,s,l,u;return te.test(t.charAt(_e))?(e=t.charAt(_e),_e++):(e=r,0===Se&&Oe(ne)),e===r&&(e=_e,t.substr(_e,2)===ie?(n=ie,_e+=2):(n=r,0===Se&&Oe(re)),n!==r&&(be=e,n=oe()),(e=n)===r&&(e=_e,t.substr(_e,2)===ae?(n=ae,_e+=2):(n=r,0===Se&&Oe(se)),n!==r&&(be=e,n=le()),(e=n)===r&&(e=_e,t.substr(_e,2)===ue?(n=ue,_e+=2):(n=r,0===Se&&Oe(ce)),n!==r&&(be=e,n=de()),(e=n)===r&&(e=_e,t.substr(_e,2)===he?(n=he,_e+=2):(n=r,0===Se&&Oe(fe)),n!==r&&(be=e,n=pe()),(e=n)===r&&(e=_e,t.substr(_e,2)===me?(n=me,_e+=2):(n=r,0===Se&&Oe(ge)),n!==r?(i=_e,o=_e,(a=ze())!==r&&(s=ze())!==r&&(l=ze())!==r&&(u=ze())!==r?o=a=[a,s,l,u]:(_e=o,o=r),(i=o!==r?t.substring(i,_e):o)!==r?(be=e,e=n=ve(i)):(_e=e,e=r)):(_e=e,e=r)))))),e}function We(){var e,t,n;if(e=_e,t=[],(n=Ne())!==r)for(;n!==r;)t.push(n),n=Ne();else t=r;return t!==r&&(be=e,t=ye(t)),e=t}if((n=a())!==r&&_e===t.length)return n;throw n!==r&&_e<t.length&&Oe({type:"end",description:"end of input"}),Te(null,xe,Ce<t.length?t.charAt(Ce):null,Ce<t.length?Me(Ce,Ce+1):Me(Ce,Ce))}}}()},function(e,t,n){"use strict";(t=e.exports=n(258).default).default=t},function(e,t,n){"use strict";function i(e,t,n){this.locales=e,this.formats=t,this.pluralFn=n}function r(e){this.id=e}function o(e,t,n,i,r){this.id=e,this.useOrdinal=t,this.offset=n,this.options=i,this.pluralFn=r}function a(e,t,n,i){this.id=e,this.offset=t,this.numberFormat=n,this.string=i}function s(e,t){this.id=e,this.options=t}t.default=i,i.prototype.compile=function(e){return this.pluralStack=[],this.currentPlural=null,this.pluralNumberFormat=null,this.compileMessage(e)},i.prototype.compileMessage=function(e){if(!e||"messageFormatPattern"!==e.type)throw new Error('Message AST is not of type: "messageFormatPattern"');var t,n,i,r=e.elements,o=[];for(t=0,n=r.length;t<n;t+=1)switch((i=r[t]).type){case"messageTextElement":o.push(this.compileMessageText(i));break;case"argumentElement":o.push(this.compileArgument(i));break;default:throw new Error("Message element does not have a valid type")}return o},i.prototype.compileMessageText=function(e){return this.currentPlural&&/(^|[^\\])#/g.test(e.value)?(this.pluralNumberFormat||(this.pluralNumberFormat=new Intl.NumberFormat(this.locales)),new a(this.currentPlural.id,this.currentPlural.format.offset,this.pluralNumberFormat,e.value)):e.value.replace(/\\#/g,"#")},i.prototype.compileArgument=function(e){var t=e.format;if(!t)return new r(e.id);var n,i=this.formats,a=this.locales,l=this.pluralFn;switch(t.type){case"numberFormat":return n=i.number[t.style],{id:e.id,format:new Intl.NumberFormat(a,n).format};case"dateFormat":return n=i.date[t.style],{id:e.id,format:new Intl.DateTimeFormat(a,n).format};case"timeFormat":return n=i.time[t.style],{id:e.id,format:new Intl.DateTimeFormat(a,n).format};case"pluralFormat":return n=this.compileOptions(e),new o(e.id,t.ordinal,t.offset,n,l);case"selectFormat":return n=this.compileOptions(e),new s(e.id,n);default:throw new Error("Message element does not have a valid format type")}},i.prototype.compileOptions=function(e){var t,n,i,r=e.format,o=r.options,a={};for(this.pluralStack.push(this.currentPlural),this.currentPlural="pluralFormat"===r.type?e:null,t=0,n=o.length;t<n;t+=1)a[(i=o[t]).selector]=this.compileMessage(i.value);return this.currentPlural=this.pluralStack.pop(),a},r.prototype.format=function(e){return e||"number"==typeof e?"string"==typeof e?e:String(e):""},o.prototype.getOption=function(e){var t=this.options;return t["="+e]||t[this.pluralFn(e-this.offset,this.useOrdinal)]||t.other},a.prototype.format=function(e){var t=this.numberFormat.format(e-this.offset);return this.string.replace(/(^|[^\\])#/g,"$1"+t).replace(/\\#/g,"#")},s.prototype.getOption=function(e){var t=this.options;return t[e]||t.other}},function(e,t,n){"use strict";var i=n(79),r=function(){try{return!!Object.defineProperty({},"a",{})}catch(e){return!1}}(),o=(!r&&Object.prototype.__defineGetter__,r?Object.defineProperty:function(e,t,n){"get"in n&&e.__defineGetter__?e.__defineGetter__(t,n.get):(!i.hop.call(e,t)||"value"in n)&&(e[t]=n.value)}),a=Object.create||function(e,t){var n,r;function a(){}for(r in a.prototype=e,n=new a,t)i.hop.call(t,r)&&o(n,r,t[r]);return n};t.defineProperty=o,t.objCreate=a},function(e,t,n){"use strict";var i=n(79),r=n(261),o=n(260),a=n(259);function s(e,t,n){var i="string"==typeof e?s.__parse(e):e;if(!i||"messageFormatPattern"!==i.type)throw new TypeError("A message must be provided as a String or AST.");n=this._mergeFormats(s.formats,n),r.defineProperty(this,"_locale",{value:this._resolveLocale(t)});var o=this._findPluralRuleFunction(this._locale),a=this._compilePattern(i,t,n,o),l=this;this.format=function(t){try{return l._format(a,t)}catch(t){throw t.variableId?new Error("The intl string context variable '"+t.variableId+"' was not provided to the string '"+e+"'"):t}}}t.default=s,r.defineProperty(s,"formats",{enumerable:!0,value:{number:{currency:{style:"currency"},percent:{style:"percent"}},date:{short:{month:"numeric",day:"numeric",year:"2-digit"},medium:{month:"short",day:"numeric",year:"numeric"},long:{month:"long",day:"numeric",year:"numeric"},full:{weekday:"long",month:"long",day:"numeric",year:"numeric"}},time:{short:{hour:"numeric",minute:"numeric"},medium:{hour:"numeric",minute:"numeric",second:"numeric"},long:{hour:"numeric",minute:"numeric",second:"numeric",timeZoneName:"short"},full:{hour:"numeric",minute:"numeric",second:"numeric",timeZoneName:"short"}}}}),r.defineProperty(s,"__localeData__",{value:r.objCreate(null)}),r.defineProperty(s,"__addLocaleData",{value:function(e){if(!e||!e.locale)throw new Error("Locale data provided to IntlMessageFormat is missing a `locale` property");s.__localeData__[e.locale.toLowerCase()]=e}}),r.defineProperty(s,"__parse",{value:a.default.parse}),r.defineProperty(s,"defaultLocale",{enumerable:!0,writable:!0,value:void 0}),s.prototype.resolvedOptions=function(){return{locale:this._locale}},s.prototype._compilePattern=function(e,t,n,i){return new o.default(t,n,i).compile(e)},s.prototype._findPluralRuleFunction=function(e){for(var t=s.__localeData__,n=t[e.toLowerCase()];n;){if(n.pluralRuleFunction)return n.pluralRuleFunction;n=n.parentLocale&&t[n.parentLocale.toLowerCase()]}throw new Error("Locale data added to IntlMessageFormat is missing a `pluralRuleFunction` for :"+e)},s.prototype._format=function(e,t){var n,r,o,a,s,l,u="";for(n=0,r=e.length;n<r;n+=1)if("string"!=typeof(o=e[n])){if(a=o.id,!t||!i.hop.call(t,a))throw(l=new Error("A value must be provided for: "+a)).variableId=a,l;s=t[a],o.options?u+=this._format(o.getOption(s),t):u+=o.format(s)}else u+=o;return u},s.prototype._mergeFormats=function(e,t){var n,o,a={};for(n in e)i.hop.call(e,n)&&(a[n]=o=r.objCreate(e[n]),t&&i.hop.call(t,n)&&i.extend(o,t[n]));return a},s.prototype._resolveLocale=function(e){"string"==typeof e&&(e=[e]),e=(e||[]).concat(s.defaultLocale);var t,n,i,r,o=s.__localeData__;for(t=0,n=e.length;t<n;t+=1)for(i=e[t].toLowerCase().split("-");i.length;){if(r=o[i.join("-")])return r.locale;i.pop()}var a=e.pop();throw new Error("No locale data has been added to IntlMessageFormat for: "+e.join(", ")+", or the default locale: "+a)}},function(e,t,n){"use strict";var i=n(262),r=n(257);i.default.__addLocaleData(r.default),i.default.defaultLocale="en",t.default=i.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=oe(n(2)),r=oe(n(13)),o=n(21),a=oe(n(247)),s=oe(n(0)),l=oe(n(1)),u=oe(n(246)),c=n(19),d=n(77),h=oe(n(239)),f=oe(n(232)),p=oe(n(214)),m=oe(n(212)),g=oe(n(210)),v=oe(n(208)),y=oe(n(206)),_=oe(n(204)),b=oe(n(73)),w=oe(n(49)),C=oe(n(200)),x=oe(n(197)),S=oe(n(193)),k=oe(n(192)),E=oe(n(174)),M=oe(n(172)),O=oe(n(153)),T=oe(n(39)),I=oe(n(30)),P=oe(n(41)),L=oe(n(64)),A=oe(n(145)),R=oe(n(141)),B=oe(n(138)),D=oe(n(128)),F=oe(n(122)),z=oe(n(118)),j=oe(n(112)),N=oe(n(108)),W=oe(n(106)),U=oe(n(104)),H=n(25),V=oe(H),q=oe(n(100)),G=oe(n(99)),Z=oe(n(97)),K=oe(n(96)),X=oe(n(95)),Y=oe(n(94)),Q=oe(n(93)),J=oe(n(92)),$=oe(n(91)),ee=oe(n(90)),te=oe(n(89)),ne=oe(n(88)),ie=oe(n(87)),re=oe(n(86));function oe(e){return e&&e.__esModule?e:{default:e}}function ae(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var se=(0,S.default)(T.default),le=(0,o.defineMessages)({costume:{id:"paint.paintEditor.costume",defaultMessage:"Costume"},group:{id:"paint.paintEditor.group",defaultMessage:"Group"},ungroup:{id:"paint.paintEditor.ungroup",defaultMessage:"Ungroup"},undo:{id:"paint.paintEditor.undo",defaultMessage:"Undo"},redo:{id:"paint.paintEditor.redo",defaultMessage:"Redo"},forward:{id:"paint.paintEditor.forward",defaultMessage:"Forward"},backward:{id:"paint.paintEditor.backward",defaultMessage:"Backward"},front:{id:"paint.paintEditor.front",defaultMessage:"Front"},back:{id:"paint.paintEditor.back",defaultMessage:"Back"},more:{id:"paint.paintEditor.more",defaultMessage:"More"},bitmap:{id:"paint.paintEditor.bitmap",defaultMessage:"Convert to Bitmap"},vector:{id:"paint.paintEditor.vector",defaultMessage:"Convert to Vector"}}),ue=function(e){var t=!e.canRedo(),n=!e.canUndo();return s.default.createElement("div",{className:G.default.editorContainer},null!==e.canvas?s.default.createElement("div",{className:G.default.editorContainerTop},s.default.createElement("div",{className:G.default.row},s.default.createElement(I.default,null,s.default.createElement(a.default,{minWidth:q.default.fullSizeEditorMinWidth},s.default.createElement(P.default,{text:e.intl.formatMessage(le.costume)},s.default.createElement(se,{className:G.default.costumeInput,type:"text",value:e.name,onSubmit:e.onUpdateName}))),s.default.createElement(a.default,{maxWidth:q.default.fullSizeEditorMinWidth-1},s.default.createElement(se,{className:G.default.costumeInput,type:"text",value:e.name,onSubmit:e.onUpdateName}))),s.default.createElement(I.default,null,s.default.createElement(C.default,null,s.default.createElement(w.default,{className:(0,r.default)(G.default.buttonGroupButton,ae({},G.default.modNoRightBorder,!t)),disabled:n,onClick:e.onUndo},s.default.createElement("img",{alt:e.intl.formatMessage(le.undo),className:G.default.buttonGroupButtonIcon,draggable:!1,src:ee.default})),s.default.createElement(w.default,{className:(0,r.default)(G.default.buttonGroupButton,ae({},G.default.modLeftBorder,!t)),disabled:t,onClick:e.onRedo},s.default.createElement("img",{alt:e.intl.formatMessage(le.redo),className:G.default.buttonGroupButtonIcon,draggable:!1,src:X.default})))),s.default.createElement(I.default,{className:G.default.modDashedBorder},s.default.createElement(L.default,{disabled:!(0,c.shouldShowGroup)(),imgSrc:K.default,title:e.intl.formatMessage(le.group),onClick:e.onGroup}),s.default.createElement(L.default,{disabled:!(0,c.shouldShowUngroup)(),imgSrc:te.default,title:e.intl.formatMessage(le.ungroup),onClick:e.onUngroup})),s.default.createElement(I.default,{className:G.default.modDashedBorder},s.default.createElement(L.default,{disabled:!(0,d.shouldShowBringForward)(),imgSrc:J.default,title:e.intl.formatMessage(le.forward),onClick:e.onSendForward}),s.default.createElement(L.default,{disabled:!(0,d.shouldShowSendBackward)(),imgSrc:Q.default,title:e.intl.formatMessage(le.backward),onClick:e.onSendBackward})),s.default.createElement(a.default,{minWidth:q.default.fullSizeEditorMinWidth},s.default.createElement(I.default,{className:G.default.row},s.default.createElement(L.default,{disabled:!(0,d.shouldShowBringForward)(),imgSrc:$.default,title:e.intl.formatMessage(le.front),onClick:e.onSendToFront}),s.default.createElement(L.default,{disabled:!(0,d.shouldShowSendBackward)(),imgSrc:Y.default,title:e.intl.formatMessage(le.back),onClick:e.onSendToBack}))),s.default.createElement(a.default,{maxWidth:q.default.fullSizeEditorMinWidth-1},s.default.createElement(I.default,null,s.default.createElement(k.default,{className:G.default.modUnselect,enterExitTransitionDurationMs:20,popoverContent:s.default.createElement(I.default,{className:G.default.modContextMenu},s.default.createElement(w.default,{className:(0,r.default)(G.default.modMenuItem,ae({},G.default.modDisabled,!(0,d.shouldShowBringForward)())),disabled:!(0,d.shouldShowBringForward)(),onClick:e.onSendToFront},s.default.createElement("img",{className:G.default.menuItemIcon,draggable:!1,src:$.default}),s.default.createElement("span",null,e.intl.formatMessage(le.front))),s.default.createElement(w.default,{className:(0,r.default)(G.default.modMenuItem,ae({},G.default.modDisabled,!(0,d.shouldShowSendBackward)())),disabled:!(0,d.shouldShowSendBackward)(),onClick:e.onSendToBack},s.default.createElement("img",{className:G.default.menuItemIcon,draggable:!1,src:Y.default}),s.default.createElement("span",null,e.intl.formatMessage(le.back)))),tipSize:.01},e.intl.formatMessage(le.more))))),(0,H.isVector)(e.format)?s.default.createElement("div",{className:G.default.row},s.default.createElement(I.default,{className:(0,r.default)(G.default.row,G.default.modDashedBorder,G.default.modLabeledIconHeight)},s.default.createElement(M.default,{className:G.default.modMarginRight,onUpdateSvg:e.onUpdateSvg}),s.default.createElement(N.default,{onUpdateSvg:e.onUpdateSvg}),s.default.createElement(W.default,{onUpdateSvg:e.onUpdateSvg})),s.default.createElement(I.default,{className:G.default.modModeTools},s.default.createElement(B.default,{onUpdateSvg:e.onUpdateSvg}))):s.default.createElement("div",{className:G.default.row},s.default.createElement(I.default,{className:(0,r.default)(G.default.row,G.default.modDashedBorder,G.default.modLabeledIconHeight)},s.default.createElement(M.default,{className:G.default.modMarginRight,onUpdateSvg:e.onUpdateSvg})),s.default.createElement(I.default,{className:G.default.modModeTools},s.default.createElement(B.default,{onUpdateSvg:e.onUpdateSvg})))):null,s.default.createElement("div",{className:G.default.topAlignRow},null!==e.canvas?s.default.createElement("div",{className:(0,H.isVector)(e.format)?G.default.modeSelector:G.default.hidden},s.default.createElement(j.default,{onUpdateSvg:e.onUpdateSvg}),s.default.createElement(z.default,{onUpdateSvg:e.onUpdateSvg}),s.default.createElement(x.default,{onUpdateSvg:e.onUpdateSvg}),s.default.createElement(E.default,{onUpdateSvg:e.onUpdateSvg}),s.default.createElement(O.default,{onUpdateSvg:e.onUpdateSvg}),s.default.createElement(U.default,{textArea:e.textArea,onUpdateSvg:e.onUpdateSvg}),s.default.createElement(A.default,{onUpdateSvg:e.onUpdateSvg}),s.default.createElement(D.default,{onUpdateSvg:e.onUpdateSvg}),s.default.createElement(F.default,{onUpdateSvg:e.onUpdateSvg})):null,null!==e.canvas?s.default.createElement("div",{className:(0,H.isBitmap)(e.format)?G.default.modeSelector:G.default.hidden},s.default.createElement(h.default,{onUpdateSvg:e.onUpdateSvg}),s.default.createElement(f.default,null),s.default.createElement(p.default,null),s.default.createElement(m.default,null),s.default.createElement(g.default,null),s.default.createElement(v.default,null),s.default.createElement(y.default,null),s.default.createElement(_.default,null)):null,s.default.createElement("div",null,s.default.createElement("div",{className:(0,r.default)(G.default.canvasContainer,ae({},G.default.withEyeDropper,e.isEyeDropping))},s.default.createElement(u.default,{canvasRef:e.setCanvas,rotationCenterX:e.rotationCenterX,rotationCenterY:e.rotationCenterY,svg:e.svg,svgId:e.svgId,onUpdateSvg:e.onUpdateSvg}),s.default.createElement("textarea",{className:G.default.textArea,ref:e.setTextArea,spellCheck:!1}),e.isEyeDropping&&null!==e.colorInfo&&!e.colorInfo.hideLoupe?s.default.createElement(b.default,{className:G.default.colorPickerWrapper},s.default.createElement(R.default,{colorInfo:e.colorInfo,pixelRatio:i.default.project.view.pixelRatio})):null),s.default.createElement("div",{className:G.default.canvasControls},(0,H.isVector)(e.format)?s.default.createElement(w.default,{className:G.default.bitmapButton,onClick:e.onSwitchToBitmap},s.default.createElement("img",{className:G.default.bitmapButtonIcon,draggable:!1,src:Z.default}),s.default.createElement("span",null,e.intl.formatMessage(le.bitmap))):s.default.createElement(w.default,{className:G.default.bitmapButton,onClick:e.onSwitchToVector},s.default.createElement("img",{className:G.default.bitmapButtonIcon,draggable:!1,src:Z.default}),s.default.createElement("span",null,e.intl.formatMessage(le.vector))),s.default.createElement(I.default,{className:G.default.zoomControls},s.default.createElement(C.default,null,s.default.createElement(w.default,{className:G.default.buttonGroupButton,onClick:e.onZoomOut},s.default.createElement("img",{alt:"Zoom Out",className:G.default.buttonGroupButtonIcon,draggable:!1,src:ie.default})),s.default.createElement(w.default,{className:G.default.buttonGroupButton,onClick:e.onZoomReset},s.default.createElement("img",{alt:"Zoom Reset",className:G.default.buttonGroupButtonIcon,draggable:!1,src:re.default})),s.default.createElement(w.default,{className:G.default.buttonGroupButton,onClick:e.onZoomIn},s.default.createElement("img",{alt:"Zoom In",className:G.default.buttonGroupButtonIcon,draggable:!1,src:ne.default}))))))))};ue.propTypes={canRedo:l.default.func.isRequired,canUndo:l.default.func.isRequired,canvas:l.default.instanceOf(Element),colorInfo:R.default.propTypes.colorInfo,format:l.default.oneOf(Object.keys(V.default)).isRequired,intl:o.intlShape,isEyeDropping:l.default.bool,name:l.default.string,onGroup:l.default.func.isRequired,onRedo:l.default.func.isRequired,onSendBackward:l.default.func.isRequired,onSendForward:l.default.func.isRequired,onSendToBack:l.default.func.isRequired,onSendToFront:l.default.func.isRequired,onSwitchToBitmap:l.default.func.isRequired,onSwitchToVector:l.default.func.isRequired,onUndo:l.default.func.isRequired,onUngroup:l.default.func.isRequired,onUpdateName:l.default.func.isRequired,onUpdateSvg:l.default.func.isRequired,onZoomIn:l.default.func.isRequired,onZoomOut:l.default.func.isRequired,onZoomReset:l.default.func.isRequired,rotationCenterX:l.default.number,rotationCenterY:l.default.number,setCanvas:l.default.func.isRequired,setTextArea:l.default.func.isRequired,svg:l.default.string,svgId:l.default.string,textArea:l.default.instanceOf(Element)},t.default=(0,o.injectIntl)(ue)},function(e,t,n){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(e,t,n){"use strict";var i=function(e){};e.exports=function(e,t,n,r,o,a,s,l){if(i(t),!e){var u;if(void 0===t)u=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[n,r,o,a,s,l],d=0;(u=new Error(t.replace(/%s/g,function(){return c[d++]}))).name="Invariant Violation"}throw u.framesToPop=1,u}}},function(e,t,n){"use strict";function i(e){return function(){return e}}var r=function(){};r.thatReturns=i,r.thatReturnsFalse=i(!1),r.thatReturnsTrue=i(!0),r.thatReturnsNull=i(null),r.thatReturnsThis=function(){return this},r.thatReturnsArgument=function(e){return e},e.exports=r},function(e,t,n){"use strict";var i=n(267),r=n(266),o=n(265);e.exports=function(){function e(e,t,n,i,a,s){s!==o&&r(!1,"Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types")}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t};return n.checkPropTypes=i,n.PropTypes=n,n}},function(e,t){},function(e,t,n){"use strict";n.r(t),n.d(t,"version",function(){return ke}),n.d(t,"parse",function(){return Ee}),n.d(t,"parseExpressionAt",function(){return Me}),n.d(t,"tokenizer",function(){return Oe}),n.d(t,"parse_dammit",function(){return Ce}),n.d(t,"LooseParser",function(){return xe}),n.d(t,"pluginsLoose",function(){return Se}),n.d(t,"addLooseExports",function(){return Te}),n.d(t,"Parser",function(){return N}),n.d(t,"plugins",function(){return z}),n.d(t,"defaultOptions",function(){return D}),n.d(t,"Position",function(){return A}),n.d(t,"SourceLocation",function(){return R}),n.d(t,"getLineInfo",function(){return B}),n.d(t,"Node",function(){return ee}),n.d(t,"TokenType",function(){return g}),n.d(t,"tokTypes",function(){return C}),n.d(t,"keywordTypes",function(){return b}),n.d(t,"TokContext",function(){return ie}),n.d(t,"tokContexts",function(){return re}),n.d(t,"isIdentifierChar",function(){return m}),n.d(t,"isIdentifierStart",function(){return p}),n.d(t,"Token",function(){return ye}),n.d(t,"isNewLine",function(){return k}),n.d(t,"lineBreak",function(){return x}),n.d(t,"lineBreakG",function(){return S}),n.d(t,"nonASCIIwhitespace",function(){return E});var i={3:"abstract boolean byte char class double enum export extends final float goto implements import int interface long native package private protected public short static super synchronized throws transient volatile",5:"class enum extends super const export import",6:"enum",strict:"implements interface let package private protected public static yield",strictBind:"eval arguments"},r="break case catch continue debugger default do else finally for function if return switch throw try var while with null true false instanceof typeof void delete new in this",o={5:r,6:r+" const class extends export import super"},a=/^in(stanceof)?$/,s="--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------",l="---------------------------------------------------------------------------------------------------------------------------------------------------",u=new RegExp("["+s+"]"),c=new RegExp("["+s+l+"]");s=l=null;var d=[0,11,2,25,2,18,2,1,2,14,3,13,35,122,70,52,268,28,4,48,48,31,14,29,6,37,11,29,3,35,5,7,2,4,43,157,19,35,5,35,5,39,9,51,157,310,10,21,11,7,153,5,3,0,2,43,2,1,4,0,3,22,11,22,10,30,66,18,2,1,11,21,11,25,71,55,7,1,65,0,16,3,2,2,2,26,45,28,4,28,36,7,2,27,28,53,11,21,11,18,14,17,111,72,56,50,14,50,785,52,76,44,33,24,27,35,42,34,4,0,13,47,15,3,22,0,2,0,36,17,2,24,85,6,2,0,2,3,2,14,2,9,8,46,39,7,3,1,3,21,2,6,2,1,2,4,4,0,19,0,13,4,159,52,19,3,54,47,21,1,2,0,185,46,42,3,37,47,21,0,60,42,86,25,391,63,32,0,257,0,11,39,8,0,22,0,12,39,3,3,55,56,264,8,2,36,18,0,50,29,113,6,2,1,2,37,22,0,698,921,103,110,18,195,2749,1070,4050,582,8634,568,8,30,114,29,19,47,17,3,32,20,6,18,881,68,12,0,67,12,65,1,31,6124,20,754,9486,286,82,395,2309,106,6,12,4,8,8,9,5991,84,2,70,2,1,3,0,3,1,3,3,2,11,2,0,2,6,2,64,2,3,3,7,2,6,2,27,2,3,2,4,2,0,4,6,2,339,3,24,2,24,2,30,2,24,2,30,2,24,2,30,2,24,2,30,2,24,2,7,4149,196,60,67,1213,3,2,26,2,1,2,0,3,0,2,9,2,3,2,0,2,0,7,0,5,0,2,0,2,0,2,2,2,1,2,0,3,0,2,0,2,0,2,0,2,0,2,1,2,0,3,3,2,6,2,3,2,3,2,0,2,9,2,16,6,2,2,4,2,16,4421,42710,42,4148,12,221,3,5761,15,7472,3104,541],h=[509,0,227,0,150,4,294,9,1368,2,2,1,6,3,41,2,5,0,166,1,1306,2,54,14,32,9,16,3,46,10,54,9,7,2,37,13,2,9,52,0,13,2,49,13,10,2,4,9,83,11,7,0,161,11,6,9,7,3,57,0,2,6,3,1,3,2,10,0,11,1,3,6,4,4,193,17,10,9,87,19,13,9,214,6,3,8,28,1,83,16,16,9,82,12,9,9,84,14,5,9,423,9,280,9,41,6,2,3,9,0,10,10,47,15,406,7,2,7,17,9,57,21,2,13,123,5,4,0,2,1,2,6,2,0,9,9,19719,9,135,4,60,6,26,9,1016,45,17,3,19723,1,5319,4,4,5,9,7,3,6,31,3,149,2,1418,49,513,54,5,49,9,0,15,0,23,4,2,14,1361,6,2,16,3,6,2,1,2,4,2214,6,110,6,6,9,792487,239];function f(e,t){for(var n=65536,i=0;i<t.length;i+=2){if((n+=t[i])>e)return!1;if((n+=t[i+1])>=e)return!0}}function p(e,t){return e<65?36===e:e<91||(e<97?95===e:e<123||(e<=65535?e>=170&&u.test(String.fromCharCode(e)):!1!==t&&f(e,d)))}function m(e,t){return e<48?36===e:e<58||!(e<65)&&(e<91||(e<97?95===e:e<123||(e<=65535?e>=170&&c.test(String.fromCharCode(e)):!1!==t&&(f(e,d)||f(e,h)))))}var g=function(e,t){void 0===t&&(t={}),this.label=e,this.keyword=t.keyword,this.beforeExpr=!!t.beforeExpr,this.startsExpr=!!t.startsExpr,this.isLoop=!!t.isLoop,this.isAssign=!!t.isAssign,this.prefix=!!t.prefix,this.postfix=!!t.postfix,this.binop=t.binop||null,this.updateContext=null};function v(e,t){return new g(e,{beforeExpr:!0,binop:t})}var y={beforeExpr:!0},_={startsExpr:!0},b={};function w(e,t){return void 0===t&&(t={}),t.keyword=e,b[e]=new g(e,t)}var C={num:new g("num",_),regexp:new g("regexp",_),string:new g("string",_),name:new g("name",_),eof:new g("eof"),bracketL:new g("[",{beforeExpr:!0,startsExpr:!0}),bracketR:new g("]"),braceL:new g("{",{beforeExpr:!0,startsExpr:!0}),braceR:new g("}"),parenL:new g("(",{beforeExpr:!0,startsExpr:!0}),parenR:new g(")"),comma:new g(",",y),semi:new g(";",y),colon:new g(":",y),dot:new g("."),question:new g("?",y),arrow:new g("=>",y),template:new g("template"),invalidTemplate:new g("invalidTemplate"),ellipsis:new g("...",y),backQuote:new g("`",_),dollarBraceL:new g("${",{beforeExpr:!0,startsExpr:!0}),eq:new g("=",{beforeExpr:!0,isAssign:!0}),assign:new g("_=",{beforeExpr:!0,isAssign:!0}),incDec:new g("++/--",{prefix:!0,postfix:!0,startsExpr:!0}),prefix:new g("!/~",{beforeExpr:!0,prefix:!0,startsExpr:!0}),logicalOR:v("||",1),logicalAND:v("&&",2),bitwiseOR:v("|",3),bitwiseXOR:v("^",4),bitwiseAND:v("&",5),equality:v("==/!=/===/!==",6),relational:v("</>/<=/>=",7),bitShift:v("<</>>/>>>",8),plusMin:new g("+/-",{beforeExpr:!0,binop:9,prefix:!0,startsExpr:!0}),modulo:v("%",10),star:v("*",10),slash:v("/",10),starstar:new g("**",{beforeExpr:!0}),_break:w("break"),_case:w("case",y),_catch:w("catch"),_continue:w("continue"),_debugger:w("debugger"),_default:w("default",y),_do:w("do",{isLoop:!0,beforeExpr:!0}),_else:w("else",y),_finally:w("finally"),_for:w("for",{isLoop:!0}),_function:w("function",_),_if:w("if"),_return:w("return",y),_switch:w("switch"),_throw:w("throw",y),_try:w("try"),_var:w("var"),_const:w("const"),_while:w("while",{isLoop:!0}),_with:w("with"),_new:w("new",{beforeExpr:!0,startsExpr:!0}),_this:w("this",_),_super:w("super",_),_class:w("class",_),_extends:w("extends",y),_export:w("export"),_import:w("import"),_null:w("null",_),_true:w("true",_),_false:w("false",_),_in:w("in",{beforeExpr:!0,binop:7}),_instanceof:w("instanceof",{beforeExpr:!0,binop:7}),_typeof:w("typeof",{beforeExpr:!0,prefix:!0,startsExpr:!0}),_void:w("void",{beforeExpr:!0,prefix:!0,startsExpr:!0}),_delete:w("delete",{beforeExpr:!0,prefix:!0,startsExpr:!0})},x=/\r\n?|\n|\u2028|\u2029/,S=new RegExp(x.source,"g");function k(e){return 10===e||13===e||8232===e||8233===e}var E=/[\u1680\u180e\u2000-\u200a\u202f\u205f\u3000\ufeff]/,M=/(?:\s|\/\/.*|\/\*[^]*?\*\/)*/g,O=Object.prototype,T=O.hasOwnProperty,I=O.toString;function P(e,t){return T.call(e,t)}var L=Array.isArray||function(e){return"[object Array]"===I.call(e)},A=function(e,t){this.line=e,this.column=t};A.prototype.offset=function(e){return new A(this.line,this.column+e)};var R=function(e,t,n){this.start=t,this.end=n,null!==e.sourceFile&&(this.source=e.sourceFile)};function B(e,t){for(var n=1,i=0;;){S.lastIndex=i;var r=S.exec(e);if(!(r&&r.index<t))return new A(n,t-i);++n,i=r.index+r[0].length}}var D={ecmaVersion:7,sourceType:"script",onInsertedSemicolon:null,onTrailingComma:null,allowReserved:null,allowReturnOutsideFunction:!1,allowImportExportEverywhere:!1,allowHashBang:!1,locations:!1,onToken:null,onComment:null,ranges:!1,program:null,sourceFile:null,directSourceFile:null,preserveParens:!1,plugins:{}};function F(e){var t={};for(var n in D)t[n]=e&&P(e,n)?e[n]:D[n];if(t.ecmaVersion>=2015&&(t.ecmaVersion-=2009),null==t.allowReserved&&(t.allowReserved=t.ecmaVersion<5),L(t.onToken)){var i=t.onToken;t.onToken=function(e){return i.push(e)}}return L(t.onComment)&&(t.onComment=function(e,t){return function(n,i,r,o,a,s){var l={type:n?"Block":"Line",value:i,start:r,end:o};e.locations&&(l.loc=new R(this,a,s)),e.ranges&&(l.range=[r,o]),t.push(l)}}(t,t.onComment)),t}var z={};function j(e){return new RegExp("^(?:"+e.replace(/ /g,"|")+")$")}var N=function(e,t,n){this.options=e=F(e),this.sourceFile=e.sourceFile,this.keywords=j(o[e.ecmaVersion>=6?6:5]);var r="";if(!e.allowReserved){for(var a=e.ecmaVersion;!(r=i[a]);a--);"module"==e.sourceType&&(r+=" await")}this.reservedWords=j(r);var s=(r?r+" ":"")+i.strict;this.reservedWordsStrict=j(s),this.reservedWordsStrictBind=j(s+" "+i.strictBind),this.input=String(t),this.containsEsc=!1,this.loadPlugins(e.plugins),n?(this.pos=n,this.lineStart=this.input.lastIndexOf("\n",n-1)+1,this.curLine=this.input.slice(0,this.lineStart).split(x).length):(this.pos=this.lineStart=0,this.curLine=1),this.type=C.eof,this.value=null,this.start=this.end=this.pos,this.startLoc=this.endLoc=this.curPosition(),this.lastTokEndLoc=this.lastTokStartLoc=null,this.lastTokStart=this.lastTokEnd=this.pos,this.context=this.initialContext(),this.exprAllowed=!0,this.inModule="module"===e.sourceType,this.strict=this.inModule||this.strictDirective(this.pos),this.potentialArrowAt=-1,this.inFunction=this.inGenerator=this.inAsync=!1,this.yieldPos=this.awaitPos=0,this.labels=[],0===this.pos&&e.allowHashBang&&"#!"===this.input.slice(0,2)&&this.skipLineComment(2),this.scopeStack=[],this.enterFunctionScope(),this.regexpState=null};N.prototype.isKeyword=function(e){return this.keywords.test(e)},N.prototype.isReservedWord=function(e){return this.reservedWords.test(e)},N.prototype.extend=function(e,t){this[e]=t(this[e])},N.prototype.loadPlugins=function(e){for(var t in e){var n=z[t];if(!n)throw new Error("Plugin '"+t+"' not found");n(this,e[t])}},N.prototype.parse=function(){var e=this.options.program||this.startNode();return this.nextToken(),this.parseTopLevel(e)};var W=N.prototype,U=/^(?:'((?:\\.|[^'])*?)'|"((?:\\.|[^"])*?)"|;)/;function H(){this.shorthandAssign=this.trailingComma=this.parenthesizedAssign=this.parenthesizedBind=this.doubleProto=-1}W.strictDirective=function(e){for(;;){M.lastIndex=e,e+=M.exec(this.input)[0].length;var t=U.exec(this.input.slice(e));if(!t)return!1;if("use strict"==(t[1]||t[2]))return!0;e+=t[0].length}},W.eat=function(e){return this.type===e&&(this.next(),!0)},W.isContextual=function(e){return this.type===C.name&&this.value===e&&!this.containsEsc},W.eatContextual=function(e){return!!this.isContextual(e)&&(this.next(),!0)},W.expectContextual=function(e){this.eatContextual(e)||this.unexpected()},W.canInsertSemicolon=function(){return this.type===C.eof||this.type===C.braceR||x.test(this.input.slice(this.lastTokEnd,this.start))},W.insertSemicolon=function(){if(this.canInsertSemicolon())return this.options.onInsertedSemicolon&&this.options.onInsertedSemicolon(this.lastTokEnd,this.lastTokEndLoc),!0},W.semicolon=function(){this.eat(C.semi)||this.insertSemicolon()||this.unexpected()},W.afterTrailingComma=function(e,t){if(this.type==e)return this.options.onTrailingComma&&this.options.onTrailingComma(this.lastTokStart,this.lastTokStartLoc),t||this.next(),!0},W.expect=function(e){this.eat(e)||this.unexpected()},W.unexpected=function(e){this.raise(null!=e?e:this.start,"Unexpected token")},W.checkPatternErrors=function(e,t){if(e){e.trailingComma>-1&&this.raiseRecoverable(e.trailingComma,"Comma is not permitted after the rest element");var n=t?e.parenthesizedAssign:e.parenthesizedBind;n>-1&&this.raiseRecoverable(n,"Parenthesized pattern")}},W.checkExpressionErrors=function(e,t){if(!e)return!1;var n=e.shorthandAssign,i=e.doubleProto;if(!t)return n>=0||i>=0;n>=0&&this.raise(n,"Shorthand property assignments are valid only in destructuring patterns"),i>=0&&this.raiseRecoverable(i,"Redefinition of __proto__ property")},W.checkYieldAwaitInDefaultParams=function(){this.yieldPos&&(!this.awaitPos||this.yieldPos<this.awaitPos)&&this.raise(this.yieldPos,"Yield expression cannot be a default value"),this.awaitPos&&this.raise(this.awaitPos,"Await expression cannot be a default value")},W.isSimpleAssignTarget=function(e){return"ParenthesizedExpression"===e.type?this.isSimpleAssignTarget(e.expression):"Identifier"===e.type||"MemberExpression"===e.type};var V=N.prototype;V.parseTopLevel=function(e){var t={};for(e.body||(e.body=[]);this.type!==C.eof;){var n=this.parseStatement(!0,!0,t);e.body.push(n)}return this.adaptDirectivePrologue(e.body),this.next(),this.options.ecmaVersion>=6&&(e.sourceType=this.options.sourceType),this.finishNode(e,"Program")};var q={kind:"loop"},G={kind:"switch"};V.isLet=function(){if(this.options.ecmaVersion<6||!this.isContextual("let"))return!1;M.lastIndex=this.pos;var e=M.exec(this.input),t=this.pos+e[0].length,n=this.input.charCodeAt(t);if(91===n||123==n)return!0;if(p(n,!0)){for(var i=t+1;m(this.input.charCodeAt(i),!0);)++i;var r=this.input.slice(t,i);if(!a.test(r))return!0}return!1},V.isAsyncFunction=function(){if(this.options.ecmaVersion<8||!this.isContextual("async"))return!1;M.lastIndex=this.pos;var e=M.exec(this.input),t=this.pos+e[0].length;return!(x.test(this.input.slice(this.pos,t))||"function"!==this.input.slice(t,t+8)||t+8!=this.input.length&&m(this.input.charAt(t+8)))},V.parseStatement=function(e,t,n){var i,r=this.type,o=this.startNode();switch(this.isLet()&&(r=C._var,i="let"),r){case C._break:case C._continue:return this.parseBreakContinueStatement(o,r.keyword);case C._debugger:return this.parseDebuggerStatement(o);case C._do:return this.parseDoStatement(o);case C._for:return this.parseForStatement(o);case C._function:return!e&&this.options.ecmaVersion>=6&&this.unexpected(),this.parseFunctionStatement(o,!1);case C._class:return e||this.unexpected(),this.parseClass(o,!0);case C._if:return this.parseIfStatement(o);case C._return:return this.parseReturnStatement(o);case C._switch:return this.parseSwitchStatement(o);case C._throw:return this.parseThrowStatement(o);case C._try:return this.parseTryStatement(o);case C._const:case C._var:return i=i||this.value,e||"var"==i||this.unexpected(),this.parseVarStatement(o,i);case C._while:return this.parseWhileStatement(o);case C._with:return this.parseWithStatement(o);case C.braceL:return this.parseBlock();case C.semi:return this.parseEmptyStatement(o);case C._export:case C._import:return this.options.allowImportExportEverywhere||(t||this.raise(this.start,"'import' and 'export' may only appear at the top level"),this.inModule||this.raise(this.start,"'import' and 'export' may appear only with 'sourceType: module'")),r===C._import?this.parseImport(o):this.parseExport(o,n);default:if(this.isAsyncFunction())return e||this.unexpected(),this.next(),this.parseFunctionStatement(o,!0);var a=this.value,s=this.parseExpression();return r===C.name&&"Identifier"===s.type&&this.eat(C.colon)?this.parseLabeledStatement(o,a,s):this.parseExpressionStatement(o,s)}},V.parseBreakContinueStatement=function(e,t){var n="break"==t;this.next(),this.eat(C.semi)||this.insertSemicolon()?e.label=null:this.type!==C.name?this.unexpected():(e.label=this.parseIdent(),this.semicolon());for(var i=0;i<this.labels.length;++i){var r=this.labels[i];if(null==e.label||r.name===e.label.name){if(null!=r.kind&&(n||"loop"===r.kind))break;if(e.label&&n)break}}return i===this.labels.length&&this.raise(e.start,"Unsyntactic "+t),this.finishNode(e,n?"BreakStatement":"ContinueStatement")},V.parseDebuggerStatement=function(e){return this.next(),this.semicolon(),this.finishNode(e,"DebuggerStatement")},V.parseDoStatement=function(e){return this.next(),this.labels.push(q),e.body=this.parseStatement(!1),this.labels.pop(),this.expect(C._while),e.test=this.parseParenExpression(),this.options.ecmaVersion>=6?this.eat(C.semi):this.semicolon(),this.finishNode(e,"DoWhileStatement")},V.parseForStatement=function(e){this.next();var t=this.options.ecmaVersion>=9&&this.inAsync&&this.eatContextual("await")?this.lastTokStart:-1;if(this.labels.push(q),this.enterLexicalScope(),this.expect(C.parenL),this.type===C.semi)return t>-1&&this.unexpected(t),this.parseFor(e,null);var n=this.isLet();if(this.type===C._var||this.type===C._const||n){var i=this.startNode(),r=n?"let":this.value;return this.next(),this.parseVar(i,!0,r),this.finishNode(i,"VariableDeclaration"),!(this.type===C._in||this.options.ecmaVersion>=6&&this.isContextual("of"))||1!==i.declarations.length||"var"!==r&&i.declarations[0].init?(t>-1&&this.unexpected(t),this.parseFor(e,i)):(this.options.ecmaVersion>=9&&(this.type===C._in?t>-1&&this.unexpected(t):e.await=t>-1),this.parseForIn(e,i))}var o=new H,a=this.parseExpression(!0,o);return this.type===C._in||this.options.ecmaVersion>=6&&this.isContextual("of")?(this.options.ecmaVersion>=9&&(this.type===C._in?t>-1&&this.unexpected(t):e.await=t>-1),this.toAssignable(a,!1,o),this.checkLVal(a),this.parseForIn(e,a)):(this.checkExpressionErrors(o,!0),t>-1&&this.unexpected(t),this.parseFor(e,a))},V.parseFunctionStatement=function(e,t){return this.next(),this.parseFunction(e,!0,!1,t)},V.parseIfStatement=function(e){return this.next(),e.test=this.parseParenExpression(),e.consequent=this.parseStatement(!this.strict&&this.type==C._function),e.alternate=this.eat(C._else)?this.parseStatement(!this.strict&&this.type==C._function):null,this.finishNode(e,"IfStatement")},V.parseReturnStatement=function(e){return this.inFunction||this.options.allowReturnOutsideFunction||this.raise(this.start,"'return' outside of function"),this.next(),this.eat(C.semi)||this.insertSemicolon()?e.argument=null:(e.argument=this.parseExpression(),this.semicolon()),this.finishNode(e,"ReturnStatement")},V.parseSwitchStatement=function(e){var t;this.next(),e.discriminant=this.parseParenExpression(),e.cases=[],this.expect(C.braceL),this.labels.push(G),this.enterLexicalScope();for(var n=!1;this.type!=C.braceR;)if(this.type===C._case||this.type===C._default){var i=this.type===C._case;t&&this.finishNode(t,"SwitchCase"),e.cases.push(t=this.startNode()),t.consequent=[],this.next(),i?t.test=this.parseExpression():(n&&this.raiseRecoverable(this.lastTokStart,"Multiple default clauses"),n=!0,t.test=null),this.expect(C.colon)}else t||this.unexpected(),t.consequent.push(this.parseStatement(!0));return this.exitLexicalScope(),t&&this.finishNode(t,"SwitchCase"),this.next(),this.labels.pop(),this.finishNode(e,"SwitchStatement")},V.parseThrowStatement=function(e){return this.next(),x.test(this.input.slice(this.lastTokEnd,this.start))&&this.raise(this.lastTokEnd,"Illegal newline after throw"),e.argument=this.parseExpression(),this.semicolon(),this.finishNode(e,"ThrowStatement")};var Z=[];V.parseTryStatement=function(e){if(this.next(),e.block=this.parseBlock(),e.handler=null,this.type===C._catch){var t=this.startNode();this.next(),this.expect(C.parenL),t.param=this.parseBindingAtom(),this.enterLexicalScope(),this.checkLVal(t.param,"let"),this.expect(C.parenR),t.body=this.parseBlock(!1),this.exitLexicalScope(),e.handler=this.finishNode(t,"CatchClause")}return e.finalizer=this.eat(C._finally)?this.parseBlock():null,e.handler||e.finalizer||this.raise(e.start,"Missing catch or finally clause"),this.finishNode(e,"TryStatement")},V.parseVarStatement=function(e,t){return this.next(),this.parseVar(e,!1,t),this.semicolon(),this.finishNode(e,"VariableDeclaration")},V.parseWhileStatement=function(e){return this.next(),e.test=this.parseParenExpression(),this.labels.push(q),e.body=this.parseStatement(!1),this.labels.pop(),this.finishNode(e,"WhileStatement")},V.parseWithStatement=function(e){return this.strict&&this.raise(this.start,"'with' in strict mode"),this.next(),e.object=this.parseParenExpression(),e.body=this.parseStatement(!1),this.finishNode(e,"WithStatement")},V.parseEmptyStatement=function(e){return this.next(),this.finishNode(e,"EmptyStatement")},V.parseLabeledStatement=function(e,t,n){for(var i=0,r=this.labels;i<r.length;i+=1){r[i].name===t&&this.raise(n.start,"Label '"+t+"' is already declared")}for(var o=this.type.isLoop?"loop":this.type===C._switch?"switch":null,a=this.labels.length-1;a>=0;a--){var s=this.labels[a];if(s.statementStart!=e.start)break;s.statementStart=this.start,s.kind=o}return this.labels.push({name:t,kind:o,statementStart:this.start}),e.body=this.parseStatement(!0),("ClassDeclaration"==e.body.type||"VariableDeclaration"==e.body.type&&"var"!=e.body.kind||"FunctionDeclaration"==e.body.type&&(this.strict||e.body.generator))&&this.raiseRecoverable(e.body.start,"Invalid labeled declaration"),this.labels.pop(),e.label=n,this.finishNode(e,"LabeledStatement")},V.parseExpressionStatement=function(e,t){return e.expression=t,this.semicolon(),this.finishNode(e,"ExpressionStatement")},V.parseBlock=function(e){void 0===e&&(e=!0);var t=this.startNode();for(t.body=[],this.expect(C.braceL),e&&this.enterLexicalScope();!this.eat(C.braceR);){var n=this.parseStatement(!0);t.body.push(n)}return e&&this.exitLexicalScope(),this.finishNode(t,"BlockStatement")},V.parseFor=function(e,t){return e.init=t,this.expect(C.semi),e.test=this.type===C.semi?null:this.parseExpression(),this.expect(C.semi),e.update=this.type===C.parenR?null:this.parseExpression(),this.expect(C.parenR),this.exitLexicalScope(),e.body=this.parseStatement(!1),this.labels.pop(),this.finishNode(e,"ForStatement")},V.parseForIn=function(e,t){var n=this.type===C._in?"ForInStatement":"ForOfStatement";return this.next(),"ForInStatement"==n&&("AssignmentPattern"===t.type||"VariableDeclaration"===t.type&&null!=t.declarations[0].init&&(this.strict||"Identifier"!==t.declarations[0].id.type))&&this.raise(t.start,"Invalid assignment in for-in loop head"),e.left=t,e.right="ForInStatement"==n?this.parseExpression():this.parseMaybeAssign(),this.expect(C.parenR),this.exitLexicalScope(),e.body=this.parseStatement(!1),this.labels.pop(),this.finishNode(e,n)},V.parseVar=function(e,t,n){for(e.declarations=[],e.kind=n;;){var i=this.startNode();if(this.parseVarId(i,n),this.eat(C.eq)?i.init=this.parseMaybeAssign(t):"const"!==n||this.type===C._in||this.options.ecmaVersion>=6&&this.isContextual("of")?"Identifier"==i.id.type||t&&(this.type===C._in||this.isContextual("of"))?i.init=null:this.raise(this.lastTokEnd,"Complex binding patterns require an initialization value"):this.unexpected(),e.declarations.push(this.finishNode(i,"VariableDeclarator")),!this.eat(C.comma))break}return e},V.parseVarId=function(e,t){e.id=this.parseBindingAtom(t),this.checkLVal(e.id,t,!1)},V.parseFunction=function(e,t,n,i){this.initFunction(e),(this.options.ecmaVersion>=9||this.options.ecmaVersion>=6&&!i)&&(e.generator=this.eat(C.star)),this.options.ecmaVersion>=8&&(e.async=!!i),t&&(e.id="nullableID"===t&&this.type!=C.name?null:this.parseIdent(),e.id&&this.checkLVal(e.id,"var"));var r=this.inGenerator,o=this.inAsync,a=this.yieldPos,s=this.awaitPos,l=this.inFunction;return this.inGenerator=e.generator,this.inAsync=e.async,this.yieldPos=0,this.awaitPos=0,this.inFunction=!0,this.enterFunctionScope(),t||(e.id=this.type==C.name?this.parseIdent():null),this.parseFunctionParams(e),this.parseFunctionBody(e,n),this.inGenerator=r,this.inAsync=o,this.yieldPos=a,this.awaitPos=s,this.inFunction=l,this.finishNode(e,t?"FunctionDeclaration":"FunctionExpression")},V.parseFunctionParams=function(e){this.expect(C.parenL),e.params=this.parseBindingList(C.parenR,!1,this.options.ecmaVersion>=8),this.checkYieldAwaitInDefaultParams()},V.parseClass=function(e,t){this.next(),this.parseClassId(e,t),this.parseClassSuper(e);var n=this.startNode(),i=!1;for(n.body=[],this.expect(C.braceL);!this.eat(C.braceR);){var r=this.parseClassMember(n);r&&"MethodDefinition"===r.type&&"constructor"===r.kind&&(i&&this.raise(r.start,"Duplicate constructor in the same class"),i=!0)}return e.body=this.finishNode(n,"ClassBody"),this.finishNode(e,t?"ClassDeclaration":"ClassExpression")},V.parseClassMember=function(e){var t=this;if(this.eat(C.semi))return null;var n=this.startNode(),i=function(e,i){void 0===i&&(i=!1);var r=t.start,o=t.startLoc;return!!t.eatContextual(e)&&(!(t.type===C.parenL||i&&t.canInsertSemicolon())||(n.key&&t.unexpected(),n.computed=!1,n.key=t.startNodeAt(r,o),n.key.name=e,t.finishNode(n.key,"Identifier"),!1))};n.kind="method",n.static=i("static");var r=this.eat(C.star),o=!1;r||(this.options.ecmaVersion>=8&&i("async",!0)?(o=!0,r=this.options.ecmaVersion>=9&&this.eat(C.star)):i("get")?n.kind="get":i("set")&&(n.kind="set")),n.key||this.parsePropertyName(n);var a=n.key;return n.computed||n.static||!("Identifier"===a.type&&"constructor"===a.name||"Literal"===a.type&&"constructor"===a.value)?n.static&&"Identifier"===a.type&&"prototype"===a.name&&this.raise(a.start,"Classes may not have a static property named prototype"):("method"!==n.kind&&this.raise(a.start,"Constructor can't have get/set modifier"),r&&this.raise(a.start,"Constructor can't be a generator"),o&&this.raise(a.start,"Constructor can't be an async method"),n.kind="constructor"),this.parseClassMethod(e,n,r,o),"get"===n.kind&&0!==n.value.params.length&&this.raiseRecoverable(n.value.start,"getter should have no params"),"set"===n.kind&&1!==n.value.params.length&&this.raiseRecoverable(n.value.start,"setter should have exactly one param"),"set"===n.kind&&"RestElement"===n.value.params[0].type&&this.raiseRecoverable(n.value.params[0].start,"Setter cannot use rest params"),n},V.parseClassMethod=function(e,t,n,i){t.value=this.parseMethod(n,i),e.body.push(this.finishNode(t,"MethodDefinition"))},V.parseClassId=function(e,t){e.id=this.type===C.name?this.parseIdent():!0===t?this.unexpected():null},V.parseClassSuper=function(e){e.superClass=this.eat(C._extends)?this.parseExprSubscripts():null},V.parseExport=function(e,t){if(this.next(),this.eat(C.star))return this.expectContextual("from"),this.type!==C.string&&this.unexpected(),e.source=this.parseExprAtom(),this.semicolon(),this.finishNode(e,"ExportAllDeclaration");if(this.eat(C._default)){var n;if(this.checkExport(t,"default",this.lastTokStart),this.type===C._function||(n=this.isAsyncFunction())){var i=this.startNode();this.next(),n&&this.next(),e.declaration=this.parseFunction(i,"nullableID",!1,n)}else if(this.type===C._class){var r=this.startNode();e.declaration=this.parseClass(r,"nullableID")}else e.declaration=this.parseMaybeAssign(),this.semicolon();return this.finishNode(e,"ExportDefaultDeclaration")}if(this.shouldParseExportStatement())e.declaration=this.parseStatement(!0),"VariableDeclaration"===e.declaration.type?this.checkVariableExport(t,e.declaration.declarations):this.checkExport(t,e.declaration.id.name,e.declaration.id.start),e.specifiers=[],e.source=null;else{if(e.declaration=null,e.specifiers=this.parseExportSpecifiers(t),this.eatContextual("from"))this.type!==C.string&&this.unexpected(),e.source=this.parseExprAtom();else{for(var o=0,a=e.specifiers;o<a.length;o+=1){var s=a[o];this.checkUnreserved(s.local)}e.source=null}this.semicolon()}return this.finishNode(e,"ExportNamedDeclaration")},V.checkExport=function(e,t,n){e&&(P(e,t)&&this.raiseRecoverable(n,"Duplicate export '"+t+"'"),e[t]=!0)},V.checkPatternExport=function(e,t){var n=t.type;if("Identifier"==n)this.checkExport(e,t.name,t.start);else if("ObjectPattern"==n)for(var i=0,r=t.properties;i<r.length;i+=1){var o=r[i];this.checkPatternExport(e,o)}else if("ArrayPattern"==n)for(var a=0,s=t.elements;a<s.length;a+=1){var l=s[a];l&&this.checkPatternExport(e,l)}else"Property"==n?this.checkPatternExport(e,t.value):"AssignmentPattern"==n?this.checkPatternExport(e,t.left):"RestElement"==n?this.checkPatternExport(e,t.argument):"ParenthesizedExpression"==n&&this.checkPatternExport(e,t.expression)},V.checkVariableExport=function(e,t){if(e)for(var n=0,i=t;n<i.length;n+=1){var r=i[n];this.checkPatternExport(e,r.id)}},V.shouldParseExportStatement=function(){return"var"===this.type.keyword||"const"===this.type.keyword||"class"===this.type.keyword||"function"===this.type.keyword||this.isLet()||this.isAsyncFunction()},V.parseExportSpecifiers=function(e){var t=[],n=!0;for(this.expect(C.braceL);!this.eat(C.braceR);){if(n)n=!1;else if(this.expect(C.comma),this.afterTrailingComma(C.braceR))break;var i=this.startNode();i.local=this.parseIdent(!0),i.exported=this.eatContextual("as")?this.parseIdent(!0):i.local,this.checkExport(e,i.exported.name,i.exported.start),t.push(this.finishNode(i,"ExportSpecifier"))}return t},V.parseImport=function(e){return this.next(),this.type===C.string?(e.specifiers=Z,e.source=this.parseExprAtom()):(e.specifiers=this.parseImportSpecifiers(),this.expectContextual("from"),e.source=this.type===C.string?this.parseExprAtom():this.unexpected()),this.semicolon(),this.finishNode(e,"ImportDeclaration")},V.parseImportSpecifiers=function(){var e=[],t=!0;if(this.type===C.name){var n=this.startNode();if(n.local=this.parseIdent(),this.checkLVal(n.local,"let"),e.push(this.finishNode(n,"ImportDefaultSpecifier")),!this.eat(C.comma))return e}if(this.type===C.star){var i=this.startNode();return this.next(),this.expectContextual("as"),i.local=this.parseIdent(),this.checkLVal(i.local,"let"),e.push(this.finishNode(i,"ImportNamespaceSpecifier")),e}for(this.expect(C.braceL);!this.eat(C.braceR);){if(t)t=!1;else if(this.expect(C.comma),this.afterTrailingComma(C.braceR))break;var r=this.startNode();r.imported=this.parseIdent(!0),this.eatContextual("as")?r.local=this.parseIdent():(this.checkUnreserved(r.imported),r.local=r.imported),this.checkLVal(r.local,"let"),e.push(this.finishNode(r,"ImportSpecifier"))}return e},V.adaptDirectivePrologue=function(e){for(var t=0;t<e.length&&this.isDirectiveCandidate(e[t]);++t)e[t].directive=e[t].expression.raw.slice(1,-1)},V.isDirectiveCandidate=function(e){return"ExpressionStatement"===e.type&&"Literal"===e.expression.type&&"string"==typeof e.expression.value&&('"'===this.input[e.start]||"'"===this.input[e.start])};var K=N.prototype;K.toAssignable=function(e,t,n){if(this.options.ecmaVersion>=6&&e)switch(e.type){case"Identifier":this.inAsync&&"await"===e.name&&this.raise(e.start,"Can not use 'await' as identifier inside an async function");break;case"ObjectPattern":case"ArrayPattern":case"RestElement":break;case"ObjectExpression":e.type="ObjectPattern",n&&this.checkPatternErrors(n,!0);for(var i=0,r=e.properties;i<r.length;i+=1){var o=r[i];this.toAssignable(o,t),"RestElement"!==o.type||"ArrayPattern"!==o.argument.type&&"ObjectPattern"!==o.argument.type||this.raise(o.argument.start,"Unexpected token")}break;case"Property":"init"!==e.kind&&this.raise(e.key.start,"Object pattern can't contain getter or setter"),this.toAssignable(e.value,t);break;case"ArrayExpression":e.type="ArrayPattern",n&&this.checkPatternErrors(n,!0),this.toAssignableList(e.elements,t);break;case"SpreadElement":e.type="RestElement",this.toAssignable(e.argument,t),"AssignmentPattern"===e.argument.type&&this.raise(e.argument.start,"Rest elements cannot have a default value");break;case"AssignmentExpression":"="!==e.operator&&this.raise(e.left.end,"Only '=' operator can be used for specifying default value."),e.type="AssignmentPattern",delete e.operator,this.toAssignable(e.left,t);case"AssignmentPattern":break;case"ParenthesizedExpression":this.toAssignable(e.expression,t);break;case"MemberExpression":if(!t)break;default:this.raise(e.start,"Assigning to rvalue")}else n&&this.checkPatternErrors(n,!0);return e},K.toAssignableList=function(e,t){for(var n=e.length,i=0;i<n;i++){var r=e[i];r&&this.toAssignable(r,t)}if(n){var o=e[n-1];6===this.options.ecmaVersion&&t&&o&&"RestElement"===o.type&&"Identifier"!==o.argument.type&&this.unexpected(o.argument.start)}return e},K.parseSpread=function(e){var t=this.startNode();return this.next(),t.argument=this.parseMaybeAssign(!1,e),this.finishNode(t,"SpreadElement")},K.parseRestBinding=function(){var e=this.startNode();return this.next(),6===this.options.ecmaVersion&&this.type!==C.name&&this.unexpected(),e.argument=this.parseBindingAtom(),this.finishNode(e,"RestElement")},K.parseBindingAtom=function(){if(this.options.ecmaVersion>=6)switch(this.type){case C.bracketL:var e=this.startNode();return this.next(),e.elements=this.parseBindingList(C.bracketR,!0,!0),this.finishNode(e,"ArrayPattern");case C.braceL:return this.parseObj(!0)}return this.parseIdent()},K.parseBindingList=function(e,t,n){for(var i=[],r=!0;!this.eat(e);)if(r?r=!1:this.expect(C.comma),t&&this.type===C.comma)i.push(null);else{if(n&&this.afterTrailingComma(e))break;if(this.type===C.ellipsis){var o=this.parseRestBinding();this.parseBindingListItem(o),i.push(o),this.type===C.comma&&this.raise(this.start,"Comma is not permitted after the rest element"),this.expect(e);break}var a=this.parseMaybeDefault(this.start,this.startLoc);this.parseBindingListItem(a),i.push(a)}return i},K.parseBindingListItem=function(e){return e},K.parseMaybeDefault=function(e,t,n){if(n=n||this.parseBindingAtom(),this.options.ecmaVersion<6||!this.eat(C.eq))return n;var i=this.startNodeAt(e,t);return i.left=n,i.right=this.parseMaybeAssign(),this.finishNode(i,"AssignmentPattern")},K.checkLVal=function(e,t,n){switch(e.type){case"Identifier":this.strict&&this.reservedWordsStrictBind.test(e.name)&&this.raiseRecoverable(e.start,(t?"Binding ":"Assigning to ")+e.name+" in strict mode"),n&&(P(n,e.name)&&this.raiseRecoverable(e.start,"Argument name clash"),n[e.name]=!0),t&&"none"!==t&&(("var"===t&&!this.canDeclareVarName(e.name)||"var"!==t&&!this.canDeclareLexicalName(e.name))&&this.raiseRecoverable(e.start,"Identifier '"+e.name+"' has already been declared"),"var"===t?this.declareVarName(e.name):this.declareLexicalName(e.name));break;case"MemberExpression":t&&this.raiseRecoverable(e.start,"Binding member expression");break;case"ObjectPattern":for(var i=0,r=e.properties;i<r.length;i+=1){var o=r[i];this.checkLVal(o,t,n)}break;case"Property":this.checkLVal(e.value,t,n);break;case"ArrayPattern":for(var a=0,s=e.elements;a<s.length;a+=1){var l=s[a];l&&this.checkLVal(l,t,n)}break;case"AssignmentPattern":this.checkLVal(e.left,t,n);break;case"RestElement":this.checkLVal(e.argument,t,n);break;case"ParenthesizedExpression":this.checkLVal(e.expression,t,n);break;default:this.raise(e.start,(t?"Binding":"Assigning to")+" rvalue")}};var X=N.prototype;X.checkPropClash=function(e,t,n){if(!(this.options.ecmaVersion>=9&&"SpreadElement"===e.type||this.options.ecmaVersion>=6&&(e.computed||e.method||e.shorthand))){var i,r=e.key;switch(r.type){case"Identifier":i=r.name;break;case"Literal":i=String(r.value);break;default:return}var o=e.kind;if(this.options.ecmaVersion>=6)"__proto__"===i&&"init"===o&&(t.proto&&(n&&n.doubleProto<0?n.doubleProto=r.start:this.raiseRecoverable(r.start,"Redefinition of __proto__ property")),t.proto=!0);else{var a=t[i="$"+i];if(a)("init"===o?this.strict&&a.init||a.get||a.set:a.init||a[o])&&this.raiseRecoverable(r.start,"Redefinition of property");else a=t[i]={init:!1,get:!1,set:!1};a[o]=!0}}},X.parseExpression=function(e,t){var n=this.start,i=this.startLoc,r=this.parseMaybeAssign(e,t);if(this.type===C.comma){var o=this.startNodeAt(n,i);for(o.expressions=[r];this.eat(C.comma);)o.expressions.push(this.parseMaybeAssign(e,t));return this.finishNode(o,"SequenceExpression")}return r},X.parseMaybeAssign=function(e,t,n){if(this.inGenerator&&this.isContextual("yield"))return this.parseYield();var i=!1,r=-1,o=-1;t?(r=t.parenthesizedAssign,o=t.trailingComma,t.parenthesizedAssign=t.trailingComma=-1):(t=new H,i=!0);var a=this.start,s=this.startLoc;this.type!=C.parenL&&this.type!=C.name||(this.potentialArrowAt=this.start);var l=this.parseMaybeConditional(e,t);if(n&&(l=n.call(this,l,a,s)),this.type.isAssign){var u=this.startNodeAt(a,s);return u.operator=this.value,u.left=this.type===C.eq?this.toAssignable(l,!1,t):l,i||H.call(t),t.shorthandAssign=-1,this.checkLVal(l),this.next(),u.right=this.parseMaybeAssign(e),this.finishNode(u,"AssignmentExpression")}return i&&this.checkExpressionErrors(t,!0),r>-1&&(t.parenthesizedAssign=r),o>-1&&(t.trailingComma=o),l},X.parseMaybeConditional=function(e,t){var n=this.start,i=this.startLoc,r=this.parseExprOps(e,t);if(this.checkExpressionErrors(t))return r;if(this.eat(C.question)){var o=this.startNodeAt(n,i);return o.test=r,o.consequent=this.parseMaybeAssign(),this.expect(C.colon),o.alternate=this.parseMaybeAssign(e),this.finishNode(o,"ConditionalExpression")}return r},X.parseExprOps=function(e,t){var n=this.start,i=this.startLoc,r=this.parseMaybeUnary(t,!1);return this.checkExpressionErrors(t)?r:r.start==n&&"ArrowFunctionExpression"===r.type?r:this.parseExprOp(r,n,i,-1,e)},X.parseExprOp=function(e,t,n,i,r){var o=this.type.binop;if(null!=o&&(!r||this.type!==C._in)&&o>i){var a=this.type===C.logicalOR||this.type===C.logicalAND,s=this.value;this.next();var l=this.start,u=this.startLoc,c=this.parseExprOp(this.parseMaybeUnary(null,!1),l,u,o,r),d=this.buildBinary(t,n,e,c,s,a);return this.parseExprOp(d,t,n,i,r)}return e},X.buildBinary=function(e,t,n,i,r,o){var a=this.startNodeAt(e,t);return a.left=n,a.operator=r,a.right=i,this.finishNode(a,o?"LogicalExpression":"BinaryExpression")},X.parseMaybeUnary=function(e,t){var n,i=this.start,r=this.startLoc;if(this.inAsync&&this.isContextual("await"))n=this.parseAwait(),t=!0;else if(this.type.prefix){var o=this.startNode(),a=this.type===C.incDec;o.operator=this.value,o.prefix=!0,this.next(),o.argument=this.parseMaybeUnary(null,!0),this.checkExpressionErrors(e,!0),a?this.checkLVal(o.argument):this.strict&&"delete"===o.operator&&"Identifier"===o.argument.type?this.raiseRecoverable(o.start,"Deleting local variable in strict mode"):t=!0,n=this.finishNode(o,a?"UpdateExpression":"UnaryExpression")}else{if(n=this.parseExprSubscripts(e),this.checkExpressionErrors(e))return n;for(;this.type.postfix&&!this.canInsertSemicolon();){var s=this.startNodeAt(i,r);s.operator=this.value,s.prefix=!1,s.argument=n,this.checkLVal(n),this.next(),n=this.finishNode(s,"UpdateExpression")}}return!t&&this.eat(C.starstar)?this.buildBinary(i,r,n,this.parseMaybeUnary(null,!1),"**",!1):n},X.parseExprSubscripts=function(e){var t=this.start,n=this.startLoc,i=this.parseExprAtom(e),r="ArrowFunctionExpression"===i.type&&")"!==this.input.slice(this.lastTokStart,this.lastTokEnd);if(this.checkExpressionErrors(e)||r)return i;var o=this.parseSubscripts(i,t,n);return e&&"MemberExpression"===o.type&&(e.parenthesizedAssign>=o.start&&(e.parenthesizedAssign=-1),e.parenthesizedBind>=o.start&&(e.parenthesizedBind=-1)),o},X.parseSubscripts=function(e,t,n,i){for(var r=this.options.ecmaVersion>=8&&"Identifier"===e.type&&"async"===e.name&&this.lastTokEnd==e.end&&!this.canInsertSemicolon()&&"async"===this.input.slice(e.start,e.end),o=void 0;;)if((o=this.eat(C.bracketL))||this.eat(C.dot)){var a=this.startNodeAt(t,n);a.object=e,a.property=o?this.parseExpression():this.parseIdent(!0),a.computed=!!o,o&&this.expect(C.bracketR),e=this.finishNode(a,"MemberExpression")}else if(!i&&this.eat(C.parenL)){var s=new H,l=this.yieldPos,u=this.awaitPos;this.yieldPos=0,this.awaitPos=0;var c=this.parseExprList(C.parenR,this.options.ecmaVersion>=8,!1,s);if(r&&!this.canInsertSemicolon()&&this.eat(C.arrow))return this.checkPatternErrors(s,!1),this.checkYieldAwaitInDefaultParams(),this.yieldPos=l,this.awaitPos=u,this.parseArrowExpression(this.startNodeAt(t,n),c,!0);this.checkExpressionErrors(s,!0),this.yieldPos=l||this.yieldPos,this.awaitPos=u||this.awaitPos;var d=this.startNodeAt(t,n);d.callee=e,d.arguments=c,e=this.finishNode(d,"CallExpression")}else{if(this.type!==C.backQuote)return e;var h=this.startNodeAt(t,n);h.tag=e,h.quasi=this.parseTemplate({isTagged:!0}),e=this.finishNode(h,"TaggedTemplateExpression")}},X.parseExprAtom=function(e){var t,n=this.potentialArrowAt==this.start;switch(this.type){case C._super:return this.inFunction||this.raise(this.start,"'super' outside of function or class"),t=this.startNode(),this.next(),this.type!==C.dot&&this.type!==C.bracketL&&this.type!==C.parenL&&this.unexpected(),this.finishNode(t,"Super");case C._this:return t=this.startNode(),this.next(),this.finishNode(t,"ThisExpression");case C.name:var i=this.start,r=this.startLoc,o=this.containsEsc,a=this.parseIdent(this.type!==C.name);if(this.options.ecmaVersion>=8&&!o&&"async"===a.name&&!this.canInsertSemicolon()&&this.eat(C._function))return this.parseFunction(this.startNodeAt(i,r),!1,!1,!0);if(n&&!this.canInsertSemicolon()){if(this.eat(C.arrow))return this.parseArrowExpression(this.startNodeAt(i,r),[a],!1);if(this.options.ecmaVersion>=8&&"async"===a.name&&this.type===C.name&&!o)return a=this.parseIdent(),!this.canInsertSemicolon()&&this.eat(C.arrow)||this.unexpected(),this.parseArrowExpression(this.startNodeAt(i,r),[a],!0)}return a;case C.regexp:var s=this.value;return(t=this.parseLiteral(s.value)).regex={pattern:s.pattern,flags:s.flags},t;case C.num:case C.string:return this.parseLiteral(this.value);case C._null:case C._true:case C._false:return(t=this.startNode()).value=this.type===C._null?null:this.type===C._true,t.raw=this.type.keyword,this.next(),this.finishNode(t,"Literal");case C.parenL:var l=this.start,u=this.parseParenAndDistinguishExpression(n);return e&&(e.parenthesizedAssign<0&&!this.isSimpleAssignTarget(u)&&(e.parenthesizedAssign=l),e.parenthesizedBind<0&&(e.parenthesizedBind=l)),u;case C.bracketL:return t=this.startNode(),this.next(),t.elements=this.parseExprList(C.bracketR,!0,!0,e),this.finishNode(t,"ArrayExpression");case C.braceL:return this.parseObj(!1,e);case C._function:return t=this.startNode(),this.next(),this.parseFunction(t,!1);case C._class:return this.parseClass(this.startNode(),!1);case C._new:return this.parseNew();case C.backQuote:return this.parseTemplate();default:this.unexpected()}},X.parseLiteral=function(e){var t=this.startNode();return t.value=e,t.raw=this.input.slice(this.start,this.end),this.next(),this.finishNode(t,"Literal")},X.parseParenExpression=function(){this.expect(C.parenL);var e=this.parseExpression();return this.expect(C.parenR),e},X.parseParenAndDistinguishExpression=function(e){var t,n=this.start,i=this.startLoc,r=this.options.ecmaVersion>=8;if(this.options.ecmaVersion>=6){this.next();var o,a=this.start,s=this.startLoc,l=[],u=!0,c=!1,d=new H,h=this.yieldPos,f=this.awaitPos;for(this.yieldPos=0,this.awaitPos=0;this.type!==C.parenR;){if(u?u=!1:this.expect(C.comma),r&&this.afterTrailingComma(C.parenR,!0)){c=!0;break}if(this.type===C.ellipsis){o=this.start,l.push(this.parseParenItem(this.parseRestBinding())),this.type===C.comma&&this.raise(this.start,"Comma is not permitted after the rest element");break}l.push(this.parseMaybeAssign(!1,d,this.parseParenItem))}var p=this.start,m=this.startLoc;if(this.expect(C.parenR),e&&!this.canInsertSemicolon()&&this.eat(C.arrow))return this.checkPatternErrors(d,!1),this.checkYieldAwaitInDefaultParams(),this.yieldPos=h,this.awaitPos=f,this.parseParenArrowList(n,i,l);l.length&&!c||this.unexpected(this.lastTokStart),o&&this.unexpected(o),this.checkExpressionErrors(d,!0),this.yieldPos=h||this.yieldPos,this.awaitPos=f||this.awaitPos,l.length>1?((t=this.startNodeAt(a,s)).expressions=l,this.finishNodeAt(t,"SequenceExpression",p,m)):t=l[0]}else t=this.parseParenExpression();if(this.options.preserveParens){var g=this.startNodeAt(n,i);return g.expression=t,this.finishNode(g,"ParenthesizedExpression")}return t},X.parseParenItem=function(e){return e},X.parseParenArrowList=function(e,t,n){return this.parseArrowExpression(this.startNodeAt(e,t),n)};var Y=[];X.parseNew=function(){var e=this.startNode(),t=this.parseIdent(!0);if(this.options.ecmaVersion>=6&&this.eat(C.dot)){e.meta=t;var n=this.containsEsc;return e.property=this.parseIdent(!0),("target"!==e.property.name||n)&&this.raiseRecoverable(e.property.start,"The only valid meta property for new is new.target"),this.inFunction||this.raiseRecoverable(e.start,"new.target can only be used in functions"),this.finishNode(e,"MetaProperty")}var i=this.start,r=this.startLoc;return e.callee=this.parseSubscripts(this.parseExprAtom(),i,r,!0),this.eat(C.parenL)?e.arguments=this.parseExprList(C.parenR,this.options.ecmaVersion>=8,!1):e.arguments=Y,this.finishNode(e,"NewExpression")},X.parseTemplateElement=function(e){var t=e.isTagged,n=this.startNode();return this.type===C.invalidTemplate?(t||this.raiseRecoverable(this.start,"Bad escape sequence in untagged template literal"),n.value={raw:this.value,cooked:null}):n.value={raw:this.input.slice(this.start,this.end).replace(/\r\n?/g,"\n"),cooked:this.value},this.next(),n.tail=this.type===C.backQuote,this.finishNode(n,"TemplateElement")},X.parseTemplate=function(e){void 0===e&&(e={});var t=e.isTagged;void 0===t&&(t=!1);var n=this.startNode();this.next(),n.expressions=[];var i=this.parseTemplateElement({isTagged:t});for(n.quasis=[i];!i.tail;)this.expect(C.dollarBraceL),n.expressions.push(this.parseExpression()),this.expect(C.braceR),n.quasis.push(i=this.parseTemplateElement({isTagged:t}));return this.next(),this.finishNode(n,"TemplateLiteral")},X.isAsyncProp=function(e){return!e.computed&&"Identifier"===e.key.type&&"async"===e.key.name&&(this.type===C.name||this.type===C.num||this.type===C.string||this.type===C.bracketL||this.type.keyword||this.options.ecmaVersion>=9&&this.type===C.star)&&!x.test(this.input.slice(this.lastTokEnd,this.start))},X.parseObj=function(e,t){var n=this.startNode(),i=!0,r={};for(n.properties=[],this.next();!this.eat(C.braceR);){if(i)i=!1;else if(this.expect(C.comma),this.afterTrailingComma(C.braceR))break;var o=this.parseProperty(e,t);e||this.checkPropClash(o,r,t),n.properties.push(o)}return this.finishNode(n,e?"ObjectPattern":"ObjectExpression")},X.parseProperty=function(e,t){var n,i,r,o,a=this.startNode();if(this.options.ecmaVersion>=9&&this.eat(C.ellipsis))return e?(a.argument=this.parseIdent(!1),this.type===C.comma&&this.raise(this.start,"Comma is not permitted after the rest element"),this.finishNode(a,"RestElement")):(this.type===C.parenL&&t&&(t.parenthesizedAssign<0&&(t.parenthesizedAssign=this.start),t.parenthesizedBind<0&&(t.parenthesizedBind=this.start)),a.argument=this.parseMaybeAssign(!1,t),this.type===C.comma&&t&&t.trailingComma<0&&(t.trailingComma=this.start),this.finishNode(a,"SpreadElement"));this.options.ecmaVersion>=6&&(a.method=!1,a.shorthand=!1,(e||t)&&(r=this.start,o=this.startLoc),e||(n=this.eat(C.star)));var s=this.containsEsc;return this.parsePropertyName(a),!e&&!s&&this.options.ecmaVersion>=8&&!n&&this.isAsyncProp(a)?(i=!0,n=this.options.ecmaVersion>=9&&this.eat(C.star),this.parsePropertyName(a,t)):i=!1,this.parsePropertyValue(a,e,n,i,r,o,t,s),this.finishNode(a,"Property")},X.parsePropertyValue=function(e,t,n,i,r,o,a,s){if((n||i)&&this.type===C.colon&&this.unexpected(),this.eat(C.colon))e.value=t?this.parseMaybeDefault(this.start,this.startLoc):this.parseMaybeAssign(!1,a),e.kind="init";else if(this.options.ecmaVersion>=6&&this.type===C.parenL)t&&this.unexpected(),e.kind="init",e.method=!0,e.value=this.parseMethod(n,i);else if(t||s||!(this.options.ecmaVersion>=5)||e.computed||"Identifier"!==e.key.type||"get"!==e.key.name&&"set"!==e.key.name||this.type==C.comma||this.type==C.braceR)this.options.ecmaVersion>=6&&!e.computed&&"Identifier"===e.key.type?(this.checkUnreserved(e.key),e.kind="init",t?e.value=this.parseMaybeDefault(r,o,e.key):this.type===C.eq&&a?(a.shorthandAssign<0&&(a.shorthandAssign=this.start),e.value=this.parseMaybeDefault(r,o,e.key)):e.value=e.key,e.shorthand=!0):this.unexpected();else{(n||i)&&this.unexpected(),e.kind=e.key.name,this.parsePropertyName(e),e.value=this.parseMethod(!1);var l="get"===e.kind?0:1;if(e.value.params.length!==l){var u=e.value.start;"get"===e.kind?this.raiseRecoverable(u,"getter should have no params"):this.raiseRecoverable(u,"setter should have exactly one param")}else"set"===e.kind&&"RestElement"===e.value.params[0].type&&this.raiseRecoverable(e.value.params[0].start,"Setter cannot use rest params")}},X.parsePropertyName=function(e){if(this.options.ecmaVersion>=6){if(this.eat(C.bracketL))return e.computed=!0,e.key=this.parseMaybeAssign(),this.expect(C.bracketR),e.key;e.computed=!1}return e.key=this.type===C.num||this.type===C.string?this.parseExprAtom():this.parseIdent(!0)},X.initFunction=function(e){e.id=null,this.options.ecmaVersion>=6&&(e.generator=!1,e.expression=!1),this.options.ecmaVersion>=8&&(e.async=!1)},X.parseMethod=function(e,t){var n=this.startNode(),i=this.inGenerator,r=this.inAsync,o=this.yieldPos,a=this.awaitPos,s=this.inFunction;return this.initFunction(n),this.options.ecmaVersion>=6&&(n.generator=e),this.options.ecmaVersion>=8&&(n.async=!!t),this.inGenerator=n.generator,this.inAsync=n.async,this.yieldPos=0,this.awaitPos=0,this.inFunction=!0,this.enterFunctionScope(),this.expect(C.parenL),n.params=this.parseBindingList(C.parenR,!1,this.options.ecmaVersion>=8),this.checkYieldAwaitInDefaultParams(),this.parseFunctionBody(n,!1),this.inGenerator=i,this.inAsync=r,this.yieldPos=o,this.awaitPos=a,this.inFunction=s,this.finishNode(n,"FunctionExpression")},X.parseArrowExpression=function(e,t,n){var i=this.inGenerator,r=this.inAsync,o=this.yieldPos,a=this.awaitPos,s=this.inFunction;return this.enterFunctionScope(),this.initFunction(e),this.options.ecmaVersion>=8&&(e.async=!!n),this.inGenerator=!1,this.inAsync=e.async,this.yieldPos=0,this.awaitPos=0,this.inFunction=!0,e.params=this.toAssignableList(t,!0),this.parseFunctionBody(e,!0),this.inGenerator=i,this.inAsync=r,this.yieldPos=o,this.awaitPos=a,this.inFunction=s,this.finishNode(e,"ArrowFunctionExpression")},X.parseFunctionBody=function(e,t){var n=t&&this.type!==C.braceL,i=this.strict,r=!1;if(n)e.body=this.parseMaybeAssign(),e.expression=!0,this.checkParams(e,!1);else{var o=this.options.ecmaVersion>=7&&!this.isSimpleParamList(e.params);i&&!o||(r=this.strictDirective(this.end))&&o&&this.raiseRecoverable(e.start,"Illegal 'use strict' directive in function with non-simple parameter list");var a=this.labels;this.labels=[],r&&(this.strict=!0),this.checkParams(e,!i&&!r&&!t&&this.isSimpleParamList(e.params)),e.body=this.parseBlock(!1),e.expression=!1,this.adaptDirectivePrologue(e.body.body),this.labels=a}this.exitFunctionScope(),this.strict&&e.id&&this.checkLVal(e.id,"none"),this.strict=i},X.isSimpleParamList=function(e){for(var t=0,n=e;t<n.length;t+=1){if("Identifier"!==n[t].type)return!1}return!0},X.checkParams=function(e,t){for(var n={},i=0,r=e.params;i<r.length;i+=1){var o=r[i];this.checkLVal(o,"var",t?null:n)}},X.parseExprList=function(e,t,n,i){for(var r=[],o=!0;!this.eat(e);){if(o)o=!1;else if(this.expect(C.comma),t&&this.afterTrailingComma(e))break;var a=void 0;n&&this.type===C.comma?a=null:this.type===C.ellipsis?(a=this.parseSpread(i),i&&this.type===C.comma&&i.trailingComma<0&&(i.trailingComma=this.start)):a=this.parseMaybeAssign(!1,i),r.push(a)}return r},X.checkUnreserved=function(e){var t=e.start,n=e.end,i=e.name;(this.inGenerator&&"yield"===i&&this.raiseRecoverable(t,"Can not use 'yield' as identifier inside a generator"),this.inAsync&&"await"===i&&this.raiseRecoverable(t,"Can not use 'await' as identifier inside an async function"),this.isKeyword(i)&&this.raise(t,"Unexpected keyword '"+i+"'"),this.options.ecmaVersion<6&&-1!=this.input.slice(t,n).indexOf("\\"))||(this.strict?this.reservedWordsStrict:this.reservedWords).test(i)&&(this.inAsync||"await"!==i||this.raiseRecoverable(t,"Can not use keyword 'await' outside an async function"),this.raiseRecoverable(t,"The keyword '"+i+"' is reserved"))},X.parseIdent=function(e,t){var n=this.startNode();return e&&"never"==this.options.allowReserved&&(e=!1),this.type===C.name?n.name=this.value:this.type.keyword?(n.name=this.type.keyword,"class"!==n.name&&"function"!==n.name||this.lastTokEnd===this.lastTokStart+1&&46===this.input.charCodeAt(this.lastTokStart)||this.context.pop()):this.unexpected(),this.next(),this.finishNode(n,"Identifier"),e||this.checkUnreserved(n),n},X.parseYield=function(){this.yieldPos||(this.yieldPos=this.start);var e=this.startNode();return this.next(),this.type==C.semi||this.canInsertSemicolon()||this.type!=C.star&&!this.type.startsExpr?(e.delegate=!1,e.argument=null):(e.delegate=this.eat(C.star),e.argument=this.parseMaybeAssign()),this.finishNode(e,"YieldExpression")},X.parseAwait=function(){this.awaitPos||(this.awaitPos=this.start);var e=this.startNode();return this.next(),e.argument=this.parseMaybeUnary(null,!0),this.finishNode(e,"AwaitExpression")};var Q=N.prototype;Q.raise=function(e,t){var n=B(this.input,e);t+=" ("+n.line+":"+n.column+")";var i=new SyntaxError(t);throw i.pos=e,i.loc=n,i.raisedAt=this.pos,i},Q.raiseRecoverable=Q.raise,Q.curPosition=function(){if(this.options.locations)return new A(this.curLine,this.pos-this.lineStart)};var J=N.prototype,$=Object.assign||function(e){for(var t=[],n=arguments.length-1;n-- >0;)t[n]=arguments[n+1];for(var i=0,r=t;i<r.length;i+=1){var o=r[i];for(var a in o)P(o,a)&&(e[a]=o[a])}return e};J.enterFunctionScope=function(){this.scopeStack.push({var:{},lexical:{},childVar:{},parentLexical:{}})},J.exitFunctionScope=function(){this.scopeStack.pop()},J.enterLexicalScope=function(){var e=this.scopeStack[this.scopeStack.length-1],t={var:{},lexical:{},childVar:{},parentLexical:{}};this.scopeStack.push(t),$(t.parentLexical,e.lexical,e.parentLexical)},J.exitLexicalScope=function(){var e=this.scopeStack.pop(),t=this.scopeStack[this.scopeStack.length-1];$(t.childVar,e.var,e.childVar)},J.canDeclareVarName=function(e){var t=this.scopeStack[this.scopeStack.length-1];return!P(t.lexical,e)&&!P(t.parentLexical,e)},J.canDeclareLexicalName=function(e){var t=this.scopeStack[this.scopeStack.length-1];return!P(t.lexical,e)&&!P(t.var,e)&&!P(t.childVar,e)},J.declareVarName=function(e){this.scopeStack[this.scopeStack.length-1].var[e]=!0},J.declareLexicalName=function(e){this.scopeStack[this.scopeStack.length-1].lexical[e]=!0};var ee=function(e,t,n){this.type="",this.start=t,this.end=0,e.options.locations&&(this.loc=new R(e,n)),e.options.directSourceFile&&(this.sourceFile=e.options.directSourceFile),e.options.ranges&&(this.range=[t,0])},te=N.prototype;function ne(e,t,n,i){return e.type=t,e.end=n,this.options.locations&&(e.loc.end=i),this.options.ranges&&(e.range[1]=n),e}te.startNode=function(){return new ee(this,this.start,this.startLoc)},te.startNodeAt=function(e,t){return new ee(this,e,t)},te.finishNode=function(e,t){return ne.call(this,e,t,this.lastTokEnd,this.lastTokEndLoc)},te.finishNodeAt=function(e,t,n,i){return ne.call(this,e,t,n,i)};var ie=function(e,t,n,i,r){this.token=e,this.isExpr=!!t,this.preserveSpace=!!n,this.override=i,this.generator=!!r},re={b_stat:new ie("{",!1),b_expr:new ie("{",!0),b_tmpl:new ie("${",!1),p_stat:new ie("(",!1),p_expr:new ie("(",!0),q_tmpl:new ie("`",!0,!0,function(e){return e.tryReadTemplateToken()}),f_stat:new ie("function",!1),f_expr:new ie("function",!0),f_expr_gen:new ie("function",!0,!1,null,!0),f_gen:new ie("function",!1,!1,null,!0)},oe=N.prototype;oe.initialContext=function(){return[re.b_stat]},oe.braceIsBlock=function(e){var t=this.curContext();return t===re.f_expr||t===re.f_stat||(e!==C.colon||t!==re.b_stat&&t!==re.b_expr?e===C._return||e==C.name&&this.exprAllowed?x.test(this.input.slice(this.lastTokEnd,this.start)):e===C._else||e===C.semi||e===C.eof||e===C.parenR||e==C.arrow||(e==C.braceL?t===re.b_stat:e!=C._var&&e!=C.name&&!this.exprAllowed):!t.isExpr)},oe.inGeneratorContext=function(){for(var e=this.context.length-1;e>=1;e--){var t=this.context[e];if("function"===t.token)return t.generator}return!1},oe.updateContext=function(e){var t,n=this.type;n.keyword&&e==C.dot?this.exprAllowed=!1:(t=n.updateContext)?t.call(this,e):this.exprAllowed=n.beforeExpr},C.parenR.updateContext=C.braceR.updateContext=function(){if(1!=this.context.length){var e=this.context.pop();e===re.b_stat&&"function"===this.curContext().token&&(e=this.context.pop()),this.exprAllowed=!e.isExpr}else this.exprAllowed=!0},C.braceL.updateContext=function(e){this.context.push(this.braceIsBlock(e)?re.b_stat:re.b_expr),this.exprAllowed=!0},C.dollarBraceL.updateContext=function(){this.context.push(re.b_tmpl),this.exprAllowed=!0},C.parenL.updateContext=function(e){var t=e===C._if||e===C._for||e===C._with||e===C._while;this.context.push(t?re.p_stat:re.p_expr),this.exprAllowed=!0},C.incDec.updateContext=function(){},C._function.updateContext=C._class.updateContext=function(e){e.beforeExpr&&e!==C.semi&&e!==C._else&&(e!==C.colon&&e!==C.braceL||this.curContext()!==re.b_stat)?this.context.push(re.f_expr):this.context.push(re.f_stat),this.exprAllowed=!1},C.backQuote.updateContext=function(){this.curContext()===re.q_tmpl?this.context.pop():this.context.push(re.q_tmpl),this.exprAllowed=!1},C.star.updateContext=function(e){if(e==C._function){var t=this.context.length-1;this.context[t]===re.f_expr?this.context[t]=re.f_expr_gen:this.context[t]=re.f_gen}this.exprAllowed=!0},C.name.updateContext=function(e){var t=!1;this.options.ecmaVersion>=6&&("of"==this.value&&!this.exprAllowed||"yield"==this.value&&this.inGeneratorContext())&&(t=!0),this.exprAllowed=t};var ae={$LONE:["ASCII","ASCII_Hex_Digit","AHex","Alphabetic","Alpha","Any","Assigned","Bidi_Control","Bidi_C","Bidi_Mirrored","Bidi_M","Case_Ignorable","CI","Cased","Changes_When_Casefolded","CWCF","Changes_When_Casemapped","CWCM","Changes_When_Lowercased","CWL","Changes_When_NFKC_Casefolded","CWKCF","Changes_When_Titlecased","CWT","Changes_When_Uppercased","CWU","Dash","Default_Ignorable_Code_Point","DI","Deprecated","Dep","Diacritic","Dia","Emoji","Emoji_Component","Emoji_Modifier","Emoji_Modifier_Base","Emoji_Presentation","Extender","Ext","Grapheme_Base","Gr_Base","Grapheme_Extend","Gr_Ext","Hex_Digit","Hex","IDS_Binary_Operator","IDSB","IDS_Trinary_Operator","IDST","ID_Continue","IDC","ID_Start","IDS","Ideographic","Ideo","Join_Control","Join_C","Logical_Order_Exception","LOE","Lowercase","Lower","Math","Noncharacter_Code_Point","NChar","Pattern_Syntax","Pat_Syn","Pattern_White_Space","Pat_WS","Quotation_Mark","QMark","Radical","Regional_Indicator","RI","Sentence_Terminal","STerm","Soft_Dotted","SD","Terminal_Punctuation","Term","Unified_Ideograph","UIdeo","Uppercase","Upper","Variation_Selector","VS","White_Space","space","XID_Continue","XIDC","XID_Start","XIDS"],General_Category:["Cased_Letter","LC","Close_Punctuation","Pe","Connector_Punctuation","Pc","Control","Cc","cntrl","Currency_Symbol","Sc","Dash_Punctuation","Pd","Decimal_Number","Nd","digit","Enclosing_Mark","Me","Final_Punctuation","Pf","Format","Cf","Initial_Punctuation","Pi","Letter","L","Letter_Number","Nl","Line_Separator","Zl","Lowercase_Letter","Ll","Mark","M","Combining_Mark","Math_Symbol","Sm","Modifier_Letter","Lm","Modifier_Symbol","Sk","Nonspacing_Mark","Mn","Number","N","Open_Punctuation","Ps","Other","C","Other_Letter","Lo","Other_Number","No","Other_Punctuation","Po","Other_Symbol","So","Paragraph_Separator","Zp","Private_Use","Co","Punctuation","P","punct","Separator","Z","Space_Separator","Zs","Spacing_Mark","Mc","Surrogate","Cs","Symbol","S","Titlecase_Letter","Lt","Unassigned","Cn","Uppercase_Letter","Lu"],Script:["Adlam","Adlm","Ahom","Anatolian_Hieroglyphs","Hluw","Arabic","Arab","Armenian","Armn","Avestan","Avst","Balinese","Bali","Bamum","Bamu","Bassa_Vah","Bass","Batak","Batk","Bengali","Beng","Bhaiksuki","Bhks","Bopomofo","Bopo","Brahmi","Brah","Braille","Brai","Buginese","Bugi","Buhid","Buhd","Canadian_Aboriginal","Cans","Carian","Cari","Caucasian_Albanian","Aghb","Chakma","Cakm","Cham","Cherokee","Cher","Common","Zyyy","Coptic","Copt","Qaac","Cuneiform","Xsux","Cypriot","Cprt","Cyrillic","Cyrl","Deseret","Dsrt","Devanagari","Deva","Duployan","Dupl","Egyptian_Hieroglyphs","Egyp","Elbasan","Elba","Ethiopic","Ethi","Georgian","Geor","Glagolitic","Glag","Gothic","Goth","Grantha","Gran","Greek","Grek","Gujarati","Gujr","Gurmukhi","Guru","Han","Hani","Hangul","Hang","Hanunoo","Hano","Hatran","Hatr","Hebrew","Hebr","Hiragana","Hira","Imperial_Aramaic","Armi","Inherited","Zinh","Qaai","Inscriptional_Pahlavi","Phli","Inscriptional_Parthian","Prti","Javanese","Java","Kaithi","Kthi","Kannada","Knda","Katakana","Kana","Kayah_Li","Kali","Kharoshthi","Khar","Khmer","Khmr","Khojki","Khoj","Khudawadi","Sind","Lao","Laoo","Latin","Latn","Lepcha","Lepc","Limbu","Limb","Linear_A","Lina","Linear_B","Linb","Lisu","Lycian","Lyci","Lydian","Lydi","Mahajani","Mahj","Malayalam","Mlym","Mandaic","Mand","Manichaean","Mani","Marchen","Marc","Masaram_Gondi","Gonm","Meetei_Mayek","Mtei","Mende_Kikakui","Mend","Meroitic_Cursive","Merc","Meroitic_Hieroglyphs","Mero","Miao","Plrd","Modi","Mongolian","Mong","Mro","Mroo","Multani","Mult","Myanmar","Mymr","Nabataean","Nbat","New_Tai_Lue","Talu","Newa","Nko","Nkoo","Nushu","Nshu","Ogham","Ogam","Ol_Chiki","Olck","Old_Hungarian","Hung","Old_Italic","Ital","Old_North_Arabian","Narb","Old_Permic","Perm","Old_Persian","Xpeo","Old_South_Arabian","Sarb","Old_Turkic","Orkh","Oriya","Orya","Osage","Osge","Osmanya","Osma","Pahawh_Hmong","Hmng","Palmyrene","Palm","Pau_Cin_Hau","Pauc","Phags_Pa","Phag","Phoenician","Phnx","Psalter_Pahlavi","Phlp","Rejang","Rjng","Runic","Runr","Samaritan","Samr","Saurashtra","Saur","Sharada","Shrd","Shavian","Shaw","Siddham","Sidd","SignWriting","Sgnw","Sinhala","Sinh","Sora_Sompeng","Sora","Soyombo","Soyo","Sundanese","Sund","Syloti_Nagri","Sylo","Syriac","Syrc","Tagalog","Tglg","Tagbanwa","Tagb","Tai_Le","Tale","Tai_Tham","Lana","Tai_Viet","Tavt","Takri","Takr","Tamil","Taml","Tangut","Tang","Telugu","Telu","Thaana","Thaa","Thai","Tibetan","Tibt","Tifinagh","Tfng","Tirhuta","Tirh","Ugaritic","Ugar","Vai","Vaii","Warang_Citi","Wara","Yi","Yiii","Zanabazar_Square","Zanb"]};Array.prototype.push.apply(ae.$LONE,ae.General_Category),ae.gc=ae.General_Category,ae.sc=ae.Script_Extensions=ae.scx=ae.Script;var se=N.prototype,le=function(e){this.parser=e,this.validFlags="gim"+(e.options.ecmaVersion>=6?"uy":"")+(e.options.ecmaVersion>=9?"s":""),this.source="",this.flags="",this.start=0,this.switchU=!1,this.switchN=!1,this.pos=0,this.lastIntValue=0,this.lastStringValue="",this.lastAssertionIsQuantifiable=!1,this.numCapturingParens=0,this.maxBackReference=0,this.groupNames=[],this.backReferenceNames=[]};function ue(e){return e<=65535?String.fromCharCode(e):(e-=65536,String.fromCharCode(55296+(e>>10),56320+(1023&e)))}function ce(e){return 36===e||e>=40&&e<=43||46===e||63===e||e>=91&&e<=94||e>=123&&e<=125}function de(e){return e>=65&&e<=90||e>=97&&e<=122}function he(e){return de(e)||95===e}function fe(e){return he(e)||pe(e)}function pe(e){return e>=48&&e<=57}function me(e){return e>=48&&e<=57||e>=65&&e<=70||e>=97&&e<=102}function ge(e){return e>=65&&e<=70?e-65+10:e>=97&&e<=102?e-97+10:e-48}function ve(e){return e>=48&&e<=55}le.prototype.reset=function(e,t,n){var i=-1!==n.indexOf("u");this.start=0|e,this.source=t+"",this.flags=n,this.switchU=i&&this.parser.options.ecmaVersion>=6,this.switchN=i&&this.parser.options.ecmaVersion>=9},le.prototype.raise=function(e){this.parser.raiseRecoverable(this.start,"Invalid regular expression: /"+this.source+"/: "+e)},le.prototype.at=function(e){var t=this.source,n=t.length;if(e>=n)return-1;var i=t.charCodeAt(e);return!this.switchU||i<=55295||i>=57344||e+1>=n?i:(i<<10)+t.charCodeAt(e+1)-56613888},le.prototype.nextIndex=function(e){var t=this.source,n=t.length;if(e>=n)return n;var i=t.charCodeAt(e);return!this.switchU||i<=55295||i>=57344||e+1>=n?e+1:e+2},le.prototype.current=function(){return this.at(this.pos)},le.prototype.lookahead=function(){return this.at(this.nextIndex(this.pos))},le.prototype.advance=function(){this.pos=this.nextIndex(this.pos)},le.prototype.eat=function(e){return this.current()===e&&(this.advance(),!0)},se.validateRegExpFlags=function(e){for(var t=e.validFlags,n=e.flags,i=0;i<n.length;i++){var r=n.charAt(i);-1==t.indexOf(r)&&this.raise(e.start,"Invalid regular expression flag"),n.indexOf(r,i+1)>-1&&this.raise(e.start,"Duplicate regular expression flag")}},se.validateRegExpPattern=function(e){this.regexp_pattern(e),!e.switchN&&this.options.ecmaVersion>=9&&e.groupNames.length>0&&(e.switchN=!0,this.regexp_pattern(e))},se.regexp_pattern=function(e){e.pos=0,e.lastIntValue=0,e.lastStringValue="",e.lastAssertionIsQuantifiable=!1,e.numCapturingParens=0,e.maxBackReference=0,e.groupNames.length=0,e.backReferenceNames.length=0,this.regexp_disjunction(e),e.pos!==e.source.length&&(e.eat(41)&&e.raise("Unmatched ')'"),(e.eat(93)||e.eat(125))&&e.raise("Lone quantifier brackets")),e.maxBackReference>e.numCapturingParens&&e.raise("Invalid escape");for(var t=0,n=e.backReferenceNames;t<n.length;t+=1){var i=n[t];-1===e.groupNames.indexOf(i)&&e.raise("Invalid named capture referenced")}},se.regexp_disjunction=function(e){for(this.regexp_alternative(e);e.eat(124);)this.regexp_alternative(e);this.regexp_eatQuantifier(e,!0)&&e.raise("Nothing to repeat"),e.eat(123)&&e.raise("Lone quantifier brackets")},se.regexp_alternative=function(e){for(;e.pos<e.source.length&&this.regexp_eatTerm(e););},se.regexp_eatTerm=function(e){return this.regexp_eatAssertion(e)?(e.lastAssertionIsQuantifiable&&this.regexp_eatQuantifier(e)&&e.switchU&&e.raise("Invalid quantifier"),!0):!(e.switchU?!this.regexp_eatAtom(e):!this.regexp_eatExtendedAtom(e))&&(this.regexp_eatQuantifier(e),!0)},se.regexp_eatAssertion=function(e){var t=e.pos;if(e.lastAssertionIsQuantifiable=!1,e.eat(94)||e.eat(36))return!0;if(e.eat(92)){if(e.eat(66)||e.eat(98))return!0;e.pos=t}if(e.eat(40)&&e.eat(63)){var n=!1;if(this.options.ecmaVersion>=9&&(n=e.eat(60)),e.eat(61)||e.eat(33))return this.regexp_disjunction(e),e.eat(41)||e.raise("Unterminated group"),e.lastAssertionIsQuantifiable=!n,!0}return e.pos=t,!1},se.regexp_eatQuantifier=function(e,t){return void 0===t&&(t=!1),!!this.regexp_eatQuantifierPrefix(e,t)&&(e.eat(63),!0)},se.regexp_eatQuantifierPrefix=function(e,t){return e.eat(42)||e.eat(43)||e.eat(63)||this.regexp_eatBracedQuantifier(e,t)},se.regexp_eatBracedQuantifier=function(e,t){var n=e.pos;if(e.eat(123)){var i=0,r=-1;if(this.regexp_eatDecimalDigits(e)&&(i=e.lastIntValue,e.eat(44)&&this.regexp_eatDecimalDigits(e)&&(r=e.lastIntValue),e.eat(125)))return-1!==r&&r<i&&!t&&e.raise("numbers out of order in {} quantifier"),!0;e.switchU&&!t&&e.raise("Incomplete quantifier"),e.pos=n}return!1},se.regexp_eatAtom=function(e){return this.regexp_eatPatternCharacters(e)||e.eat(46)||this.regexp_eatReverseSolidusAtomEscape(e)||this.regexp_eatCharacterClass(e)||this.regexp_eatUncapturingGroup(e)||this.regexp_eatCapturingGroup(e)},se.regexp_eatReverseSolidusAtomEscape=function(e){var t=e.pos;if(e.eat(92)){if(this.regexp_eatAtomEscape(e))return!0;e.pos=t}return!1},se.regexp_eatUncapturingGroup=function(e){var t=e.pos;if(e.eat(40)){if(e.eat(63)&&e.eat(58)){if(this.regexp_disjunction(e),e.eat(41))return!0;e.raise("Unterminated group")}e.pos=t}return!1},se.regexp_eatCapturingGroup=function(e){if(e.eat(40)){if(this.options.ecmaVersion>=9?this.regexp_groupSpecifier(e):63===e.current()&&e.raise("Invalid group"),this.regexp_disjunction(e),e.eat(41))return e.numCapturingParens+=1,!0;e.raise("Unterminated group")}return!1},se.regexp_eatExtendedAtom=function(e){return e.eat(46)||this.regexp_eatReverseSolidusAtomEscape(e)||this.regexp_eatCharacterClass(e)||this.regexp_eatUncapturingGroup(e)||this.regexp_eatCapturingGroup(e)||this.regexp_eatInvalidBracedQuantifier(e)||this.regexp_eatExtendedPatternCharacter(e)},se.regexp_eatInvalidBracedQuantifier=function(e){return this.regexp_eatBracedQuantifier(e,!0)&&e.raise("Nothing to repeat"),!1},se.regexp_eatSyntaxCharacter=function(e){var t=e.current();return!!ce(t)&&(e.lastIntValue=t,e.advance(),!0)},se.regexp_eatPatternCharacters=function(e){for(var t=e.pos,n=0;-1!==(n=e.current())&&!ce(n);)e.advance();return e.pos!==t},se.regexp_eatExtendedPatternCharacter=function(e){var t=e.current();return!(-1===t||36===t||t>=40&&t<=43||46===t||63===t||91===t||94===t||124===t)&&(e.advance(),!0)},se.regexp_groupSpecifier=function(e){if(e.eat(63)){if(this.regexp_eatGroupName(e))return-1!==e.groupNames.indexOf(e.lastStringValue)&&e.raise("Duplicate capture group name"),void e.groupNames.push(e.lastStringValue);e.raise("Invalid group")}},se.regexp_eatGroupName=function(e){if(e.lastStringValue="",e.eat(60)){if(this.regexp_eatRegExpIdentifierName(e)&&e.eat(62))return!0;e.raise("Invalid capture group name")}return!1},se.regexp_eatRegExpIdentifierName=function(e){if(e.lastStringValue="",this.regexp_eatRegExpIdentifierStart(e)){for(e.lastStringValue+=ue(e.lastIntValue);this.regexp_eatRegExpIdentifierPart(e);)e.lastStringValue+=ue(e.lastIntValue);return!0}return!1},se.regexp_eatRegExpIdentifierStart=function(e){var t=e.pos,n=e.current();return e.advance(),92===n&&this.regexp_eatRegExpUnicodeEscapeSequence(e)&&(n=e.lastIntValue),function(e){return p(e,!0)||36===e||95===e}(n)?(e.lastIntValue=n,!0):(e.pos=t,!1)},se.regexp_eatRegExpIdentifierPart=function(e){var t=e.pos,n=e.current();return e.advance(),92===n&&this.regexp_eatRegExpUnicodeEscapeSequence(e)&&(n=e.lastIntValue),function(e){return m(e,!0)||36===e||95===e||8204===e||8205===e}(n)?(e.lastIntValue=n,!0):(e.pos=t,!1)},se.regexp_eatAtomEscape=function(e){return!!(this.regexp_eatBackReference(e)||this.regexp_eatCharacterClassEscape(e)||this.regexp_eatCharacterEscape(e)||e.switchN&&this.regexp_eatKGroupName(e))||(e.switchU&&(99===e.current()&&e.raise("Invalid unicode escape"),e.raise("Invalid escape")),!1)},se.regexp_eatBackReference=function(e){var t=e.pos;if(this.regexp_eatDecimalEscape(e)){var n=e.lastIntValue;if(e.switchU)return n>e.maxBackReference&&(e.maxBackReference=n),!0;if(n<=e.numCapturingParens)return!0;e.pos=t}return!1},se.regexp_eatKGroupName=function(e){if(e.eat(107)){if(this.regexp_eatGroupName(e))return e.backReferenceNames.push(e.lastStringValue),!0;e.raise("Invalid named reference")}return!1},se.regexp_eatCharacterEscape=function(e){return this.regexp_eatControlEscape(e)||this.regexp_eatCControlLetter(e)||this.regexp_eatZero(e)||this.regexp_eatHexEscapeSequence(e)||this.regexp_eatRegExpUnicodeEscapeSequence(e)||!e.switchU&&this.regexp_eatLegacyOctalEscapeSequence(e)||this.regexp_eatIdentityEscape(e)},se.regexp_eatCControlLetter=function(e){var t=e.pos;if(e.eat(99)){if(this.regexp_eatControlLetter(e))return!0;e.pos=t}return!1},se.regexp_eatZero=function(e){return 48===e.current()&&!pe(e.lookahead())&&(e.lastIntValue=0,e.advance(),!0)},se.regexp_eatControlEscape=function(e){var t=e.current();return 116===t?(e.lastIntValue=9,e.advance(),!0):110===t?(e.lastIntValue=10,e.advance(),!0):118===t?(e.lastIntValue=11,e.advance(),!0):102===t?(e.lastIntValue=12,e.advance(),!0):114===t&&(e.lastIntValue=13,e.advance(),!0)},se.regexp_eatControlLetter=function(e){var t=e.current();return!!de(t)&&(e.lastIntValue=t%32,e.advance(),!0)},se.regexp_eatRegExpUnicodeEscapeSequence=function(e){var t,n=e.pos;if(e.eat(117)){if(this.regexp_eatFixedHexDigits(e,4)){var i=e.lastIntValue;if(e.switchU&&i>=55296&&i<=56319){var r=e.pos;if(e.eat(92)&&e.eat(117)&&this.regexp_eatFixedHexDigits(e,4)){var o=e.lastIntValue;if(o>=56320&&o<=57343)return e.lastIntValue=1024*(i-55296)+(o-56320)+65536,!0}e.pos=r,e.lastIntValue=i}return!0}if(e.switchU&&e.eat(123)&&this.regexp_eatHexDigits(e)&&e.eat(125)&&((t=e.lastIntValue)>=0&&t<=1114111))return!0;e.switchU&&e.raise("Invalid unicode escape"),e.pos=n}return!1},se.regexp_eatIdentityEscape=function(e){if(e.switchU)return!!this.regexp_eatSyntaxCharacter(e)||!!e.eat(47)&&(e.lastIntValue=47,!0);var t=e.current();return!(99===t||e.switchN&&107===t)&&(e.lastIntValue=t,e.advance(),!0)},se.regexp_eatDecimalEscape=function(e){e.lastIntValue=0;var t=e.current();if(t>=49&&t<=57){do{e.lastIntValue=10*e.lastIntValue+(t-48),e.advance()}while((t=e.current())>=48&&t<=57);return!0}return!1},se.regexp_eatCharacterClassEscape=function(e){var t=e.current();if(function(e){return 100===e||68===e||115===e||83===e||119===e||87===e}(t))return e.lastIntValue=-1,e.advance(),!0;if(e.switchU&&this.options.ecmaVersion>=9&&(80===t||112===t)){if(e.lastIntValue=-1,e.advance(),e.eat(123)&&this.regexp_eatUnicodePropertyValueExpression(e)&&e.eat(125))return!0;e.raise("Invalid property name")}return!1},se.regexp_eatUnicodePropertyValueExpression=function(e){var t=e.pos;if(this.regexp_eatUnicodePropertyName(e)&&e.eat(61)){var n=e.lastStringValue;if(this.regexp_eatUnicodePropertyValue(e)){var i=e.lastStringValue;return this.regexp_validateUnicodePropertyNameAndValue(e,n,i),!0}}if(e.pos=t,this.regexp_eatLoneUnicodePropertyNameOrValue(e)){var r=e.lastStringValue;return this.regexp_validateUnicodePropertyNameOrValue(e,r),!0}return!1},se.regexp_validateUnicodePropertyNameAndValue=function(e,t,n){ae.hasOwnProperty(t)&&-1!==ae[t].indexOf(n)||e.raise("Invalid property name")},se.regexp_validateUnicodePropertyNameOrValue=function(e,t){-1===ae.$LONE.indexOf(t)&&e.raise("Invalid property name")},se.regexp_eatUnicodePropertyName=function(e){var t=0;for(e.lastStringValue="";he(t=e.current());)e.lastStringValue+=ue(t),e.advance();return""!==e.lastStringValue},se.regexp_eatUnicodePropertyValue=function(e){var t=0;for(e.lastStringValue="";fe(t=e.current());)e.lastStringValue+=ue(t),e.advance();return""!==e.lastStringValue},se.regexp_eatLoneUnicodePropertyNameOrValue=function(e){return this.regexp_eatUnicodePropertyValue(e)},se.regexp_eatCharacterClass=function(e){if(e.eat(91)){if(e.eat(94),this.regexp_classRanges(e),e.eat(93))return!0;e.raise("Unterminated character class")}return!1},se.regexp_classRanges=function(e){for(;this.regexp_eatClassAtom(e);){var t=e.lastIntValue;if(e.eat(45)&&this.regexp_eatClassAtom(e)){var n=e.lastIntValue;!e.switchU||-1!==t&&-1!==n||e.raise("Invalid character class"),-1!==t&&-1!==n&&t>n&&e.raise("Range out of order in character class")}}},se.regexp_eatClassAtom=function(e){var t=e.pos;if(e.eat(92)){if(this.regexp_eatClassEscape(e))return!0;if(e.switchU){var n=e.current();(99===n||ve(n))&&e.raise("Invalid class escape"),e.raise("Invalid escape")}e.pos=t}var i=e.current();return 93!==i&&(e.lastIntValue=i,e.advance(),!0)},se.regexp_eatClassEscape=function(e){var t=e.pos;if(e.eat(98))return e.lastIntValue=8,!0;if(e.switchU&&e.eat(45))return e.lastIntValue=45,!0;if(!e.switchU&&e.eat(99)){if(this.regexp_eatClassControlLetter(e))return!0;e.pos=t}return this.regexp_eatCharacterClassEscape(e)||this.regexp_eatCharacterEscape(e)},se.regexp_eatClassControlLetter=function(e){var t=e.current();return!(!pe(t)&&95!==t)&&(e.lastIntValue=t%32,e.advance(),!0)},se.regexp_eatHexEscapeSequence=function(e){var t=e.pos;if(e.eat(120)){if(this.regexp_eatFixedHexDigits(e,2))return!0;e.switchU&&e.raise("Invalid escape"),e.pos=t}return!1},se.regexp_eatDecimalDigits=function(e){var t=e.pos,n=0;for(e.lastIntValue=0;pe(n=e.current());)e.lastIntValue=10*e.lastIntValue+(n-48),e.advance();return e.pos!==t},se.regexp_eatHexDigits=function(e){var t=e.pos,n=0;for(e.lastIntValue=0;me(n=e.current());)e.lastIntValue=16*e.lastIntValue+ge(n),e.advance();return e.pos!==t},se.regexp_eatLegacyOctalEscapeSequence=function(e){if(this.regexp_eatOctalDigit(e)){var t=e.lastIntValue;if(this.regexp_eatOctalDigit(e)){var n=e.lastIntValue;t<=3&&this.regexp_eatOctalDigit(e)?e.lastIntValue=64*t+8*n+e.lastIntValue:e.lastIntValue=8*t+n}else e.lastIntValue=t;return!0}return!1},se.regexp_eatOctalDigit=function(e){var t=e.current();return ve(t)?(e.lastIntValue=t-48,e.advance(),!0):(e.lastIntValue=0,!1)},se.regexp_eatFixedHexDigits=function(e,t){var n=e.pos;e.lastIntValue=0;for(var i=0;i<t;++i){var r=e.current();if(!me(r))return e.pos=n,!1;e.lastIntValue=16*e.lastIntValue+ge(r),e.advance()}return!0};var ye=function(e){this.type=e.type,this.value=e.value,this.start=e.start,this.end=e.end,e.options.locations&&(this.loc=new R(e,e.startLoc,e.endLoc)),e.options.ranges&&(this.range=[e.start,e.end])},_e=N.prototype;function be(e){return e<=65535?String.fromCharCode(e):(e-=65536,String.fromCharCode(55296+(e>>10),56320+(1023&e)))}_e.next=function(){this.options.onToken&&this.options.onToken(new ye(this)),this.lastTokEnd=this.end,this.lastTokStart=this.start,this.lastTokEndLoc=this.endLoc,this.lastTokStartLoc=this.startLoc,this.nextToken()},_e.getToken=function(){return this.next(),new ye(this)},"undefined"!=typeof Symbol&&(_e[Symbol.iterator]=function(){var e=this;return{next:function(){var t=e.getToken();return{done:t.type===C.eof,value:t}}}}),_e.curContext=function(){return this.context[this.context.length-1]},_e.nextToken=function(){var e=this.curContext();return e&&e.preserveSpace||this.skipSpace(),this.start=this.pos,this.options.locations&&(this.startLoc=this.curPosition()),this.pos>=this.input.length?this.finishToken(C.eof):e.override?e.override(this):void this.readToken(this.fullCharCodeAtPos())},_e.readToken=function(e){return p(e,this.options.ecmaVersion>=6)||92===e?this.readWord():this.getTokenFromCode(e)},_e.fullCharCodeAtPos=function(){var e=this.input.charCodeAt(this.pos);return e<=55295||e>=57344?e:(e<<10)+this.input.charCodeAt(this.pos+1)-56613888},_e.skipBlockComment=function(){var e,t=this.options.onComment&&this.curPosition(),n=this.pos,i=this.input.indexOf("*/",this.pos+=2);if(-1===i&&this.raise(this.pos-2,"Unterminated comment"),this.pos=i+2,this.options.locations)for(S.lastIndex=n;(e=S.exec(this.input))&&e.index<this.pos;)++this.curLine,this.lineStart=e.index+e[0].length;this.options.onComment&&this.options.onComment(!0,this.input.slice(n+2,i),n,this.pos,t,this.curPosition())},_e.skipLineComment=function(e){for(var t=this.pos,n=this.options.onComment&&this.curPosition(),i=this.input.charCodeAt(this.pos+=e);this.pos<this.input.length&&!k(i);)i=this.input.charCodeAt(++this.pos);this.options.onComment&&this.options.onComment(!1,this.input.slice(t+e,this.pos),t,this.pos,n,this.curPosition())},_e.skipSpace=function(){e:for(;this.pos<this.input.length;){var e=this.input.charCodeAt(this.pos);switch(e){case 32:case 160:++this.pos;break;case 13:10===this.input.charCodeAt(this.pos+1)&&++this.pos;case 10:case 8232:case 8233:++this.pos,this.options.locations&&(++this.curLine,this.lineStart=this.pos);break;case 47:switch(this.input.charCodeAt(this.pos+1)){case 42:this.skipBlockComment();break;case 47:this.skipLineComment(2);break;default:break e}break;default:if(!(e>8&&e<14||e>=5760&&E.test(String.fromCharCode(e))))break e;++this.pos}}},_e.finishToken=function(e,t){this.end=this.pos,this.options.locations&&(this.endLoc=this.curPosition());var n=this.type;this.type=e,this.value=t,this.updateContext(n)},_e.readToken_dot=function(){var e=this.input.charCodeAt(this.pos+1);if(e>=48&&e<=57)return this.readNumber(!0);var t=this.input.charCodeAt(this.pos+2);return this.options.ecmaVersion>=6&&46===e&&46===t?(this.pos+=3,this.finishToken(C.ellipsis)):(++this.pos,this.finishToken(C.dot))},_e.readToken_slash=function(){var e=this.input.charCodeAt(this.pos+1);return this.exprAllowed?(++this.pos,this.readRegexp()):61===e?this.finishOp(C.assign,2):this.finishOp(C.slash,1)},_e.readToken_mult_modulo_exp=function(e){var t=this.input.charCodeAt(this.pos+1),n=1,i=42===e?C.star:C.modulo;return this.options.ecmaVersion>=7&&42==e&&42===t&&(++n,i=C.starstar,t=this.input.charCodeAt(this.pos+2)),61===t?this.finishOp(C.assign,n+1):this.finishOp(i,n)},_e.readToken_pipe_amp=function(e){var t=this.input.charCodeAt(this.pos+1);return t===e?this.finishOp(124===e?C.logicalOR:C.logicalAND,2):61===t?this.finishOp(C.assign,2):this.finishOp(124===e?C.bitwiseOR:C.bitwiseAND,1)},_e.readToken_caret=function(){return 61===this.input.charCodeAt(this.pos+1)?this.finishOp(C.assign,2):this.finishOp(C.bitwiseXOR,1)},_e.readToken_plus_min=function(e){var t=this.input.charCodeAt(this.pos+1);return t===e?45!=t||this.inModule||62!=this.input.charCodeAt(this.pos+2)||0!==this.lastTokEnd&&!x.test(this.input.slice(this.lastTokEnd,this.pos))?this.finishOp(C.incDec,2):(this.skipLineComment(3),this.skipSpace(),this.nextToken()):61===t?this.finishOp(C.assign,2):this.finishOp(C.plusMin,1)},_e.readToken_lt_gt=function(e){var t=this.input.charCodeAt(this.pos+1),n=1;return t===e?(n=62===e&&62===this.input.charCodeAt(this.pos+2)?3:2,61===this.input.charCodeAt(this.pos+n)?this.finishOp(C.assign,n+1):this.finishOp(C.bitShift,n)):33!=t||60!=e||this.inModule||45!=this.input.charCodeAt(this.pos+2)||45!=this.input.charCodeAt(this.pos+3)?(61===t&&(n=2),this.finishOp(C.relational,n)):(this.skipLineComment(4),this.skipSpace(),this.nextToken())},_e.readToken_eq_excl=function(e){var t=this.input.charCodeAt(this.pos+1);return 61===t?this.finishOp(C.equality,61===this.input.charCodeAt(this.pos+2)?3:2):61===e&&62===t&&this.options.ecmaVersion>=6?(this.pos+=2,this.finishToken(C.arrow)):this.finishOp(61===e?C.eq:C.prefix,1)},_e.getTokenFromCode=function(e){switch(e){case 46:return this.readToken_dot();case 40:return++this.pos,this.finishToken(C.parenL);case 41:return++this.pos,this.finishToken(C.parenR);case 59:return++this.pos,this.finishToken(C.semi);case 44:return++this.pos,this.finishToken(C.comma);case 91:return++this.pos,this.finishToken(C.bracketL);case 93:return++this.pos,this.finishToken(C.bracketR);case 123:return++this.pos,this.finishToken(C.braceL);case 125:return++this.pos,this.finishToken(C.braceR);case 58:return++this.pos,this.finishToken(C.colon);case 63:return++this.pos,this.finishToken(C.question);case 96:if(this.options.ecmaVersion<6)break;return++this.pos,this.finishToken(C.backQuote);case 48:var t=this.input.charCodeAt(this.pos+1);if(120===t||88===t)return this.readRadixNumber(16);if(this.options.ecmaVersion>=6){if(111===t||79===t)return this.readRadixNumber(8);if(98===t||66===t)return this.readRadixNumber(2)}case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return this.readNumber(!1);case 34:case 39:return this.readString(e);case 47:return this.readToken_slash();case 37:case 42:return this.readToken_mult_modulo_exp(e);case 124:case 38:return this.readToken_pipe_amp(e);case 94:return this.readToken_caret();case 43:case 45:return this.readToken_plus_min(e);case 60:case 62:return this.readToken_lt_gt(e);case 61:case 33:return this.readToken_eq_excl(e);case 126:return this.finishOp(C.prefix,1)}this.raise(this.pos,"Unexpected character '"+be(e)+"'")},_e.finishOp=function(e,t){var n=this.input.slice(this.pos,this.pos+t);return this.pos+=t,this.finishToken(e,n)},_e.readRegexp=function(){for(var e,t,n=this.pos;;){this.pos>=this.input.length&&this.raise(n,"Unterminated regular expression");var i=this.input.charAt(this.pos);if(x.test(i)&&this.raise(n,"Unterminated regular expression"),e)e=!1;else{if("["===i)t=!0;else if("]"===i&&t)t=!1;else if("/"===i&&!t)break;e="\\"===i}++this.pos}var r=this.input.slice(n,this.pos);++this.pos;var o=this.pos,a=this.readWord1();this.containsEsc&&this.unexpected(o);var s=this.regexpState||(this.regexpState=new le(this));s.reset(n,r,a),this.validateRegExpFlags(s),this.validateRegExpPattern(s);var l=null;try{l=new RegExp(r,a)}catch(e){}return this.finishToken(C.regexp,{pattern:r,flags:a,value:l})},_e.readInt=function(e,t){for(var n=this.pos,i=0,r=0,o=null==t?1/0:t;r<o;++r){var a=this.input.charCodeAt(this.pos),s=void 0;if((s=a>=97?a-97+10:a>=65?a-65+10:a>=48&&a<=57?a-48:1/0)>=e)break;++this.pos,i=i*e+s}return this.pos===n||null!=t&&this.pos-n!==t?null:i},_e.readRadixNumber=function(e){this.pos+=2;var t=this.readInt(e);return null==t&&this.raise(this.start+2,"Expected number in radix "+e),p(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number"),this.finishToken(C.num,t)},_e.readNumber=function(e){var t=this.pos;e||null!==this.readInt(10)||this.raise(t,"Invalid number");var n=this.pos-t>=2&&48===this.input.charCodeAt(t);n&&this.strict&&this.raise(t,"Invalid number"),n&&/[89]/.test(this.input.slice(t,this.pos))&&(n=!1);var i=this.input.charCodeAt(this.pos);46!==i||n||(++this.pos,this.readInt(10),i=this.input.charCodeAt(this.pos)),69!==i&&101!==i||n||(43!==(i=this.input.charCodeAt(++this.pos))&&45!==i||++this.pos,null===this.readInt(10)&&this.raise(t,"Invalid number")),p(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number");var r=this.input.slice(t,this.pos),o=n?parseInt(r,8):parseFloat(r);return this.finishToken(C.num,o)},_e.readCodePoint=function(){var e;if(123===this.input.charCodeAt(this.pos)){this.options.ecmaVersion<6&&this.unexpected();var t=++this.pos;e=this.readHexChar(this.input.indexOf("}",this.pos)-this.pos),++this.pos,e>1114111&&this.invalidStringToken(t,"Code point out of bounds")}else e=this.readHexChar(4);return e},_e.readString=function(e){for(var t="",n=++this.pos;;){this.pos>=this.input.length&&this.raise(this.start,"Unterminated string constant");var i=this.input.charCodeAt(this.pos);if(i===e)break;92===i?(t+=this.input.slice(n,this.pos),t+=this.readEscapedChar(!1),n=this.pos):(k(i)&&this.raise(this.start,"Unterminated string constant"),++this.pos)}return t+=this.input.slice(n,this.pos++),this.finishToken(C.string,t)};var we={};_e.tryReadTemplateToken=function(){this.inTemplateElement=!0;try{this.readTmplToken()}catch(e){if(e!==we)throw e;this.readInvalidTemplateToken()}this.inTemplateElement=!1},_e.invalidStringToken=function(e,t){if(this.inTemplateElement&&this.options.ecmaVersion>=9)throw we;this.raise(e,t)},_e.readTmplToken=function(){for(var e="",t=this.pos;;){this.pos>=this.input.length&&this.raise(this.start,"Unterminated template");var n=this.input.charCodeAt(this.pos);if(96===n||36===n&&123===this.input.charCodeAt(this.pos+1))return this.pos!==this.start||this.type!==C.template&&this.type!==C.invalidTemplate?(e+=this.input.slice(t,this.pos),this.finishToken(C.template,e)):36===n?(this.pos+=2,this.finishToken(C.dollarBraceL)):(++this.pos,this.finishToken(C.backQuote));if(92===n)e+=this.input.slice(t,this.pos),e+=this.readEscapedChar(!0),t=this.pos;else if(k(n)){switch(e+=this.input.slice(t,this.pos),++this.pos,n){case 13:10===this.input.charCodeAt(this.pos)&&++this.pos;case 10:e+="\n";break;default:e+=String.fromCharCode(n)}this.options.locations&&(++this.curLine,this.lineStart=this.pos),t=this.pos}else++this.pos}},_e.readInvalidTemplateToken=function(){for(;this.pos<this.input.length;this.pos++)switch(this.input[this.pos]){case"\\":++this.pos;break;case"$":if("{"!==this.input[this.pos+1])break;case"`":return this.finishToken(C.invalidTemplate,this.input.slice(this.start,this.pos))}this.raise(this.start,"Unterminated template")},_e.readEscapedChar=function(e){var t=this.input.charCodeAt(++this.pos);switch(++this.pos,t){case 110:return"\n";case 114:return"\r";case 120:return String.fromCharCode(this.readHexChar(2));case 117:return be(this.readCodePoint());case 116:return"\t";case 98:return"\b";case 118:return"\v";case 102:return"\f";case 13:10===this.input.charCodeAt(this.pos)&&++this.pos;case 10:return this.options.locations&&(this.lineStart=this.pos,++this.curLine),"";default:if(t>=48&&t<=55){var n=this.input.substr(this.pos-1,3).match(/^[0-7]+/)[0],i=parseInt(n,8);return i>255&&(n=n.slice(0,-1),i=parseInt(n,8)),this.pos+=n.length-1,t=this.input.charCodeAt(this.pos),"0"===n&&56!=t&&57!=t||!this.strict&&!e||this.invalidStringToken(this.pos-1-n.length,e?"Octal literal in template string":"Octal literal in strict mode"),String.fromCharCode(i)}return String.fromCharCode(t)}},_e.readHexChar=function(e){var t=this.pos,n=this.readInt(16,e);return null===n&&this.invalidStringToken(t,"Bad character escape sequence"),n},_e.readWord1=function(){this.containsEsc=!1;for(var e="",t=!0,n=this.pos,i=this.options.ecmaVersion>=6;this.pos<this.input.length;){var r=this.fullCharCodeAtPos();if(m(r,i))this.pos+=r<=65535?1:2;else{if(92!==r)break;this.containsEsc=!0,e+=this.input.slice(n,this.pos);var o=this.pos;117!=this.input.charCodeAt(++this.pos)&&this.invalidStringToken(this.pos,"Expecting Unicode escape sequence \\uXXXX"),++this.pos;var a=this.readCodePoint();(t?p:m)(a,i)||this.invalidStringToken(o,"Invalid Unicode escape"),e+=be(a),n=this.pos}t=!1}return e+this.input.slice(n,this.pos)},_e.readWord=function(){var e=this.readWord1(),t=C.name;return this.keywords.test(e)&&(this.containsEsc&&this.raiseRecoverable(this.start,"Escape sequence in keyword "+e),t=b[e]),this.finishToken(t,e)};var Ce,xe,Se,ke="5.5.3";function Ee(e,t){return new N(t,e).parse()}function Me(e,t,n){var i=new N(n,e,t);return i.nextToken(),i.parseExpression()}function Oe(e,t){return new N(t,e)}function Te(e,t,n){Ce=e,xe=t,Se=n}},function(e,t){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=T(n(2)),o=T(n(1)),a=T(n(0)),s=T(n(264)),l=n(14),u=n(50),c=n(35),d=n(9),h=n(42),f=n(38),p=n(51),m=n(20),g=n(54),v=n(78),y=n(77),_=n(19),b=n(15),w=n(3),C=n(53),x=T(n(63)),S=T(n(4)),k=n(25),E=T(k),M=n(8),O=T(n(5));function T(e){return e&&e.__esModule?e:{default:e}}var I=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return(0,O.default)(n,["handleUpdateSvg","handleUndo","handleRedo","handleSendBackward","handleSendForward","handleSendToBack","handleSendToFront","handleGroup","handleUngroup","handleZoomIn","handleZoomOut","handleZoomReset","canRedo","canUndo","onMouseDown","setCanvas","setTextArea","startEyeDroppingLoop","stopEyeDroppingLoop"]),n.state={canvas:null,colorInfo:null},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default.Component),i(t,null,[{key:"ZOOM_INCREMENT",get:function(){return.5}}]),i(t,[{key:"componentDidMount",value:function(){var e=this;document.addEventListener("keydown",function(){e.props.textEditing}),document.addEventListener("mousedown",this.onMouseDown),document.addEventListener("touchstart",this.onMouseDown)}},{key:"componentDidUpdate",value:function(e){this.props.isEyeDropping&&!e.isEyeDropping?this.startEyeDroppingLoop():!this.props.isEyeDropping&&e.isEyeDropping&&this.stopEyeDroppingLoop(),(0,k.isVector)(this.props.format)&&(0,k.isBitmap)(e.format)?this.props.changeMode(S.default.BRUSH):(0,k.isVector)(e.format)&&(0,k.isBitmap)(this.props.format)&&this.props.changeMode(S.default.BIT_BRUSH)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.props.onKeyPress),this.stopEyeDroppingLoop(),document.removeEventListener("mousedown",this.onMouseDown),document.removeEventListener("touchstart",this.onMouseDown)}},{key:"handleUpdateSvg",value:function(e){var t=r.default.project.view.zoom,n=r.default.project.view.center.clone();(0,C.resetZoom)();var i=void 0;(0,k.isBitmap)(this.props.format)&&(0===(i=(0,g.trim)((0,m.getRaster)())).width||0===i.height?i.remove():r.default.project.activeLayer.addChild(i));var o=(0,m.hideGuideLayers)(!0);(0,b.scaleWithStrokes)(r.default.project.activeLayer,.5,new r.default.Point);var a=r.default.project.activeLayer.bounds;this.props.onUpdateSvg(r.default.project.exportSVG({asString:!0,bounds:"content",matrix:(new r.default.Matrix).translate(-a.x,-a.y)}),r.default.project.view.center.x/2-a.x,r.default.project.view.center.y/2-a.y),(0,b.scaleWithStrokes)(r.default.project.activeLayer,2,new r.default.Point),r.default.project.activeLayer.applyMatrix=!0,(0,m.showGuideLayers)(o),i&&i.remove(),e||(0,v.performSnapshot)(this.props.undoSnapshot,this.props.format),r.default.project.view.zoom=t,r.default.project.view.center=n}},{key:"handleUndo",value:function(){(0,v.performUndo)(this.props.undoState,this.props.onUndo,this.props.setSelectedItems,this.handleUpdateSvg)}},{key:"handleRedo",value:function(){(0,v.performRedo)(this.props.undoState,this.props.onRedo,this.props.setSelectedItems,this.handleUpdateSvg)}},{key:"handleGroup",value:function(){(0,_.groupSelection)(this.props.clearSelectedItems,this.props.setSelectedItems,this.handleUpdateSvg)}},{key:"handleUngroup",value:function(){(0,_.ungroupSelection)(this.props.clearSelectedItems,this.props.setSelectedItems,this.handleUpdateSvg)}},{key:"handleSendBackward",value:function(){(0,y.sendBackward)(this.handleUpdateSvg)}},{key:"handleSendForward",value:function(){(0,y.bringForward)(this.handleUpdateSvg)}},{key:"handleSendToBack",value:function(){(0,y.sendToBack)(this.handleUpdateSvg)}},{key:"handleSendToFront",value:function(){(0,y.bringToFront)(this.handleUpdateSvg)}},{key:"canUndo",value:function(){return(0,v.shouldShowUndo)(this.props.undoState)}},{key:"canRedo",value:function(){return(0,v.shouldShowRedo)(this.props.undoState)}},{key:"handleZoomIn",value:function(){(0,C.zoomOnSelection)(t.ZOOM_INCREMENT),this.props.updateViewBounds(r.default.view.matrix),this.props.setSelectedItems()}},{key:"handleZoomOut",value:function(){(0,C.zoomOnSelection)(-t.ZOOM_INCREMENT),this.props.updateViewBounds(r.default.view.matrix),this.props.setSelectedItems()}},{key:"handleZoomReset",value:function(){(0,C.resetZoom)(),this.props.updateViewBounds(r.default.view.matrix),this.props.setSelectedItems()}},{key:"setCanvas",value:function(e){this.setState({canvas:e}),this.canvas=e}},{key:"setTextArea",value:function(e){this.setState({textArea:e})}},{key:"onMouseDown",value:function(e){if(e.target===r.default.view.element&&document.activeElement instanceof HTMLInputElement&&document.activeElement.blur(),e.target!==r.default.view.element&&e.target!==this.state.textArea&&this.props.removeTextEditTarget(),this.props.isEyeDropping){var t=this.eyeDropper.colorString,n=this.props.changeColorToEyeDropper;this.eyeDropper.remove(),this.eyeDropper.hideLoupe||n(t),this.props.previousTool.activate(),this.props.onDeactivateEyeDropper(),this.stopEyeDroppingLoop(),this.setState({colorInfo:null})}}},{key:"startEyeDroppingLoop",value:function(){var e=this;this.eyeDropper=new x.default(this.canvas,r.default.project.view.bounds.width,r.default.project.view.bounds.height,r.default.project.view.pixelRatio,r.default.view.zoom,r.default.project.view.bounds.x,r.default.project.view.bounds.y),this.eyeDropper.pickX=-1,this.eyeDropper.pickY=-1,this.eyeDropper.activate(),this.intervalId=setInterval(function(){var t=e.eyeDropper.getColorInfo(e.eyeDropper.pickX,e.eyeDropper.pickY,e.eyeDropper.hideLoupe);t&&(null!==e.state.colorInfo&&e.state.colorInfo.x===t.x&&e.state.colorInfo.y===t.y||e.setState({colorInfo:t}))},30)}},{key:"stopEyeDroppingLoop",value:function(){clearInterval(this.intervalId)}},{key:"render",value:function(){return a.default.createElement(s.default,{canRedo:this.canRedo,canUndo:this.canUndo,canvas:this.state.canvas,colorInfo:this.state.colorInfo,format:this.props.format,isEyeDropping:this.props.isEyeDropping,name:this.props.name,rotationCenterX:this.props.rotationCenterX,rotationCenterY:this.props.rotationCenterY,setCanvas:this.setCanvas,setTextArea:this.setTextArea,svg:this.props.svg,svgId:this.props.svgId,textArea:this.state.textArea,onGroup:this.handleGroup,onRedo:this.handleRedo,onSendBackward:this.handleSendBackward,onSendForward:this.handleSendForward,onSendToBack:this.handleSendToBack,onSendToFront:this.handleSendToFront,onSwitchToBitmap:this.props.handleSwitchToBitmap,onSwitchToVector:this.props.handleSwitchToVector,onUndo:this.handleUndo,onUngroup:this.handleUngroup,onUpdateName:this.props.onUpdateName,onUpdateSvg:this.handleUpdateSvg,onZoomIn:this.handleZoomIn,onZoomOut:this.handleZoomOut,onZoomReset:this.handleZoomReset})}}]),t}();I.propTypes={changeColorToEyeDropper:o.default.func,changeMode:o.default.func.isRequired,clearSelectedItems:o.default.func.isRequired,format:o.default.oneOf(Object.keys(E.default)).isRequired,handleSwitchToBitmap:o.default.func.isRequired,handleSwitchToVector:o.default.func.isRequired,isEyeDropping:o.default.bool,name:o.default.string,onDeactivateEyeDropper:o.default.func.isRequired,onKeyPress:o.default.func.isRequired,onRedo:o.default.func.isRequired,onUndo:o.default.func.isRequired,onUpdateName:o.default.func.isRequired,onUpdateSvg:o.default.func.isRequired,previousTool:o.default.shape({activate:o.default.func.isRequired,remove:o.default.func.isRequired}),removeTextEditTarget:o.default.func.isRequired,rotationCenterX:o.default.number,rotationCenterY:o.default.number,setSelectedItems:o.default.func.isRequired,svg:o.default.string,svgId:o.default.string,textEditing:o.default.bool.isRequired,undoSnapshot:o.default.func.isRequired,undoState:o.default.shape({stack:o.default.arrayOf(o.default.object).isRequired,pointer:o.default.number.isRequired}),updateViewBounds:o.default.func.isRequired};t.default=(0,M.connect)(function(e){return{changeColorToEyeDropper:e.scratchPaint.color.eyeDropper.callback,clipboardItems:e.scratchPaint.clipboard.items,format:e.scratchPaint.format,isEyeDropping:e.scratchPaint.color.eyeDropper.active,pasteOffset:e.scratchPaint.clipboard.pasteOffset,previousTool:e.scratchPaint.color.eyeDropper.previousTool,selectedItems:e.scratchPaint.selectedItems,textEditing:null!==e.scratchPaint.textEditTarget,undoState:e.scratchPaint.undo}},function(e){return{onKeyPress:function(t){"e"===t.key?e((0,l.changeMode)(S.default.ERASER)):"b"===t.key?e((0,l.changeMode)(S.default.BRUSH)):"l"===t.key?e((0,l.changeMode)(S.default.LINE)):"s"===t.key?e((0,l.changeMode)(S.default.SELECT)):"w"===t.key?e((0,l.changeMode)(S.default.RESHAPE)):"f"===t.key?e((0,l.changeMode)(S.default.FILL)):"t"===t.key?e((0,l.changeMode)(S.default.TEXT)):"c"===t.key?e((0,l.changeMode)(S.default.OVAL)):"r"===t.key&&e((0,l.changeMode)(S.default.RECT))},changeMode:function(t){e((0,l.changeMode)(t))},clearSelectedItems:function(){e((0,d.clearSelectedItems)())},handleSwitchToBitmap:function(){e((0,u.changeFormat)(E.default.BITMAP))},handleSwitchToVector:function(){e((0,u.changeFormat)(E.default.VECTOR))},removeTextEditTarget:function(){e((0,f.setTextEditTarget)())},setSelectedItems:function(){e((0,d.setSelectedItems)((0,w.getSelectedLeafItems)()))},onDeactivateEyeDropper:function(){e((0,h.deactivateEyeDropper)())},onUndo:function(t){e((0,c.undo)(t))},onRedo:function(t){e((0,c.redo)(t))},undoSnapshot:function(t){e((0,c.undoSnapshot)(t))},updateViewBounds:function(t){e((0,p.updateViewBounds)(t))}}})(I)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ScratchPaintReducer=t.default=void 0;var i=a(n(272)),r=a(n(85)),o=a(n(84));function a(e){return e&&e.__esModule?e:{default:e}}var s=(0,r.default)(i.default);t.default=s,t.ScratchPaintReducer=o.default},function(e,t,n){"use strict";(function(e){var n="object"==typeof e&&e&&e.Object===Object&&e;t.a=n}).call(this,n(55))}]);